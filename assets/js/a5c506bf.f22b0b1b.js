"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[8815],{4059:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var s=n(4848),i=n(8453);const a={title:"Plataforma de cursos",sidebar_label:"Plataforma de cursos",sidebar_position:98},t="Aprende a crear una plataforma de cursos con Laravel",l={id:"00laravel/proyectos/2021-06_plataforma_cursos",title:"Plataforma de cursos",description:"+ Repositorio//github.com/petrix12/PlataformaDeCursosLaravel",source:"@site/docs/00laravel/proyectos/2021-06_plataforma_cursos.md",sourceDirName:"00laravel/proyectos",slug:"/00laravel/proyectos/2021-06_plataforma_cursos",permalink:"/documentos2024/docs/00laravel/proyectos/2021-06_plataforma_cursos",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/00laravel/proyectos/2021-06_plataforma_cursos.md",tags:[],version:"current",sidebarPosition:98,frontMatter:{title:"Plataforma de cursos",sidebar_label:"Plataforma de cursos",sidebar_position:98},sidebar:"tutorialSidebar",previous:{title:"Proyectos Laravel",permalink:"/documentos2024/docs/category/proyectos-laravel"},next:{title:"Subir m\xfaltiples archivos",permalink:"/documentos2024/docs/00laravel/proyectos/2021-03_multiples_file"}},o={},c=[{value:"Secci\xf3n 1: Introducci\xf3n",id:"secci\xf3n-1-introducci\xf3n",level:2},{value:"Video 1. Presentaci\xf3n del curso",id:"video-1-presentaci\xf3n-del-curso",level:3},{value:"Video 2. Programas necesarios",id:"video-2-programas-necesarios",level:3},{value:"Video 3. Creaci\xf3n de un nuevo proyecto",id:"video-3-creaci\xf3n-de-un-nuevo-proyecto",level:3},{value:"Secci\xf3n 2: Dise\xf1o y creaci\xf3n de la base de datos",id:"secci\xf3n-2-dise\xf1o-y-creaci\xf3n-de-la-base-de-datos",level:2},{value:"Video 4. Dise\xf1o de la base de datos",id:"video-4-dise\xf1o-de-la-base-de-datos",level:3},{value:"Video 5. Creaci\xf3n de base de datos - Parte 1",id:"video-5-creaci\xf3n-de-base-de-datos---parte-1",level:3},{value:"Video 6. Creaci\xf3n de base de datos - Parte 2",id:"video-6-creaci\xf3n-de-base-de-datos---parte-2",level:3},{value:"Video 7. Creaci\xf3n de base de datos - Parte 3",id:"video-7-creaci\xf3n-de-base-de-datos---parte-3",level:3},{value:"Video 8. Habilitar asignaci\xf3n masiva",id:"video-8-habilitar-asignaci\xf3n-masiva",level:3},{value:"Video 9. Llenar la bbdd con datos de prueba",id:"video-9-llenar-la-bbdd-con-datos-de-prueba",level:3},{value:"Secci\xf3n 3: Frontend de la aplicaci\xf3n",id:"secci\xf3n-3-frontend-de-la-aplicaci\xf3n",level:2},{value:"Video 10. Instalar la plantilla AdminLTE",id:"video-10-instalar-la-plantilla-adminlte",level:3},{value:"Documentaci\xf3n: https://github.com/jeroennoten/Laravel-AdminLTE",id:"documentaci\xf3n-httpsgithubcomjeroennotenlaravel-adminlte",level:5},{value:"Plantilla: https://adminlte.io/themes/v3/index.html",id:"plantilla-httpsadminlteiothemesv3indexhtml",level:5},{value:"Video 11. Reutilizar la plantilla Jetstream",id:"video-11-reutilizar-la-plantilla-jetstream",level:3},{value:"Video 12. Clonar repositorio con el avance del curso",id:"video-12-clonar-repositorio-con-el-avance-del-curso",level:3},{value:"Video 13. Recuperar registros de cursos",id:"video-13-recuperar-registros-de-cursos",level:3},{value:"Video 14. Dise\xf1a el home de la plataforma",id:"video-14-dise\xf1a-el-home-de-la-plataforma",level:3},{value:"Video 15. Dise\xf1ando la vista index de cursos",id:"video-15-dise\xf1ando-la-vista-index-de-cursos",level:3},{value:"Video 16. Habilitar filtrado de cursos",id:"video-16-habilitar-filtrado-de-cursos",level:3},{value:"Video 17. Crear clases de estilos personalizadas",id:"video-17-crear-clases-de-estilos-personalizadas",level:3},{value:"Video 18. Dise\xf1ando la vista show de cursos",id:"video-18-dise\xf1ando-la-vista-show-de-cursos",level:3},{value:"Video 19. Habilitar matricula de alumnos",id:"video-19-habilitar-matricula-de-alumnos",level:3},{value:"Video 20. Habilitar el buscador de cursos",id:"video-20-habilitar-el-buscador-de-cursos",level:3},{value:"Secci\xf3n 4: Control del avance del curso",id:"secci\xf3n-4-control-del-avance-del-curso",level:2},{value:"Video 21. Componente Livewire de vista completa",id:"video-21-componente-livewire-de-vista-completa",level:3},{value:"Video 22. Recuperando informaci\xf3n que se va a mostrar",id:"video-22-recuperando-informaci\xf3n-que-se-va-a-mostrar",level:3},{value:"Video 23. Habilitar botones next y previous",id:"video-23-habilitar-botones-next-y-previous",level:3},{value:"Video 24. Dar estilos a la p\xe1gina",id:"video-24-dar-estilos-a-la-p\xe1gina",level:3},{value:"Video 25. Marcar unidad como culminada",id:"video-25-marcar-unidad-como-culminada",level:3},{value:"Video 26. Proteger rutas",id:"video-26-proteger-rutas",level:3},{value:"Secci\xf3n 5: Roles y permisos",id:"secci\xf3n-5-roles-y-permisos",level:2},{value:"Video 27. Generar las rutas de acceso para los instructores",id:"video-27-generar-las-rutas-de-acceso-para-los-instructores",level:3},{value:"Video 28. Instalar Laravel Permission",id:"video-28-instalar-laravel-permission",level:3},{value:"Video 29. Agregar permisos y preparar entorno de trabajo",id:"video-29-agregar-permisos-y-preparar-entorno-de-trabajo",level:3},{value:"Video 30. Crear un CRUD para roles",id:"video-30-crear-un-crud-para-roles",level:3},{value:"Video 31. Crear un CRUD para usuarios",id:"video-31-crear-un-crud-para-usuarios",level:3},{value:"Video 32. Restringir botones y rutas por permisos",id:"video-32-restringir-botones-y-rutas-por-permisos",level:3},{value:"Secci\xf3n 6: Instructores",id:"secci\xf3n-6-instructores",level:2},{value:"Video 33. Mostrar el listado de cursos de un instructor",id:"video-33-mostrar-el-listado-de-cursos-de-un-instructor",level:3},{value:"Video 34. Reorganizar rutas",id:"video-34-reorganizar-rutas",level:3},{value:"Video 35. Formulario para actualizar informaci\xf3n b\xe1sica de curso",id:"video-35-formulario-para-actualizar-informaci\xf3n-b\xe1sica-de-curso",level:3},{value:"Video 36. Formulario para crear un nuevo curso",id:"video-36-formulario-para-crear-un-nuevo-curso",level:3},{value:"Video 37. Crear nuevo curso",id:"video-37-crear-nuevo-curso",level:3},{value:"Video 38. Actualizar informaci\xf3n de curso",id:"video-38-actualizar-informaci\xf3n-de-curso",level:3},{value:"Video 39. Agregar regla de validaci\xf3n para las imagenes",id:"video-39-agregar-regla-de-validaci\xf3n-para-las-imagenes",level:3},{value:"Video 40. Lo que desarrollaremos",id:"video-40-lo-que-desarrollaremos",level:3},{value:"Video 41. Crear nueva plantilla para instructores",id:"video-41-crear-nueva-plantilla-para-instructores",level:3},{value:"Video 42. Agregar un crud para las secciones de un curso",id:"video-42-agregar-un-crud-para-las-secciones-de-un-curso",level:3},{value:"Video 43. Agregar un crud para las lecciones de un curso",id:"video-43-agregar-un-crud-para-las-lecciones-de-un-curso",level:3},{value:"Video 44. Agregar descripci\xf3n a una lecci\xf3n",id:"video-44-agregar-descripci\xf3n-a-una-lecci\xf3n",level:3},{value:"Video 45. Agregar recursos a un lecci\xf3n",id:"video-45-agregar-recursos-a-un-lecci\xf3n",level:3},{value:"Video 46. Peque\xf1a correcci\xf3n",id:"video-46-peque\xf1a-correcci\xf3n",level:3},{value:"Video 47. Metas del curso",id:"video-47-metas-del-curso",level:3},{value:"Video 48. Estudiantes del curso",id:"video-48-estudiantes-del-curso",level:3},{value:"Video 49. Agregar policies a los cursos",id:"video-49-agregar-policies-a-los-cursos",level:3},{value:"Secci\xf3n 7: \xc1probaci\xf3n de un curso",id:"secci\xf3n-7-\xe1probaci\xf3n-de-un-curso",level:2},{value:"Video 50. Agregar bot\xf3n que solicite aprobaci\xf3n",id:"video-50-agregar-bot\xf3n-que-solicite-aprobaci\xf3n",level:3},{value:"Video 51. Cursos pendientes de aprobaci\xf3n",id:"video-51-cursos-pendientes-de-aprobaci\xf3n",level:3},{value:"Video 52. Aprobar curso",id:"video-52-aprobar-curso",level:3},{value:"Video 53. Enviar correo de aprobaci\xf3n de curso",id:"video-53-enviar-correo-de-aprobaci\xf3n-de-curso",level:3},{value:"Video 54. Enviar coreos con Queues",id:"video-54-enviar-coreos-con-queues",level:3},{value:"Video 55. Observar cursos",id:"video-55-observar-cursos",level:3},{value:"Secci\xf3n 8: Crud pendientes",id:"secci\xf3n-8-crud-pendientes",level:2},{value:"Video 56. CRUD de categor\xedas",id:"video-56-crud-de-categor\xedas",level:3},{value:"Video 57. CRUD de niveles",id:"video-57-crud-de-niveles",level:3},{value:"Video 58. CRUD de precios",id:"video-58-crud-de-precios",level:3},{value:"Video 59. Rese\xf1as del curso",id:"video-59-rese\xf1as-del-curso",level:3},{value:"Video 60. Descargar recursos",id:"video-60-descargar-recursos",level:3},{value:"Secci\xf3n 9: Metodo de pago",id:"secci\xf3n-9-metodo-de-pago",level:2},{value:"Video 61. Parte visual",id:"video-61-parte-visual",level:3},{value:"Video 62. Gestionar pago",id:"video-62-gestionar-pago",level:3},{value:"Secci\xf3n 10: Despedida del curso",id:"secci\xf3n-10-despedida-del-curso",level:2},{value:"Video 63. Despedida del curso",id:"video-63-despedida-del-curso",level:3}];function d(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"aprende-a-crear-una-plataforma-de-cursos-con-laravel",children:"Aprende a crear una plataforma de cursos con Laravel"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Repositorio"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/petrix12/PlataformaDeCursosLaravel",children:"https://github.com/petrix12/PlataformaDeCursosLaravel"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Curso"}),": ",(0,s.jsx)(r.a,{href:"https://www.udemy.com/course/aprende-a-crear-una-plataforma-de-cursos-con-laravel/",children:"https://www.udemy.com/course/aprende-a-crear-una-plataforma-de-cursos-con-laravel/"})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-1-introducci\xf3n",children:"Secci\xf3n 1: Introducci\xf3n"}),"\n",(0,s.jsx)(r.h3,{id:"video-1-presentaci\xf3n-del-curso",children:"Video 1. Presentaci\xf3n del curso"}),"\n",(0,s.jsx)(r.h3,{id:"video-2-programas-necesarios",children:"Video 2. Programas necesarios"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"P\xe1ginas principales:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Laravel: ",(0,s.jsx)(r.a,{href:"https://laravel.com",children:"https://laravel.com"})]}),"\n",(0,s.jsxs)(r.li,{children:["XAMPP: ",(0,s.jsx)(r.a,{href:"https://www.apachefriends.org/es/index.html",children:"https://www.apachefriends.org/es/index.html"})]}),"\n",(0,s.jsxs)(r.li,{children:["Composer: ",(0,s.jsx)(r.a,{href:"https://getcomposer.org",children:"https://getcomposer.org"})]}),"\n",(0,s.jsxs)(r.li,{children:["Git: ",(0,s.jsx)(r.a,{href:"https://git-scm.com",children:"https://git-scm.com"})]}),"\n",(0,s.jsxs)(r.li,{children:["Visual Studio Code: ",(0,s.jsx)(r.a,{href:"https://code.visualstudio.com",children:"https://code.visualstudio.com"})]}),"\n",(0,s.jsxs)(r.li,{children:["Node Js: ",(0,s.jsx)(r.a,{href:"https://nodejs.org/es",children:"https://nodejs.org/es"})]}),"\n",(0,s.jsxs)(r.li,{children:["Workbench: ",(0,s.jsx)(r.a,{href:"https://dev.mysql.com/downloads/workbench",children:"https://dev.mysql.com/downloads/workbench"})]}),"\n",(0,s.jsxs)(r.li,{children:["Opci\xf3n emergente: (",(0,s.jsx)(r.a,{href:"https://www.malavida.com/es/soft/mysql-workbench/#gref",children:"https://www.malavida.com/es/soft/mysql-workbench/#gref"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Aumentar la memoria de php:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Ejecutar el panel de control de XAMPP"}),"\n",(0,s.jsxs)(r.li,{children:["Presionar ",(0,s.jsx)(r.strong,{children:"Config"})," de ",(0,s.jsx)(r.strong,{children:"Apache"})," e ir a ",(0,s.jsx)(r.strong,{children:"PHP (php.ini)"}),"\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"memory_limit=512M\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"memory_limit=-1\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-3-creaci\xf3n-de-un-nuevo-proyecto",children:"Video 3. Creaci\xf3n de un nuevo proyecto"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear nuevo proyecto:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"laravel new codersfree --jet\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Seleccionar ",(0,s.jsx)(r.strong,{children:"liwewire"})," y responder ",(0,s.jsx)(r.strong,{children:"no"})," para la pregunta de trabajar con equipos."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para cargar todos los estilos de Tailwind ejecutar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"npm install\r\nnpm run dev\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear dominio local:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Agregar el siguiente c\xf3digo al final del archivo ",(0,s.jsx)(r.strong,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"# Host virtual Plataforma de cursos Lado del cliente\r\n127.0.0.1\tcodersfree.test\n"})}),"\n",(0,s.jsx)(r.admonition,{title:"Nota",type:"warning",children:(0,s.jsx)(r.p,{children:"Editar con el block de notas en modo de administrador."})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar el siguiente c\xf3digo al final del archivo ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'# Host virtual Plataforma de cursos Lado del servidor\r\n<VirtualHost :80>\r\n    DocumentRoot "C:\\xampp\\htdocs\\cursos\\12Cursos\\codersfree\\public"\r\n    ServerName codersfree.test\r\n    <Directory "C:\\xampp\\htdocs\\cursos\\12Cursos\\codersfree\\public">\r\n        Options All\r\n        AllowOverride All\r\n        Require all granted\r\n    </Directory>\r\n</VirtualHost>\n'})}),"\n",(0,s.jsxs)(r.admonition,{title:"Nota",type:"tip",children:[(0,s.jsxs)(r.p,{children:["En el archivo ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\httpd.conf"})," las l\xedneas:"]}),(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Include conf/extra/httpd-vhosts.conf\n"})}),(0,s.jsx)(r.p,{children:"y"}),(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"LoadModule rewrite_module modules/mod_rewrite.so\n"})}),(0,s.jsx)(r.p,{children:"no deben estar comentada con #."})]}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Reiniciar el servidor Apache."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear base de datos ",(0,s.jsx)(r.strong,{children:"codersfree"})," en MySQL."]}),"\n",(0,s.jsxs)(r.li,{children:["Hacer coincidir los par\xe1metros de base de datos y de dominio del proyecto en ",(0,s.jsx)(r.strong,{children:".env"})," en caso de ser necesario","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",children:"# ...\r\nAPP_URL=http://codersfree.test\r\n# ...\r\nDB_CONNECTION=mysql\r\nDB_HOST=127.0.0.1\r\nDB_PORT=3306\r\nDB_DATABASE=codersfree\r\nDB_USERNAME=root\r\nDB_PASSWORD=\r\n# ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar ",(0,s.jsx)(r.strong,{children:"config\\filesystems.php"}),"\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'default' => env('FILESYSTEM_DRIVER', 'local'),\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'default' => env('FILESYSTEM_DRIVER', 'public'),\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Descomentar en ",(0,s.jsx)(r.strong,{children:"config\\jetstream.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Features::profilePhotos(),\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar migraciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-2-dise\xf1o-y-creaci\xf3n-de-la-base-de-datos",children:"Secci\xf3n 2: Dise\xf1o y creaci\xf3n de la base de datos"}),"\n",(0,s.jsx)(r.h3,{id:"video-4-dise\xf1o-de-la-base-de-datos",children:"Video 4. Dise\xf1o de la base de datos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear ",(0,s.jsx)(r.strong,{children:"cursos.mwb"})," en la carpeta ",(0,s.jsx)(r.strong,{children:"000 Soportes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir ",(0,s.jsx)(r.strong,{children:"MySQL Workbench"})]}),"\n",(0,s.jsx)(r.li,{children:"Dar clic en el icono de tablas relacionadas."}),"\n",(0,s.jsx)(r.li,{children:'A\xf1adir un modelo dando clic en "+".'}),"\n",(0,s.jsx)(r.li,{children:"A\xf1adir un diagrama."}),"\n",(0,s.jsxs)(r.li,{children:["Guardar el diagrama como ",(0,s.jsx)(r.strong,{children:"000 Soportes\\cursos.mwb"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"users"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"users"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45), NN."}),"\n",(0,s.jsx)(r.li,{children:"email: VARCHAR(45), NN."}),"\n",(0,s.jsx)(r.li,{children:"password: VARCHAR(45), NN."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"profiles"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"profiles"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"title: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"biography: TEXT(1000)."}),"\n",(0,s.jsx)(r.li,{children:"website: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"facebook: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"lnkedin: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"youtube: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"users"})," con tabla ",(0,s.jsx)(r.strong,{children:"profiles"})," (Relaci\xf3n 1:1)","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1:1 y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"profiles"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"courses"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"courses"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"title: VARCHAR(45), NN."}),"\n",(0,s.jsx)(r.li,{children:"subtitle: VARCHAR(45), NN."}),"\n",(0,s.jsx)(r.li,{children:"description: VARCHAR(45), NN."}),"\n",(0,s.jsx)(r.li,{children:"status: INT, NN."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"users"})," con tabla ",(0,s.jsx)(r.strong,{children:"courses"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"courses"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla pivote entre ",(0,s.jsx)(r.strong,{children:"courses"})," y ",(0,s.jsx)(r.strong,{children:"users"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"course_user"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"users"})," con tabla ",(0,s.jsx)(r.strong,{children:"course_user"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"course_user"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"courses"})," con tabla ",(0,s.jsx)(r.strong,{children:"course_user"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"course_user"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"reviews"})," (Calificaciones de los cursos):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"reviews"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"comment: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"rating: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"users"})," con tabla ",(0,s.jsx)(r.strong,{children:"reviews"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"reviews"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"courses"})," con tabla ",(0,s.jsx)(r.strong,{children:"reviews"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"reviews"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"levels"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"levels"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"levels"})," con tabla ",(0,s.jsx)(r.strong,{children:"courses"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"courses"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"categories"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"categories"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"categories"})," con tabla ",(0,s.jsx)(r.strong,{children:"courses"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"courses"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"prices"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"prices"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"value: INT."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"prices"})," con tabla ",(0,s.jsx)(r.strong,{children:"courses"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"courses"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"goals"})," (Metas del curso):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"goals"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"courses"})," con tabla ",(0,s.jsx)(r.strong,{children:"goals"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"goals"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"requirements"})," (Requerimientos del curso):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"requirements"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"courses"})," con tabla ",(0,s.jsx)(r.strong,{children:"requirements"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"requirements"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"audiences"})," (Tipo de audiencia del curso):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"requirements"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"courses"})," con tabla ",(0,s.jsx)(r.strong,{children:"audiences"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"audiences"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"sections"})," (Secciones de los curso):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"sections"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"courses"})," con tabla ",(0,s.jsx)(r.strong,{children:"sections"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"sections"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"lessons"})," (Lecciones por secci\xf3n):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"lessons"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"url: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"iframe: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"sections"})," con tabla ",(0,s.jsx)(r.strong,{children:"lessons"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"lessons"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"platforms"})," (Lecciones por secci\xf3n):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"platforms"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"platforms"})," con tabla ",(0,s.jsx)(r.strong,{children:"lessons"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"lessons"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"descriptions"})," (Descripci\xf3n de la lecci\xf3n):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"descriptions"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"lessons"})," con tabla ",(0,s.jsx)(r.strong,{children:"descriptions"})," (Relaci\xf3n 1:1)","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1:1 y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"descriptions"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"resources"})," (Recursos de la lecci\xf3n):","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"resources"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"url: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"resourceable_id: INT."}),"\n",(0,s.jsx)(r.li,{children:"resourceable_type: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla pivote entre ",(0,s.jsx)(r.strong,{children:"lesson"})," y ",(0,s.jsx)(r.strong,{children:"users"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"lesson_user"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"users"})," con tabla ",(0,s.jsx)(r.strong,{children:"lesson_user"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"lesson_user"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"lesson"})," con tabla ",(0,s.jsx)(r.strong,{children:"lesson_user"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"lesson_user"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"comments"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"comments"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"name: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"commentable_id: INT."}),"\n",(0,s.jsx)(r.li,{children:"commentable_type: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"users"})," con tabla ",(0,s.jsx)(r.strong,{children:"comments"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"comments"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"likes"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"likes"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"value: INT."}),"\n",(0,s.jsx)(r.li,{children:"likeable_id: INT."}),"\n",(0,s.jsx)(r.li,{children:"likeable_type: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relacionar tabla ",(0,s.jsx)(r.strong,{children:"users"})," con tabla ",(0,s.jsx)(r.strong,{children:"likes"})," (Relaci\xf3n 1",":n",")","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en icono de relaci\xf3n 1",":n"," y luego seleccionar primero la tabla ",(0,s.jsx)(r.strong,{children:"likes"})," que es donde se debe crear la llave foranea."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar tabla ",(0,s.jsx)(r.strong,{children:"images"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"images"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id: INT, PK, NN."}),"\n",(0,s.jsx)(r.li,{children:"url: VARCHAR(45)."}),"\n",(0,s.jsx)(r.li,{children:"imageable_id: INT."}),"\n",(0,s.jsx)(r.li,{children:"imageable_type: VARCHAR(45)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Para seguir las convenciones de Laravel cambiar el nombre de todas las llaves foraneas a singular."}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-5-creaci\xf3n-de-base-de-datos---parte-1",children:"Video 5. Creaci\xf3n de base de datos - Parte 1"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear modelo y migraci\xf3n Level:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Level -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campo ",(0,s.jsx)(r.strong,{children:"name"})," a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Level"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_17_121231_create_levels_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_17_121231_create_levels_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('levels', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo y migraci\xf3n Category:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Category -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campo ",(0,s.jsx)(r.strong,{children:"name"})," a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Category"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_17_121841_create_categories_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_17_121841_create_categories_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('categories', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo y migraci\xf3n Price:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Price -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos ",(0,s.jsx)(r.strong,{children:"name"})," y ",(0,s.jsx)(r.strong,{children:"value"})," a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Price"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_17_122207_create_prices_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_17_122207_create_prices_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('prices', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->float('value');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo y migraci\xf3n Course:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Course -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir constantes relacionadas con el campo ",(0,s.jsx)(r.strong,{children:"status"})," del modelo ",(0,s.jsx)(r.strong,{children:"Course"})," en ",(0,s.jsx)(r.strong,{children:"app\\Models\\Course.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    use HasFactory;\r\n\r\n    const BORRADOR = 1;\r\n    const REVISION = 2;\r\n    coNst PUBLICADO = 3;\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos y restricciones de llaves foraneas a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Course"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_17_122742_create_courses_table.php"})," y agregar llamada al modelo ",(0,s.jsx)(r.strong,{children:"Course"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_17_122742_create_courses_table.php"',children:"// ...\r\nuse App\\Models\\Course;\r\n// ...\r\nclass CreateCoursesTable extends Migration\r\n{\r\n    // ...\r\n    public function up()\r\n    {\r\n        Schema::create('courses', function (Blueprint $table) {\r\n            $table->id();\r\n            $table->string('title');\r\n            $table->string('subtitle');\r\n            $table->text('description');\r\n            $table->enum('status', [Course::BORRADOR,Course::REVISION,Course::PUBLICADO])->default(Course::BORRADOR);\r\n            $table->string('slug');\r\n            $table->unsignedBigInteger('user_id');\r\n            $table->unsignedBigInteger('level_id')->nullable();\r\n            $table->unsignedBigInteger('category_id')->nullable();\r\n            $table->unsignedBigInteger('price_id')->nullable();\r\n            $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\r\n            $table->foreign('level_id')->references('id')->on('levels')->onDelete('set null');\r\n            $table->foreign('category_id')->references('id')->on('categories')->onDelete('set null');\r\n            $table->foreign('price_id')->references('id')->on('prices')->onDelete('set null');\r\n            $table->timestamps();\r\n        });\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear migraci\xf3n para tabla pivote ",(0,s.jsx)(r.strong,{children:"course_user"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:migration create_course_user_table\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos para las llaves foraneas y sus restricciones a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"course_user"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_17_133630_create_course_user_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_17_133630_create_course_user_table.php"',children:"public function up()\r\n{\r\n    Schema::create('course_user', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->unsignedBigInteger('course_id');\r\n        $table->unsignedBigInteger('user_id');\r\n        $table->foreign('course_id')->references('id')->on('courses')->onDelete('cascade');\r\n        $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo y migraci\xf3n Review:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Review -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos, llaves foraneas y restricciones a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Review"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_17_134806_create_reviews_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_17_134806_create_reviews_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('reviews', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->text('comment');\r\n        $table->integer('rating');\r\n        $table->unsignedBigInteger('user_id');\r\n        $table->unsignedBigInteger('course_id');\r\n        $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\r\n        $table->foreign('course_id')->references('id')->on('courses')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo y migraci\xf3n Profile:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Profile -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos, llave foranea y restricci\xf3n a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Profile"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_17_135614_create_profiles_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_17_135614_create_profiles_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('profiles', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('title')->nullable();\r\n        $table->text('biography')->nullable();\r\n        $table->string('website')->nullable();\r\n        $table->string('facebook')->nullable();\r\n        $table->string('linkedin')->nullable();\r\n        $table->string('youtube')->nullable();\r\n        $table->unsignedBigInteger('user_id');\r\n        $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar migraciones","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n entre el modelo ",(0,s.jsx)(r.strong,{children:"User"})," y los modelos ",(0,s.jsx)(r.strong,{children:"Profile"}),", ",(0,s.jsx)(r.strong,{children:"Course"})," y ",(0,s.jsx)(r.strong,{children:"Review"}),".\r\nModelo ",(0,s.jsx)(r.strong,{children:"User"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\User.php"}),");","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\User.php"',children:"// ...\r\nclass User extends Authenticatable\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:1 User - Profile\r\n    public function profile(){\r\n        return $this->hasOne('App\\Models\\Profile');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n Profesores y Cursos (User - Course)\r\n    public function courses_dictated(){\r\n        return $this->hasMany('App\\Models\\Course');\r\n    }\r\n\r\n    // Relaci\xf3n n:n Estudiantes y Cursos (User - Course)\r\n    public function courses_enrolled(){\r\n        return $this->belongsToMany('App\\Models\\Course');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n User - Review\r\n    public function reviews(){\r\n        return $this->hasMany('App\\Models\\Review');\r\n    }\r\n}\n"})}),"\n","Modelo ",(0,s.jsx)(r.strong,{children:"Profile"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Profile.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Profile.php"',children:"// ...\r\nclass Profile extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:1 Profile - User (Inversa)\r\n    public function user(){\r\n        return $this->belongsTo('App\\Models\\User');\r\n    }\r\n}\n"})}),"\n","Modelo ",(0,s.jsx)(r.strong,{children:"Course"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Course.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Profesores y Cursos (User - Course) (inversa)\r\n    public function teacher(){\r\n        return $this->belongsTo('App\\Models\\User', 'user_id');\r\n    }\r\n\r\n    // Relaci\xf3n n:n Estudiantes y Cursos (User - Course) (inversa)\r\n    public function students(){\r\n        return $this->belongsToMany('App\\Models\\User');\r\n    }\r\n}\n"})}),"\n","Modelo ",(0,s.jsx)(r.strong,{children:"Review"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Review.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Review.php"',children:"// ...\r\nclass Review extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n User - Review (inversa)\r\n    public function user(){\r\n        return $this->belongsTo('App\\Models\\User');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n entre el modelo ",(0,s.jsx)(r.strong,{children:"Course"})," y los meodelos ",(0,s.jsx)(r.strong,{children:"Review"}),", ",(0,s.jsx)(r.strong,{children:"Level"}),", ",(0,s.jsx)(r.strong,{children:"Category"})," y ",(0,s.jsx)(r.strong,{children:"Price"}),".\r\nModelo ",(0,s.jsx)(r.strong,{children:"Course"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Course.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Course - Review\r\n    public function reviews(){\r\n        return $this->hasMany('App\\Models\\Review');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n Price - Course (inversa)\r\n    public function price(){\r\n        return $this->belongsTo('App\\Models\\Price');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n Level - Course (inversa)\r\n    public function level(){\r\n        return $this->belongsTo('App\\Models\\Level');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n Category - Course (inversa)\r\n    public function category(){\r\n        return $this->belongsTo('App\\Models\\Category');\r\n    }\r\n}\n"})}),"\n","Modelo ",(0,s.jsx)(r.strong,{children:"Review"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Review.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Review.php"',children:"// ...\r\nclass Review extends Model\r\n{\r\n    // ...   \r\n    // Relaci\xf3n 1:n Course - Review (inversa)\r\n    public function course(){\r\n        return $this->belongsTo('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n","Modelo ",(0,s.jsx)(r.strong,{children:"Level"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Level.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Level.php"',children:"// ...\r\nclass Level extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Level - Course\r\n    public function courses(){\r\n        return $this->hasMany('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n","Modelo ",(0,s.jsx)(r.strong,{children:"Category"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Category.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Category.php"',children:"// ...\r\nclass Category extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Category - Course\r\n    public function courses(){\r\n        return $this->hasMany('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n","Modelo ",(0,s.jsx)(r.strong,{children:"Price"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Price.php"}),")","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Price.php"',children:"// ...\r\nclass Price extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Price - Course\r\n    public function courses(){\r\n        return $this->hasMany('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-6-creaci\xf3n-de-base-de-datos---parte-2",children:"Video 6. Creaci\xf3n de base de datos - Parte 2"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear modelo Requerimientos del curso con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Requeriment -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campo ",(0,s.jsx)(r.strong,{children:"name"})," y llave foranea a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Requeriment"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_134250_create_requeriments_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_134250_create_requeriments_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('requeriments', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->unsignedBigInteger('course_id');\r\n        $table->foreign('course_id')->references('id')->on('courses')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo para las metas del curso con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Goal -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campo ",(0,s.jsx)(r.strong,{children:"name"})," y llave foranea a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Goal"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_134530_create_goals_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_134530_create_goals_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('goals', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->unsignedBigInteger('course_id');\r\n        $table->foreign('course_id')->references('id')->on('courses')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Audience con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Audience -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campo ",(0,s.jsx)(r.strong,{children:"name"})," y llave foranea a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Audience"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_134712_create_audiences_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_134712_create_audiences_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('audiences', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->unsignedBigInteger('course_id');\r\n        $table->foreign('course_id')->references('id')->on('courses')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Section con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Section -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campo ",(0,s.jsx)(r.strong,{children:"name"})," y llave foranea a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Section"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_134820_create_sections_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_134820_create_sections_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('sections', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->unsignedBigInteger('course_id');\r\n        $table->foreign('course_id')->references('id')->on('courses')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar las migraciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n entre el modelo ",(0,s.jsx)(r.strong,{children:"Course"})," y los modelos ",(0,s.jsx)(r.strong,{children:"Requeriment"}),", ",(0,s.jsx)(r.strong,{children:"Goal"}),", ",(0,s.jsx)(r.strong,{children:"Audience"})," y ",(0,s.jsx)(r.strong,{children:"Section"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Course"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Course.php"}),");"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    // ...   \r\n    // Relaci\xf3n 1:n Course - Requeriment\r\n    public function requeriments(){\r\n        return $this->hasMany('App\\Models\\Requeriment');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n Course - Goal\r\n    public function goals(){\r\n        return $this->hasMany('App\\Models\\Goal');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n Course - Audience\r\n    public function audiences(){\r\n        return $this->hasMany('App\\Models\\Audience');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n Course - Section\r\n    public function sections(){\r\n        return $this->hasMany('App\\Models\\Section');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Requeriment"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Requeriment.php"}),");"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Requeriment.ph"',children:"// ...\r\nclass Requeriment extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Course - Requeriment (inversa)\r\n    public function course(){\r\n        return $this->belongsTo('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Goal"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Goal.php"}),");"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Goal.php"',children:"// ...\r\nclass Goal extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Course - Goal (inversa)\r\n    public function course(){\r\n        return $this->belongsTo('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Audience"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Audience.php"}),");"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Audience.php"',children:"// ...\r\nclass Audience extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Course - Audience (inversa)\r\n    public function course(){\r\n        return $this->belongsTo('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Section"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Section.php"}),");"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Section.php"',children:"// ...\r\nclass Audience extends Section\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n Course - Section (inversa)\r\n    public function course(){\r\n        return $this->belongsTo('App\\Models\\Course');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Platform del curso con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Platform -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campo ",(0,s.jsx)(r.strong,{children:"name"})," a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Platform"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_142158_create_platforms_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_142158_create_platforms_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('platforms', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Lesson con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Lesson -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos y llaves foraneas a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Lesson"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_142530_create_lessons_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_142530_create_lessons_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('lessons', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->string('url');\r\n        $table->string('iframe');\r\n        $table->unsignedBigInteger('platform_id')->nullable();\r\n        $table->unsignedBigInteger('section_id');\r\n        $table->foreign('platform_id')->references('id')->on('platforms')->onDelete('set null');\r\n        $table->foreign('section_id')->references('id')->on('sections')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Description con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Description -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos y llaves foraneas a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"Description"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_143318_create_descriptions_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_143318_create_descriptions_table.php"',children:"// ...\r\npublic function up()\r\n{\r\n    Schema::create('descriptions', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->unsignedBigInteger('lesson_id');\r\n        $table->foreign('lesson_id')->references('id')->on('lessons')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear migraci\xf3n para tabla pivote ",(0,s.jsx)(r.strong,{children:"lesson_user"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:migration create_lesson_user_table\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos para las llaves foraneas y sus restricciones a la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"lesson_user"})," en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_18_144934_create_lesson_user_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_18_144934_create_lesson_user_table.php"',children:"public function up()\r\n{\r\n    Schema::create('lesson_user', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->unsignedBigInteger('lesson_id');\r\n        $table->unsignedBigInteger('user_id');\r\n        $table->foreign('lesson_id')->references('id')->on('lessons')->onDelete('cascade');\r\n        $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar migraciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaciones entre el modelo ",(0,s.jsx)(r.strong,{children:"Lesson"})," y los modelos: ",(0,s.jsx)(r.strong,{children:"Section"}),", ",(0,s.jsx)(r.strong,{children:"Platform"}),", ",(0,s.jsx)(r.strong,{children:"Description"})," y ",(0,s.jsx)(r.strong,{children:"User"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Lesson"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Lesson.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Lesson.php"',children:"// ...\r\nclass Lesson extends Model\r\n{\r\n    // ...\r\n    // Ralci\xf3n 1:n Section -Lesson (inversa)\r\n    public function section(){\r\n        return $this->belongsTo('App\\Models\\Section');\r\n    }\r\n\r\n    // Ralci\xf3n 1:n Platform -Lesson (inversa)\r\n    public function platform(){\r\n        return $this->belongsTo('App\\Models\\Platform');\r\n    }\r\n\r\n    // Relaci\xf3n 1:1 Lesson - Description\r\n    public function description(){\r\n        return $this->hasOne('App\\Models\\Description');\r\n    }\r\n\r\n    // Relacion n:n Lesson - User\r\n    public function users(){\r\n        return $this->belongsToMany('App\\Models\\User');\r\n    }        \r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Section"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Section.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Section.php"',children:"// ...\r\nclass Section extends Model\r\n{\r\n    // ...\r\n    // Ralci\xf3n 1:n Section -Lesson\r\n    public function lessons(){\r\n        return $this->hasMany('App\\Models\\Lesson');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Platform"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Platform.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Platform.php"',children:"// ...\r\nclass Platform extends Model\r\n{\r\n    // ...\r\n    // Ralci\xf3n 1:n Platform -Lesson\r\n    public function lessons(){\r\n        return $this->hasMany('App\\Models\\Lesson');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Description"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Description.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Description.php"',children:"// ...\r\nclass Description extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:1 Lesson - Description (inversa)\r\n    public function lesson(){\r\n        return $this->belongsTo('App\\Models\\Lesson');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"User"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\User.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\User.php"',children:"// ...\r\nclass User extends Model\r\n{\r\n    // ...\r\n    // Relacion n:n Lesson - User (inversa)\r\n    public function lessons(){\r\n        return $this->belongsToMany('App\\Models\\Lesson');\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-7-creaci\xf3n-de-base-de-datos---parte-3",children:"Video 7. Creaci\xf3n de base de datos - Parte 3"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear modelo Resource jutno con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Resource -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos a la migraci\xf3n de Resource en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_19_113720_create_resources_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_19_113720_create_resources_table.php"',children:"public function up()\r\n{\r\n    Schema::create('resources', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('url');\r\n        $table->unsignedBigInteger('resourceable_id');\r\n        $table->string('resourceable_type');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Comment jutno con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Comment -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos a la migraci\xf3n de Comment en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_19_114438_create_comments_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_19_114438_create_comments_table.php"',children:"public function up()\r\n{\r\n    Schema::create('comments', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->unsignedBigInteger('user_id');\r\n        $table->unsignedBigInteger('commentable_id');\r\n        $table->string('commentable_type');\r\n        $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Reaction jutno con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Reaction -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar constantes ",(0,s.jsx)(r.strong,{children:"LIKE"})," y ",(0,s.jsx)(r.strong,{children:"DISLIKE"})," al modelo ",(0,s.jsx)(r.strong,{children:"Reaction"})," en ",(0,s.jsx)(r.strong,{children:"app\\Models\\Reaction.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Reaction.php"',children:"// ...\r\nclass Reaction extends Model\r\n{\r\n    // ...\r\n    const LIKE = 1;\r\n    const DISLIKE = 2;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar modelo ",(0,s.jsx)(r.strong,{children:"Reaction"})," a su migraci\xf3n en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_19_115056_create_reactions_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_19_115056_create_reactions_table.php"',children:"use App\\Models\\Reaction;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos a la migraci\xf3n de Reaction en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_19_115056_create_reactions_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_19_115056_create_reactions_table.php"',children:"public function up()\r\n{\r\n    Schema::create('reactions', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->enum('value',[Reaction::LIKE, Reaction::DISLIKE]);\r\n        $table->unsignedBigInteger('user_id');\r\n        $table->unsignedBigInteger('reactionable_id');\r\n        $table->string('reactionable_type');\r\n        $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear modelo Image jutno con su migraci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Image -m\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar campos a la migraci\xf3n de Image en ",(0,s.jsx)(r.strong,{children:"database\\migrations\\2021_04_19_120629_create_images_table.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_04_19_120629_create_images_table.php"',children:"public function up()\r\n{\r\n    Schema::create('images', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('url');\r\n        $table->unsignedBigInteger('imageable_id');\r\n        $table->string('imageable_type');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar migraciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n polimorfica en el modelo ",(0,s.jsx)(r.strong,{children:"Comment"})," en ",(0,s.jsx)(r.strong,{children:"app\\Models\\Comment.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Comment.php"',children:"// ...\r\nclass Comment extends Model\r\n{\r\n    // ...\r\n    public function commentable(){\r\n        return $this->morphTo();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n polimorfica en el modelo ",(0,s.jsx)(r.strong,{children:"Reaction"})," en ",(0,s.jsx)(r.strong,{children:"app\\Models\\Reaction.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Reaction.php"',children:"// ...\r\nclass Reaction extends Model\r\n{\r\n    // ...\r\n    public function reactionable(){\r\n        return $this->morphTo();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n polimorfica en el modelo ",(0,s.jsx)(r.strong,{children:"Image"})," en ",(0,s.jsx)(r.strong,{children:"app\\Models\\Image.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Image.php"',children:"// ...\r\nclass Image extends Model\r\n{\r\n    // ...\r\n    public function imageable(){\r\n        return $this->morphTo();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n polimorfica en el modelo ",(0,s.jsx)(r.strong,{children:"Resource"})," en ",(0,s.jsx)(r.strong,{children:"app\\Models\\Resource.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Resource.php"',children:"// ...\r\nclass Resource extends Model\r\n{\r\n    // ...\r\n    public function resourceable(){\r\n        return $this->morphTo();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaciones polimorficas entre el modelo ",(0,s.jsx)(r.strong,{children:"Lesson"})," y los modelos ",(0,s.jsx)(r.strong,{children:"Resource"}),", ",(0,s.jsx)(r.strong,{children:"Comment"}),", ",(0,s.jsx)(r.strong,{children:"Reaction"})," e ",(0,s.jsx)(r.strong,{children:"Image"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Lesson"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Lesson.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Lesson.php"',children:"// ...\r\nclass Lesson extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:1 polimorfica Lesson - Resource\r\n    public function resource(){\r\n        return $this->morphOne('App\\Models\\Resource','resourceable');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n polimorfica Lesson - Comment\r\n    public function comments(){\r\n        return $this->morphMany('App\\Models\\Comment','commentable');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n polimorfica Lesson - Reaction\r\n    public function reactions(){\r\n        return $this->morphMany('App\\Models\\Reaction','reactionable');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Comment"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Comment.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Comment.php"',children:"// ...\r\nclass Comment extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n polimorfica\r\n    public function comments(){\r\n        return $this->morphMany('App\\Models\\Comment','commentable');\r\n    }\r\n    \r\n    public function reactions(){\r\n        return $this->morphMany('App\\Models\\Reaction','reactionable');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n polimorfica entre los modelos ",(0,s.jsx)(r.strong,{children:"Course"})," e ",(0,s.jsx)(r.strong,{children:"Image"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Course"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Course.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:1 polimorfica Course - Image\r\n    public function image(){\r\n        return $this->morphOne('App\\Models\\Image','imageable');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer ralci\xf3n ",(0,s.jsx)(r.strong,{children:"Course"}),", ",(0,s.jsx)(r.strong,{children:"Lesson"}),", ",(0,s.jsx)(r.strong,{children:"Section"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Course"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Course.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n entre Course - Lesson y Section como tabla intermedia\r\n    public function lessons(){\r\n        return $this->hasManyThrough('App\\Models\\Lesson', 'App\\Models\\Section');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Relaci\xf3n entre el modelo ",(0,s.jsx)(r.strong,{children:"User"})," y los modelos ",(0,s.jsx)(r.strong,{children:"Comment"})," y ",(0,s.jsx)(r.strong,{children:"Reaction"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"User"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\User.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\User.php"',children:"// ...\r\nclass User extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n User - Comment\r\n    public function comments(){\r\n        return $this->hasMany('App\\Models\\Comment');\r\n    }\r\n\r\n    // Relaci\xf3n 1:n User - Reaction\r\n    public function reaction(){\r\n        return $this->hasMany('App\\Models\\Reaction');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Comment"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Comment.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Comment.php"',children:"// ...\r\nclass Comment extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n User - Reaction (inversa)\r\n    public function user(){\r\n        return $this->belongsTo('App\\Models\\User');\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Modelo ",(0,s.jsx)(r.strong,{children:"Reaction"})," (",(0,s.jsx)(r.strong,{children:"app\\Models\\Reaction.php"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="pp\\Models\\Reaction.php"',children:"// ...\r\nclass Reaction extends Model\r\n{\r\n    // ...\r\n    // Relaci\xf3n 1:n User - Reaction (inversa)\r\n    public function user(){\r\n        return $this->belongsTo('App\\Models\\User');\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-8-habilitar-asignaci\xf3n-masiva",children:"Video 8. Habilitar asignaci\xf3n masiva"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Audience"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Audience.php"',children:"// ...\r\nclass Audience extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Category"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Category.php"',children:"// ...\r\nclass Category extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Comment"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Comment.php"',children:"// ...\r\nclass Comment extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    protected $guarded = ['id', 'status'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Description"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Description.php"',children:"// ...\r\nclass Description extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Goal"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Goal.php"',children:"// ...\r\nclass Goal extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Image"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Image.php"',children:"// ...\r\nclass Image extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Lesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Lesson.php"',children:"// ...\r\nclass Lesson extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Level"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Level.php"',children:"// ...\r\nclass Level extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Platform"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Platform.php"',children:"// ...\r\nclass Platform extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Price"})," ():","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Price.php"',children:"// ...\r\nclass Price extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Profile"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Profile.php"',children:"// ...\r\nclass Profile extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Reaction"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Reaction.php"',children:"// ...\r\nclass Reaction extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Requeriment"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Requeriment.php"',children:"// ...\r\nclass Requeriment extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Resource"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Resource.php"',children:"// ...\r\nclass Resource extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Review"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Review.php"',children:"// ...\r\nclass Review extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir campos de asignaci\xf3n para el modelo ",(0,s.jsx)(r.strong,{children:"Section"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Section.php"',children:"// ...\r\nclass Section extends Model\r\n{\r\n    protected $guarded = ['id'];\r\n    // ...\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-9-llenar-la-bbdd-con-datos-de-prueba",children:"Video 9. Llenar la bbdd con datos de prueba"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Generar seeder para usuarios:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:seeder UserSeeder\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En el seeder ",(0,s.jsx)(r.strong,{children:"UserSeeder"}),":\r\nImportar modelo ",(0,s.jsx)(r.strong,{children:"User"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\UserSeeder.php"',children:"use App\\Models\\User;\n"})}),"\n","Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\UserSeeder.php"',children:"public function run()\r\n{\r\n    User::create([\r\n        'name' => 'Pedro Jes\xfas Baz\xf3 Canel\xf3n',\r\n        'email' => 'bazo.pedro@gmail.com',\r\n        'password' => bcrypt('12345678')\r\n    ]);\r\n\r\n    User::factory(99)->create();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Invocar seeder ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"})," desde m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    $this->call(UserSeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar seeder para niveles, categorias y precios:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:seeder LevelSeeder\r\nphp artisan make:seeder CategorySeeder\r\nphp artisan make:seeder PriceSeeder\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En el seeder ",(0,s.jsx)(r.strong,{children:"LevelSeeder"}),":\r\nImportar modelo ",(0,s.jsx)(r.strong,{children:"Level"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\LevelSeeder.php"',children:"use App\\Models\\Level;\n"})}),"\n","Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\LevelSeeder.php"',children:"public function run()\r\n{\r\n    Level::create([\r\n        'name' => 'Nivel b\xe1sico'\r\n    ]);\r\n\r\n    Level::create([\r\n        'name' => 'Nivel intermedio'\r\n    ]);\r\n    \r\n    Level::create([\r\n        'name' => 'Nivel avanzado'\r\n    ]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Invocar seeder ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"})," desde m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    // ...\r\n    $this->call(LevelSeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En el seeder ",(0,s.jsx)(r.strong,{children:"CategorySeeder"}),":\r\nImportar modelo ",(0,s.jsx)(r.strong,{children:"Category"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CategorySeeder.php"',children:"use App\\Models\\Category;\n"})}),"\n","Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CategorySeeder.php"',children:"public function run()\r\n{\r\n    Category::create([\r\n        'name' => 'Desarrollo web'\r\n    ]);\r\n\r\n    Category::create([\r\n        'name' => 'Dise\xf1o web'\r\n    ]);\r\n    \r\n    Category::create([\r\n        'name' => 'Programaci\xf3n'\r\n    ]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Invocar seeder de precios desde m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," de ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    // ...\r\n    $this->call(CategorySeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En el seeder ",(0,s.jsx)(r.strong,{children:"PriceSeeder"}),":\r\nImportar modelo ",(0,s.jsx)(r.strong,{children:"Price"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\PriceSeeder.php"',children:"use App\\Models\\Price;\n"})}),"\n","Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\PriceSeeder.php"',children:"public function run()\r\n{\r\n    Price::create([\r\n        'name' => 'Gratis',\r\n        'value' => 0\r\n    ]);\r\n\r\n    Price::create([\r\n        'name' => '19.99 US$ (nivel 1)',\r\n        'value' => 19.99\r\n    ]);\r\n\r\n    Price::create([\r\n        'name' => '49.99 US$ (nivel 2)',\r\n        'value' => 49.99\r\n    ]);\r\n\r\n    Price::create([\r\n        'name' => '99.99 US$ (nivel 3)',\r\n        'value' => 99.99\r\n    ]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Invocar seeder de precios desde m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," de ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    // ...\r\n    $this->call(PriceSeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Refrescar la base de datos y ejecutar los seeder:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar seeder para cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:seeder CourseSeeder\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar factory para cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:factory CourseFactory\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," del factory ",(0,s.jsx)(r.strong,{children:"CourseFactory"}),";","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\factories\\CourseFactory.php"',children:"public function definition()\r\n{\r\n    $title = $this->faker->sentence();\r\n    return [\r\n        'title' => $title,\r\n        'subtitle' => $this->faker->sentence(),\r\n        'description' => $this->faker->paragraph(),\r\n        'status' => $this->faker->randomElement([Course::BORRADOR, Course::REVISION, Course::PUBLICADO]),\r\n        'slug' => Str::slug($title),\r\n        'user_id' => User::all()->random()->id,\r\n        'level_id' => Level::all()->random()->id,\r\n        'category_id' => Category::all()->random()->id,\r\n        'price_id' => Price::all()->random()->id\r\n    ];\r\n}\n"})}),"\n","Importar los modelos Course, User, Level, Category y Price y la clase Str:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\factories\\CourseFactory.php"',children:"use App\\Models\\Category;\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Level;\r\nuse App\\Models\\Price;\r\nuse App\\Models\\User;\r\nuse Illuminate\\Support\\Str;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En el seeder ",(0,s.jsx)(r.strong,{children:"CourseSeeder"}),":\r\nImportar modelos ",(0,s.jsx)(r.strong,{children:"Course"})," e ",(0,s.jsx)(r.strong,{children:"Image"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CourseSeeder.php"',children:"use App\\Models\\Course;\r\nuse App\\Models\\Image;\n"})}),"\n","Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CourseSeeder.php"',children:"public function run()\r\n{\r\n    $courses = Course::factory(40)->create();\r\n    foreach($courses as $course){\r\n        Image::factory(1)->create([\r\n            'imageable_id' => $course->id,\r\n            'imageable_type' => 'App\\Models\\Course'\r\n        ]);\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Invocar seeder de cursos desde m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," de ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    // ...\r\n    $this->call(CourseSeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar factory para imagenes de cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:factory ImageFactory\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," del factory imagenes (database\\factories\\ImageFactory.php)"]}),"\n",(0,s.jsxs)(r.li,{children:["Indicar la creaci\xf3n de la carpeta ",(0,s.jsx)(r.strong,{children:"storage/cursos"})," en ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"}),":\r\nImportar clase ",(0,s.jsx)(r.strong,{children:"Storage"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"use Illuminate\\Support\\Facades\\Storage;\n"})}),"\n","Programar en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," la creaci\xf3n de la carpeta","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    Storage::deleteDirectory('cursos');\r\n    Storage::makeDirectory('cursos');\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Refrescar la base de datos y ejecutar los seeder:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar factory para los requerimientos, metas, audiencias y secciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:factory RequerimentFactory\r\nphp artisan make:factory GoalFactory\r\nphp artisan make:factory AudienceFactory\r\nphp artisan make:factory SectionFactory\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para los factory requerimientos, metas, audiencias y secciones, programar la generaci\xf3n campo ",(0,s.jsx)(r.strong,{children:"name"})," en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," de sus respectivos factories.","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function definition()\r\n{\r\n    return [\r\n        'name' => $this->faker->sentence()\r\n    ];\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar los seeder en cursos para los requerimientos, metas, audiencias y secciones en ",(0,s.jsx)(r.strong,{children:"database\\seeders\\CourseSeeder.php"}),"\r\nImportar modelos ",(0,s.jsx)(r.strong,{children:"Requeriment"}),", ",(0,s.jsx)(r.strong,{children:"Goal"}),", ",(0,s.jsx)(r.strong,{children:"Audience"})," y ",(0,s.jsx)(r.strong,{children:"Section"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CourseSeeder.php"',children:"use App\\Models\\Audience;\r\nuse App\\Models\\Goal;\r\nuse App\\Models\\Requeriment;\r\nuse App\\Models\\Section;\n"})}),"\n","Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CourseSeeder.php"',children:"public function run()\r\n{\r\n    $courses = Course::factory(40)->create();\r\n    foreach($courses as $course){\r\n        // ...\r\n        Requeriment::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n\r\n        Goal::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n\r\n        Audience::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n\r\n        Section::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Refrescar la base de datos y ejecutar los seeder:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar seeder para plataformas:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:seeder PlatformSeeder\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar el modelo ",(0,s.jsx)(r.strong,{children:"Platform"})," y programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," para el seeder plataformas:\r\nImportar modelo:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\PlatformSeeder.php"',children:"use App\\Models\\Platform;\n"})}),"\n","M\xe9todo:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\PlatformSeeder.php"',children:"public function run()\r\n{\r\n    Platform::create([\r\n        'name' => 'youtube'\r\n    ]);\r\n\r\n    Platform::create([\r\n        'name' => 'Vimeo'\r\n    ]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar el seede Platform a ",(0,s.jsx)(r.strong,{children:"database\\seeders\\DatabaseSeeder.php"})," (antes de CourseSeeder)","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    Storage::deleteDirectory('cursos');\r\n    Storage::makeDirectory('cursos');\r\n\r\n    $this->call(UserSeeder::class);\r\n    $this->call(LevelSeeder::class);\r\n    $this->call(CategorySeeder::class);\r\n    $this->call(PriceSeeder::class);\r\n    $this->call(PlatformSeeder::class);\r\n    $this->call(CourseSeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear factory para las descripciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:factory DescriptionFactory\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," de ",(0,s.jsx)(r.strong,{children:"DescriptionFactory"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\factories\\DescriptionFactory.php"',children:"public function definition()\r\n{\r\n    return [\r\n        'name' => $this->faker->paragraph()\r\n    ];\r\n} \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar factory para lecciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:factory LessonFactory\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," en ",(0,s.jsx)(r.strong,{children:"LessonFactory"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\factories\\LessonFactory.php"',children:"public function definition()\r\n{\r\n    return [\r\n        'name' => $this->faker->sentence(),\r\n        'url' => 'https://youtu.be/z3-Et7jh_gg',\r\n        'iframe' => '<iframe width=\"727\" height=\"409\" src=\"https://www.youtube.com/embed/KakNd654JMA\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>',\r\n        'platfomr_id' => 1\r\n    ];\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Redefinir m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," en ",(0,s.jsx)(r.strong,{children:"CourseSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CourseSeeder.php"',children:"public function run()\r\n{\r\n    $courses = Course::factory(40)->create();\r\n    foreach($courses as $course){\r\n        Image::factory(1)->create([\r\n            'imageable_id' => $course->id,\r\n            'imageable_type' => 'App\\Models\\Course'\r\n        ]);\r\n\r\n        Requeriment::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n\r\n        Goal::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n\r\n        Audience::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n\r\n        $sections = Section::factory(4)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n\r\n        foreach ($sections as $section) {\r\n            $lessons = Lesson::factory(4)->create(['section_id' => $section->id]);\r\n            foreach ($lessons as $lesson) {\r\n                Description::factory(1)->create(['lesson_id' => $lesson->id]);\r\n            }\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Importar modelos Lesson y Description:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\Lesson;\r\nuse App\\Models\\Description;\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-3-frontend-de-la-aplicaci\xf3n",children:"Secci\xf3n 3: Frontend de la aplicaci\xf3n"}),"\n",(0,s.jsx)(r.h3,{id:"video-10-instalar-la-plantilla-adminlte",children:"Video 10. Instalar la plantilla AdminLTE"}),"\n",(0,s.jsxs)(r.h5,{id:"documentaci\xf3n-httpsgithubcomjeroennotenlaravel-adminlte",children:["Documentaci\xf3n: ",(0,s.jsx)(r.a,{href:"https://github.com/jeroennoten/Laravel-AdminLTE",children:"https://github.com/jeroennoten/Laravel-AdminLTE"})]}),"\n",(0,s.jsxs)(r.h5,{id:"plantilla-httpsadminlteiothemesv3indexhtml",children:["Plantilla: ",(0,s.jsx)(r.a,{href:"https://adminlte.io/themes/v3/index.html",children:"https://adminlte.io/themes/v3/index.html"})]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["En ",(0,s.jsx)(r.strong,{children:"app\\Providers\\RouteServiceProvider.php"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public const HOME = '/dashboard';\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public const HOME = '/';\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear archivo de rutas:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"<?php\r\n\r\nuse Illuminate\\Support\\Facades\\Route;\r\nuse App\\Http\\Controllers\\Admin\\HomeController;\r\n\r\nRoute::get('',[HomeController::class, 'index']);\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer a ",(0,s.jsx)(r.strong,{children:"routes\\admin.php"})," como archivo de rutas en ",(0,s.jsx)(r.strong,{children:"RouteServiceProvider"})," modificando el m\xe9todo ",(0,s.jsx)(r.strong,{children:"boot"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Providers\\RouteServiceProvider.php"',children:"public function boot()\r\n{\r\n    $this->configureRateLimiting();\r\n\r\n    $this->routes(function () {\r\n        Route::prefix('api')\r\n            ->middleware('api')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/api.php'));\r\n\r\n        Route::middleware('web')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/web.php'));\r\n\r\n        Route::middleware('web', 'auth')\r\n            ->prefix('admin')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/admin.php'));\r\n    });\r\n} \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir contralador para administrador:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Admin\\HomeController\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," en el controlador ",(0,s.jsx)(r.strong,{children:"HomeController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="Admin\\HomeController"',children:"public function index(){\r\n    return view('admin.index');\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Integrar AdminLTE:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"composer require jeroennoten/laravel-adminlte\r\nphp artisan adminlte:install\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\admin\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\index.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Coders Free</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <p>Coders Free</p>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n\r\n@stop\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-11-reutilizar-la-plantilla-jetstream",children:"Video 11. Reutilizar la plantilla Jetstream"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"resources\\views\\layouts\\app.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\app.blade.php"',children:'<!DOCTYPE html>\r\n<html lang="{{ str_replace(\'_\', \'-\', app()->getLocale()) }}">\r\n    <head>\r\n        <meta charset="utf-8">\r\n        <meta name="viewport" content="width=device-width, initial-scale=1">\r\n        <meta name="csrf-token" content="{{ csrf_token() }}">\r\n\r\n        <title>{{ config(\'app.name\', \'Laravel\') }}</title>\r\n\r\n        \x3c!-- Fonts --\x3e\r\n        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap">\r\n\r\n        \x3c!-- Styles --\x3e\r\n        <link rel="stylesheet" href="{{ mix(\'css/app.css\') }}">\r\n\r\n        @livewireStyles\r\n\r\n        \x3c!-- Scripts --\x3e\r\n        <script src="{{ mix(\'js/app.js\') }}" defer><\/script>\r\n    </head>\r\n    <body class="font-sans antialiased">\r\n        <x-jet-banner />\r\n\r\n        <div class="min-h-screen bg-gray-100">\r\n            @livewire(\'navigation-menu\')\r\n\r\n            \x3c!-- Page Content --\x3e\r\n            <main>\r\n                {{ $slot }}\r\n            </main>\r\n        </div>\r\n\r\n        @stack(\'modals\')\r\n\r\n        @livewireScripts\r\n    </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"resources\\views\\navigation-menu.blade.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\navigation-menu.blade.php"',children:'@php\r\n    $nav_links = [\r\n        [\r\n            \'name\' => \'Home\',\r\n            \'route\' => route(\'home\'),\r\n            \'active\' => request()->routeIs(\'home\')\r\n        ]\r\n    ];\r\n@endphp\r\n\r\n<nav x-data="{ open: false }" class="bg-white border-b border-gray-100 shadow">\r\n    \x3c!-- Primary Navigation Menu --\x3e\r\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\r\n        <div class="flex justify-between h-16">\r\n            <div class="flex">\r\n                \x3c!-- Logo --\x3e\r\n                <div class="flex-shrink-0 flex items-center">\r\n                    <a href="{{ route(\'home\') }}">\r\n                        <x-jet-application-mark class="block h-9 w-auto" />\r\n                    </a>\r\n                </div>\r\n\r\n                \x3c!-- Navigation Links --\x3e\r\n                <div class="hidden space-x-8 sm:-my-px sm:ml-10 sm:flex">\r\n                    @foreach ($nav_links as $nav_link)\r\n                        <x-jet-nav-link href="{{ $nav_link[\'route\'] }}" :active="$nav_link[\'active\']">\r\n                            {{ $nav_link[\'name\'] }}\r\n                        </x-jet-nav-link>\r\n                    @endforeach\r\n                </div>\r\n            </div>\r\n\r\n            <div class="hidden sm:flex sm:items-center sm:ml-6">\r\n                \x3c!-- Teams Dropdown --\x3e\r\n                @if (Laravel\\Jetstream\\Jetstream::hasTeamFeatures())\r\n                    <div class="ml-3 relative">\r\n                        <x-jet-dropdown align="right" width="60">\r\n                            <x-slot name="trigger">\r\n                                <span class="inline-flex rounded-md">\r\n                                    <button type="button" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:bg-gray-50 hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition">\r\n                                        {{ Auth::user()->currentTeam->name }}\r\n\r\n                                        <svg class="ml-2 -mr-0.5 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\r\n                                            <path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />\r\n                                        </svg>\r\n                                    </button>\r\n                                </span>\r\n                            </x-slot>\r\n\r\n                            <x-slot name="content">\r\n                                <div class="w-60">\r\n                                    \x3c!-- Team Management --\x3e\r\n                                    <div class="block px-4 py-2 text-xs text-gray-400">\r\n                                        {{ __(\'Manage Team\') }}\r\n                                    </div>\r\n\r\n                                    \x3c!-- Team Settings --\x3e\r\n                                    <x-jet-dropdown-link href="{{ route(\'teams.show\', Auth::user()->currentTeam->id) }}">\r\n                                        {{ __(\'Team Settings\') }}\r\n                                    </x-jet-dropdown-link>\r\n\r\n                                    @can(\'create\', Laravel\\Jetstream\\Jetstream::newTeamModel())\r\n                                        <x-jet-dropdown-link href="{{ route(\'teams.create\') }}">\r\n                                            {{ __(\'Create New Team\') }}\r\n                                        </x-jet-dropdown-link>\r\n                                    @endcan\r\n\r\n                                    <div class="border-t border-gray-100"></div>\r\n\r\n                                    \x3c!-- Team Switcher --\x3e\r\n                                    <div class="block px-4 py-2 text-xs text-gray-400">\r\n                                        {{ __(\'Switch Teams\') }}\r\n                                    </div>\r\n\r\n                                    @foreach (Auth::user()->allTeams() as $team)\r\n                                        <x-jet-switchable-team :team="$team" />\r\n                                    @endforeach\r\n                                </div>\r\n                            </x-slot>\r\n                        </x-jet-dropdown>\r\n                    </div>\r\n                @endif\r\n\r\n                \x3c!-- Settings Dropdown --\x3e\r\n                <div class="ml-3 relative">\r\n                    @auth\r\n                        <x-jet-dropdown align="right" width="48">\r\n                            <x-slot name="trigger">\r\n                                @if (Laravel\\Jetstream\\Jetstream::managesProfilePhotos())\r\n                                    <button class="flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition">\r\n                                        <img class="h-8 w-8 rounded-full object-cover" src="{{ Auth::user()->profile_photo_url }}" alt="{{ Auth::user()->name }}" />\r\n                                    </button>\r\n                                @else\r\n                                    <span class="inline-flex rounded-md">\r\n                                        <button type="button" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition">\r\n                                            {{ Auth::user()->name }}\r\n\r\n                                            <svg class="ml-2 -mr-0.5 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\r\n                                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    </span>\r\n                                @endif\r\n                            </x-slot>\r\n\r\n                            <x-slot name="content">\r\n                                \x3c!-- Account Management --\x3e\r\n                                <div class="block px-4 py-2 text-xs text-gray-400">\r\n                                    {{ __(\'Manage Account\') }}\r\n                                </div>\r\n\r\n                                <x-jet-dropdown-link href="{{ route(\'profile.show\') }}">\r\n                                    {{ __(\'Profile\') }}\r\n                                </x-jet-dropdown-link>\r\n\r\n                                @if (Laravel\\Jetstream\\Jetstream::hasApiFeatures())\r\n                                    <x-jet-dropdown-link href="{{ route(\'api-tokens.index\') }}">\r\n                                        {{ __(\'API Tokens\') }}\r\n                                    </x-jet-dropdown-link>\r\n                                @endif\r\n\r\n                                <div class="border-t border-gray-100"></div>\r\n\r\n                                \x3c!-- Authentication --\x3e\r\n                                <form method="POST" action="{{ route(\'logout\') }}">\r\n                                    @csrf\r\n\r\n                                    <x-jet-dropdown-link href="{{ route(\'logout\') }}"\r\n                                            onclick="event.preventDefault();\r\n                                                    this.closest(\'form\').submit();">\r\n                                        {{ __(\'Log Out\') }}\r\n                                    </x-jet-dropdown-link>\r\n                                </form>\r\n                            </x-slot>\r\n                        </x-jet-dropdown>\r\n                    @else\r\n                        <a href="{{ route(\'login\') }}" class="text-sm text-gray-700 underline">Log in</a>\r\n                        <a href="{{ route(\'register\') }}" class="ml-4 text-sm text-gray-700 underline">Register</a>\r\n                    @endauth\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Hamburger --\x3e\r\n            <div class="-mr-2 flex items-center sm:hidden">\r\n                <button @click="open = ! open" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition">\r\n                    <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">\r\n                        <path :class="{\'hidden\': open, \'inline-flex\': ! open }" class="inline-flex" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />\r\n                        <path :class="{\'hidden\': ! open, \'inline-flex\': open }" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- Responsive Navigation Menu --\x3e\r\n    <div :class="{\'block\': open, \'hidden\': ! open}" class="hidden sm:hidden">\r\n        <div class="pt-2 pb-3 space-y-1">\r\n            @foreach ($nav_links as $nav_link)\r\n                <x-jet-responsive-nav-link href="{{ $nav_link[\'route\'] }}" :active="$nav_link[\'active\']">\r\n                    {{ $nav_link[\'name\'] }}\r\n                </x-jet-responsive-nav-link>\r\n            @endforeach\r\n        </div>\r\n\r\n        \x3c!-- Responsive Settings Options --\x3e\r\n        @auth\r\n            <div class="pt-4 pb-1 border-t border-gray-200">\r\n                <div class="flex items-center px-4">\r\n                    @if (Laravel\\Jetstream\\Jetstream::managesProfilePhotos())\r\n                        <div class="flex-shrink-0 mr-3">\r\n                            <img class="h-10 w-10 rounded-full object-cover" src="{{ Auth::user()->profile_photo_url }}" alt="{{ Auth::user()->name }}" />\r\n                        </div>\r\n                    @endif\r\n\r\n                    <div>\r\n                        <div class="font-medium text-base text-gray-800">{{ Auth::user()->name }}</div>\r\n                        <div class="font-medium text-sm text-gray-500">{{ Auth::user()->email }}</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="mt-3 space-y-1">\r\n                    \x3c!-- Account Management --\x3e\r\n                    <x-jet-responsive-nav-link href="{{ route(\'profile.show\') }}" :active="request()->routeIs(\'profile.show\')">\r\n                        {{ __(\'Profile\') }}\r\n                    </x-jet-responsive-nav-link>\r\n\r\n                    @if (Laravel\\Jetstream\\Jetstream::hasApiFeatures())\r\n                        <x-jet-responsive-nav-link href="{{ route(\'api-tokens.index\') }}" :active="request()->routeIs(\'api-tokens.index\')">\r\n                            {{ __(\'API Tokens\') }}\r\n                        </x-jet-responsive-nav-link>\r\n                    @endif\r\n\r\n                    \x3c!-- Authentication --\x3e\r\n                    <form method="POST" action="{{ route(\'logout\') }}">\r\n                        @csrf\r\n\r\n                        <x-jet-responsive-nav-link href="{{ route(\'logout\') }}"\r\n                                    onclick="event.preventDefault();\r\n                                        this.closest(\'form\').submit();">\r\n                            {{ __(\'Log Out\') }}\r\n                        </x-jet-responsive-nav-link>\r\n                    </form>\r\n\r\n                    \x3c!-- Team Management --\x3e\r\n                    @if (Laravel\\Jetstream\\Jetstream::hasTeamFeatures())\r\n                        <div class="border-t border-gray-200"></div>\r\n\r\n                        <div class="block px-4 py-2 text-xs text-gray-400">\r\n                            {{ __(\'Manage Team\') }}\r\n                        </div>\r\n\r\n                        \x3c!-- Team Settings --\x3e\r\n                        <x-jet-responsive-nav-link href="{{ route(\'teams.show\', Auth::user()->currentTeam->id) }}" :active="request()->routeIs(\'teams.show\')">\r\n                            {{ __(\'Team Settings\') }}\r\n                        </x-jet-responsive-nav-link>\r\n\r\n                        @can(\'create\', Laravel\\Jetstream\\Jetstream::newTeamModel())\r\n                            <x-jet-responsive-nav-link href="{{ route(\'teams.create\') }}" :active="request()->routeIs(\'teams.create\')">\r\n                                {{ __(\'Create New Team\') }}\r\n                            </x-jet-responsive-nav-link>\r\n                        @endcan\r\n\r\n                        <div class="border-t border-gray-200"></div>\r\n\r\n                        \x3c!-- Team Switcher --\x3e\r\n                        <div class="block px-4 py-2 text-xs text-gray-400">\r\n                            {{ __(\'Switch Teams\') }}\r\n                        </div>\r\n\r\n                        @foreach (Auth::user()->allTeams() as $team)\r\n                            <x-jet-switchable-team :team="$team" component="jet-responsive-nav-link" />\r\n                        @endforeach\r\n                    @endif\r\n                </div>\r\n            </div>\r\n        @else\r\n            <div class="py-1 border-t border-gray-200">\r\n                <x-jet-responsive-nav-link href="{{ route(\'login\') }}" :active="request()->routeIs(\'login\')">\r\n                    Login\r\n                </x-jet-responsive-nav-link>\r\n                <x-jet-responsive-nav-link href="{{ route(\'register\') }}" :active="request()->routeIs(\'register\')">\r\n                    Register\r\n                </x-jet-responsive-nav-link>\r\n            </div>\r\n        @endauth\r\n    </div>\r\n</nav>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Publicar componentes de Jetstream:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Documentaci\xf3n: ",(0,s.jsx)(r.a,{href:"https://jetstream.laravel.com/2.x/introduction.html",children:"https://jetstream.laravel.com/2.x/introduction.html"})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan vendor:publish --tag=jetstream-views\n"})}),"\n",(0,s.jsx)(r.admonition,{title:"Nota",type:"tip",children:(0,s.jsxs)(r.p,{children:["Todos los componentes de Jetstream se copiaran a ",(0,s.jsx)(r.strong,{children:"resources\\views\\vendor\\jetstream\\components"})]})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar archivo de rutas:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"<?php\r\n\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\nRoute::get('/', function () {\r\n    return view('welcome');\r\n})->name('home');\r\n\r\nRoute::middleware(['auth:sanctum', 'verified'])->get('/dashboard', function () {\r\n    return view('dashboard');\r\n})->name('dashboard');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\welcome.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\welcome.blade.php"',children:"<x-app-layout>\r\n    \r\n</x-app-layout>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-12-clonar-repositorio-con-el-avance-del-curso",children:"Video 12. Clonar repositorio con el avance del curso"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Repositorio"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/coders-free/udemy",children:"https://github.com/coders-free/udemy"})]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," en ",(0,s.jsx)(r.strong,{children:"CourseFactory"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\factories\\CourseFactory.php"',children:"public function definition()\r\n{\r\n    $title = $this->faker->sentence();\r\n    return [\r\n        'title' => $title,\r\n        'subtitle' => $this->faker->sentence(),\r\n        'description' => $this->faker->paragraph(),\r\n        'status' => $this->faker->randomElement([Course::BORRADOR, Course::REVISION, Course::PUBLICADO]),\r\n        'slug' => Str::slug($title),\r\n        'user_id' => 1, // User::all()->random()->id,\r\n        'level_id' => Level::all()->random()->id,\r\n        'category_id' => Category::all()->random()->id,\r\n        'price_id' => Price::all()->random()->id\r\n    ];\r\n}  \n"})}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Eliminar proyecto."}),"\n",(0,s.jsxs)(r.li,{children:["Clonar repositorio ",(0,s.jsx)(r.a,{href:"https://github.com/coders-free/udemy",children:"https://github.com/coders-free/udemy"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"git clone https://github.com/coders-free/udemy.git\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Cambiar el nombre de la carpeta del proyecto de ",(0,s.jsx)(r.strong,{children:"udemy"})," a ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Instalar las dependencias de ",(0,s.jsx)(r.strong,{children:"composer"})," y ",(0,s.jsx)(r.strong,{children:"npm"}),".","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"composer install\r\nnpm install\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear archivo ",(0,s.jsx)(r.strong,{children:".env"})," a partir de ",(0,s.jsx)(r.strong,{children:".env.example"})," y modificar las siguientes variables de entorno:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",metastring:'title=".env"',children:"APP_URL=http://codersfree.test\r\nDB_DATABASE=codersfree\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar APP_KEY:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan key:generate\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar enlace a almacenamiento:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan storage:link \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Refrescar la base de datos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-13-recuperar-registros-de-cursos",children:"Video 13. Recuperar registros de cursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear contraolador ",(0,s.jsx)(r.strong,{children:"Home"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller HomeController\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir m\xe9todo ",(0,s.jsx)(r.strong,{children:"__invoke"})," en el controlador ",(0,s.jsx)(r.strong,{children:"Home"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\HomeController.php"',children:"public function __invoke()\r\n{\r\n    $courses = Course::where('status','3')->latest()->get();\r\n    return view('welcome', compact('courses'));\r\n}\n"})}),"\n","Importar el modelo ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\HomeController.php"',children:"use App\\Models\\Course;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Redefinir ruta ra\xedz:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('/', HomeController::class)->name('home');\n"})}),"\n","Importar controlador ",(0,s.jsx)(r.strong,{children:"HomeController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"use App\\Http\\Controllers\\HomeController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar modelo ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// ...\r\nclass Course extends Model\r\n{\r\n    // ...\r\n    protected $guarded = ['id', 'status'];\r\n    protected $withCount = ['students', 'reviews'];\r\n\r\n    const BORRADOR = 1;\r\n    const REVISION = 2;\r\n    const PUBLICADO = 3;\r\n\r\n    public function getRatingAttribute(){\r\n        if($this->reviews_count){\r\n            return round($this->reviews->avg('rating'), 1);\r\n        }else{\r\n            return 5;\r\n        }\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-14-dise\xf1a-el-home-de-la-plataforma",children:"Video 14. Dise\xf1a el home de la plataforma"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Documentaci\xf3n:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://tailwindcomponents.com/",children:"https://tailwindcomponents.com/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://tailwindcss.com/docs",children:"https://tailwindcss.com/docs"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://v1.tailwindcss.com/components",children:"https://v1.tailwindcss.com/components"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Buscar y descargar una imagen de portada para el curso (de 1920 x 1280).","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://pixabay.com/es/",children:"https://pixabay.com/es/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.pexels.com/es-es/",children:"https://www.pexels.com/es-es/"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Optimizar imagen:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Ir a ",(0,s.jsx)(r.a,{href:"https://tinypng.com/",children:"https://tinypng.com/"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Guardar imagen en el proyecto:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"public\\img\\home\\img_portada.jpg"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"welcome"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\welcome.blade.php"',children:'<x-app-layout>\r\n    <section class="bg-cover" style="background-image: url({{ asset(\'img/home/img_portada.jpg\') }})">\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-36">\r\n            <div class="w-full md:w-3/4 lg:w-1/2">\r\n                <h1 class="text-blue-900 font-bold text-4xl">Domina la tecnolog\xeda web con Coders Free</h1>\r\n                <p class="text-blue-900 text-lg mt-2 mb-4">En Coders Free encontrar\xe1s cursos, manuales y art\xedculos que te ayudar\xe1n a convertirte en un profesional del desarrollador web</p>\r\n                \x3c!-- component extraido de https://tailwindcomponents.com/component/search-bar --\x3e\r\n                <div class="pt-2 relative mx-auto text-gray-600">\r\n                    <input class="w-full border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none"\r\n                    type="search" name="search" placeholder="Search">\r\n                    \x3c!-- extraido de https://v1.tailwindcss.com/components/buttons --\x3e\r\n                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded absolute right-0 top-0 mt-2">\r\n                        Buscar\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section class="mt-24">\r\n        <h1 class="text-gray-600 text-center text-3xl mb-6">CONTENIDO</h1>\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-8">\r\n            <article>\r\n                <figure>\r\n                    <img class="rounded-xl h-36 w-full object-cover" src="{{ asset(\'img/home/imagen_1.jpg\') }}" alt="">\r\n                </figure>\r\n                <header class="mt-2">\r\n                    <h1 class="text-center text-xl text-gray-700">Cursos y proyectos</h1>\r\n                </header>\r\n                <p class="text-sm text-gray-500">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati, possimus accusantium</p>\r\n            </article>\r\n            <article>\r\n                <figure>\r\n                    <img class="rounded-xl h-36 w-full object-cover" src="{{ asset(\'img/home/imagen_2.jpg\') }}" alt="">\r\n                </figure>\r\n                <header class="mt-2">\r\n                    <h1 class="text-center text-xl text-gray-700">Manual de Laravel</h1>\r\n                </header>\r\n                <p class="text-sm text-gray-500">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati, possimus accusantium</p>\r\n            </article>\r\n            <article>\r\n                <figure>\r\n                    <img class="rounded-xl h-36 w-full object-cover" src="{{ asset(\'img/home/imagen_3.jpg\') }}" alt="">\r\n                </figure>\r\n                <header class="mt-2">\r\n                    <h1 class="text-center text-xl text-gray-700">Blog</h1>\r\n                </header>\r\n                <p class="text-sm text-gray-500">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati, possimus accusantium</p>\r\n            </article>\r\n            <article>\r\n                <figure>\r\n                    <img class="rounded-xl h-36 w-full object-cover" src="{{ asset(\'img/home/imagen_4.jpg\') }}" alt="">\r\n                </figure>\r\n                <header class="mt-2">\r\n                    <h1 class="text-center text-xl text-gray-700">Desarrollo web</h1>\r\n                </header>\r\n                <p class="text-sm text-gray-500">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati, possimus accusantium</p>\r\n            </article>\r\n        </div>\r\n    </section>\r\n    <section class="mt-24 bg-gray-700 py-12">\r\n        <h1 class="text-center text-white text-3xl">\xbfNo sabes qu\xe9 curso llevar?</h1>\r\n        <p class="text-center text-white">Dir\xedgete al cat\xe1logo de cursos y filtralos por categor\xeda o nivel</p>\r\n        <div class="flex justify-center mt-4">\r\n            \x3c!-- https://v1.tailwindcss.com/components/buttons --\x3e\r\n            <a href="{{ route(\'courses.index\') }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">\r\n                Cat\xe1logo de cursos\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <section class="my-24">\r\n        <h1 class="text-center text-3xl text-gray-600">\xdaLTIMOS CURSOS</h1>\r\n        <p class="text-center text-gray-500 text-sm mb-6">Trabajo duro para seguir subiendo cursos</p>\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-8">\r\n            @foreach ($courses as $course)\r\n                <article class="bg-white shadow-lg rounded overflow-hidden">\r\n                    <img class="h-36 w-full object-cover" src="{{ Storage::url($course->image->url) }}" alt="">\r\n                    <div class="px-6 py-4">\r\n                        <h1 class="text-xl text-gray-700 mb-2 leading-6">{{ Str::limit($course->title, 40) }}</h1>\r\n                        <p class="text-gray-500 text-sm mb-2">Prof. {{ $course->teacher->name }}</p>\r\n                        <div class="flex">\r\n                            <ul class="flex text-sm">\r\n                                <li class="mr-1">\r\n                                    <i class="fas fa-star text-{{ $course->rating >= 1 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                </li>\r\n                                <li class="mr-1">\r\n                                    <i class="fas fa-star text-{{ $course->rating >= 2 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                </li>\r\n                                <li class="mr-1">\r\n                                    <i class="fas fa-star text-{{ $course->rating >= 3 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                </li>\r\n                                <li class="mr-1">\r\n                                    <i class="fas fa-star text-{{ $course->rating >= 4 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                </li>\r\n                                <li class="mr-1">\r\n                                    <i class="fas fa-star text-{{ $course->rating == 5 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                </li>\r\n                            </ul>\r\n                            <p class="text-sm text-gray-500 ml-auto">\r\n                                <i class="fas fa-users"></i>\r\n                                ({{ $course->students_count }})\r\n                            </p>\r\n                        </div>\r\n                        <a href="{{ route(\'courses.show\', $course) }}" class="block text-center w-full mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">\r\n                            Mas informaci\xf3n\r\n                        </a>\r\n                    </div>\r\n                </article>\r\n            @endforeach\r\n        </div>\r\n    </section>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Descargar 4 imagenes (640 x 426) al azar en ",(0,s.jsx)(r.a,{href:"https://pixabay.com/es/",children:"https://pixabay.com/es/"})," y guardarlas en ",(0,s.jsx)(r.strong,{children:"public\\img\\home"})," con los nombres:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"imagen_1.jpg"}),"\n",(0,s.jsx)(r.li,{children:"imagen_2.jpg"}),"\n",(0,s.jsx)(r.li,{children:"imagen_3.jpg"}),"\n",(0,s.jsx)(r.li,{children:"imagen_4.jpg"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar ruta cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('cursos', function(){\r\n    return \"Aqu\xed se mostrar\xe1 la lista de cursos\";\r\n})->name('courses.index');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar los estilos de ",(0,s.jsx)(r.strong,{children:"fontawesome-free"})," en ",(0,s.jsx)(r.strong,{children:"app.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\app.blade.php"',children:"<!DOCTYPE html>\r\n<html lang=\"{{ str_replace('_', '-', app()->getLocale()) }}\">\r\n    <head>\r\n        \x3c!-- ... --\x3e\r\n        \x3c!-- Styles --\x3e\r\n        \x3c!-- ... --\x3e\r\n        <link rel=\"stylesheet\" href=\"{{ asset('vendor/fontawesome-free/css/all.min.css') }}\">\r\n        \x3c!-- ... --\x3e\r\n    </head>\r\n    \x3c!-- ... --\x3e\xad\r\n</html>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo run de ",(0,s.jsx)(r.strong,{children:"CourseSeeder"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\CourseSeeder.php"',children:"public function run()\r\n{\r\n    $courses = Course::factory(100)->create();\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"__invoke"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\HomeController.php"',children:"public function __invoke()\r\n{\r\n    $courses = Course::where('status','3')->latest()->get()->take(12);\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar ruta ir a un curso en part\xedcular:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('cursos/{course}', function($course){\r\n    return \"Aqu\xed se va a mostrar la informaci\xf3n del curso\";\r\n})->name('courses.show');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar m\xe9todo ",(0,s.jsx)(r.strong,{children:"getRouteKeyName"})," al modelo ",(0,s.jsx)(r.strong,{children:"Course"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:'public function getRouteKeyName(){\r\n    return "slug";\r\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-15-dise\xf1ando-la-vista-index-de-cursos",children:"Video 15. Dise\xf1ando la vista index de cursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar ",(0,s.jsx)(r.strong,{children:"navigation-dropdown"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\navigation-dropdown.blade.php"',children:"@php\r\n    $nav_links = [\r\n        [\r\n            'name' => 'Home',\r\n            'route' => route('home'),\r\n            'active' => request()->routeIs('home')\r\n        ],\r\n        [\r\n            'name' => 'Cursos',\r\n            'route' => route('courses.index'),\r\n            'active' => request()->routeIs('courses.index')\r\n        ],\r\n    ];\r\n@endphp\r\n\x3c!-- ... --\x3e\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller CourseController       \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," en ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\CourseController.php"',children:"public function index(){\r\n    return view('courses.index');\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la ruta ",(0,s.jsx)(r.strong,{children:"cursos"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('cursos', [CourseController::class, 'index'])->name('courses.index');\n"})}),"\n","Importar el controlador ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"use App\\Http\\Controllers\\CourseController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"courses\\index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\index.blade.php"',children:'<x-app-layout>\r\n    <section class="bg-cover" style="background-image: url({{ asset(\'img/cursos/img_cursos.jpg\') }})">\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-36">\r\n            <div class="w-full md:w-3/4 lg:w-1/2">\r\n                <h1 class="text-white font-bold text-4xl">Los mejores cursos de programaci\xf3n \xa1GRATIS! y en espa\xf1ol.</h1>\r\n                <p class="text-white text-lg mt-2 mb-4">Si est\xe1s buscando potenciar tus conocimientos de programaci\xf3n, has llegado al lugar adecuado. Encuentra cursos y proyectos que te ayudar\xe1n en ese proceso</p>\r\n                \x3c!-- component extraido de https://tailwindcomponents.com/component/search-bar --\x3e\r\n                <div class="pt-2 relative mx-auto text-gray-600">\r\n                    <input class="w-full border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none"\r\n                    type="search" name="search" placeholder="Search">\r\n                    \x3c!-- extraido de https://v1.tailwindcss.com/components/buttons --\x3e\r\n                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded absolute right-0 top-0 mt-2">\r\n                        Buscar\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    @livewire(\'course-index\')\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Descargar imagen (1920 x 1281) en ",(0,s.jsx)(r.a,{href:"https://pixabay.com/es/",children:"https://pixabay.com/es/"})," y nombrarla:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"public\\img\\cursos\\img_cursos.jpg"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Optimizar imagen en ",(0,s.jsx)(r.a,{href:"https://tinypng.com/",children:"https://tinypng.com/"})]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente de livewire ",(0,s.jsx)(r.strong,{children:"CourseIndex"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire CourseIndex\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar ",(0,s.jsx)(r.strong,{children:"resources\\views\\livewire\\course-index.blade.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\course-index.blade.php"',children:'<div>\r\n    <div class="bg-gray-200 mb-16">\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex">\r\n            <button class="bg-white shadow h-12 px-4 rounded-lg text-gray-700 mr-4">\r\n                <i class="fas fa-archway text-xs mr-2"></i>\r\n                Todos los cursos\r\n            </button>\r\n            \r\n            \x3c!-- Dropdown Categoria --\x3e\r\n            <div class="relative mr-4" x-data="{ open: false }">\r\n                <button class="px-4 text-gray-700 block h-12 rounded-lg overflow-hidden focus:outline-none bg-white shadow" x-on:click="open = true">\r\n                    <i class="fas fa-tags text-sm mr-2"></i>\r\n                    Categoria\r\n                    <i class="fas fa-angle-down text-sm ml-2"></i>\r\n                </button>\r\n                <div class="absolute right-0 w-40 mt-2 py-2 bg-white border rounded shadow-xl" x-show="open" x-on:click.away="open = false">   \r\n                    <a href="#" class="transition-colors duration-200 block px-4 py-2 text-normal text-gray-900 rounded hover:bg-purple-500 hover:text-white">Settings</a>\r\n                    <div class="py-2">\r\n                        <hr></hr>\r\n                    </div>\r\n                    <a href="#" class="transition-colors duration-200 block px-4 py-2 text-normal text-gray-900 rounded hover:bg-purple-500 hover:text-white">    \r\n                        Logout\r\n                    </a>\r\n                </div> \r\n            </div>\r\n            \r\n            \x3c!-- Dropdown Niveles --\x3e\r\n            <div class="relative" x-data="{ open: false }">\r\n                <button class="px-4 text-gray-700 block h-12 rounded-lg overflow-hidden focus:outline-none bg-white shadow" x-on:click="open = true">\r\n                    <i class="fas fa-layer-group text-sm mr-2"></i>\r\n                    Niveles\r\n                    <i class="fas fa-angle-down text-sm ml-2"></i>\r\n                </button>\r\n                <div class="absolute right-0 w-40 mt-2 py-2 bg-white border rounded shadow-xl" x-show="open" x-on:click.away="open = false">   \r\n                    <a href="#" class="transition-colors duration-200 block px-4 py-2 text-normal text-gray-900 rounded hover:bg-purple-500 hover:text-white">Settings</a>\r\n                    <div class="py-2">\r\n                        <hr></hr>\r\n                    </div>\r\n                    <a href="#" class="transition-colors duration-200 block px-4 py-2 text-normal text-gray-900 rounded hover:bg-purple-500 hover:text-white">    \r\n                        Logout\r\n                    </a>\r\n                </div> \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-8">\r\n        @foreach ($courses as $course)\r\n            <article class="bg-white shadow-lg rounded overflow-hidden">\r\n                <img class="h-36 w-full object-cover" src="{{ Storage::url($course->image->url) }}" alt="">\r\n                <div class="px-6 py-4">\r\n                    <h1 class="text-xl text-gray-700 mb-2 leading-6">{{ Str::limit($course->title, 40) }}</h1>\r\n                    <p class="text-gray-500 text-sm mb-2">Prof. {{ $course->teacher->name }}</p>\r\n                    <div class="flex">\r\n                        <ul class="flex text-sm">\r\n                            <li class="mr-1">\r\n                                <i class="fas fa-star text-{{ $course->rating >= 1 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                            </li>\r\n                            <li class="mr-1">\r\n                                <i class="fas fa-star text-{{ $course->rating >= 2 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                            </li>\r\n                            <li class="mr-1">\r\n                                <i class="fas fa-star text-{{ $course->rating >= 3 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                            </li>\r\n                            <li class="mr-1">\r\n                                <i class="fas fa-star text-{{ $course->rating >= 4 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                            </li>\r\n                            <li class="mr-1">\r\n                                <i class="fas fa-star text-{{ $course->rating == 5 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                            </li>\r\n                        </ul>\r\n                        <p class="text-sm text-gray-500 ml-auto">\r\n                            <i class="fas fa-users"></i>\r\n                            ({{ $course->students_count }})\r\n                        </p>\r\n                    </div>\r\n                    <a href="{{ route(\'courses.show\', $course) }}" class="block text-center w-full mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">\r\n                        Mas informaci\xf3n\r\n                    </a>\r\n                </div>\r\n            </article>\r\n        @endforeach\r\n    </div>\r\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 mb-8">\r\n        {{ $courses->links() }}\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"render"})," en ",(0,s.jsx)(r.strong,{children:"app\\Http\\Livewire\\CourseIndex.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseIndex.php"',children:"public function render()\r\n{\r\n    $courses = Course::where('status', 3)->latest('id')->paginate(8);\r\n    return view('livewire.course-index', compact('courses'));\r\n}\n"})}),"\n","Importar modelo ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use App\\Models\\Course;\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-16-habilitar-filtrado-de-cursos",children:"Video 16. Habilitar filtrado de cursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador ",(0,s.jsx)(r.strong,{children:"app\\Http\\Livewire\\CourseIndex.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseIndex.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Category;\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Level;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\n\r\nclass CourseIndex extends Component\r\n{\r\n    use WithPagination;\r\n    \r\n    public $category_id;\r\n    public $level_id;\r\n\r\n    public function render()\r\n    {\r\n        $categories = Category::all();\r\n        $levels = Level::all();\r\n        $courses = Course::where('status', 3)\r\n            ->category($this->category_id)\r\n            ->level($this->level_id)\r\n            ->latest('id')\r\n            ->paginate(8);\r\n        return view('livewire.course-index', compact('courses', 'categories', 'levels'));\r\n    }\r\n\r\n    public function resetFilters(){\r\n        $this->reset(['category_id','level_id']);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\livewire\\course-index.blade.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\course-index.blade.php"',children:'<div>\r\n    <div class="bg-gray-200 mb-16">\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex">\r\n            <button class="focus:outline-none bg-white shadow h-12 px-4 rounded-lg text-gray-700 mr-4" wire:click="resetFilters">\r\n                <i class="fas fa-archway text-xs mr-2"></i>\r\n                Todos los cursos\r\n            </button>\r\n            \r\n            \x3c!-- Dropdown Categoria --\x3e\r\n            <div class="relative mr-4" x-data="{ open: false }">\r\n                <button class="px-4 text-gray-700 block h-12 rounded-lg overflow-hidden focus:outline-none bg-white shadow" x-on:click="open = true">\r\n                    <i class="fas fa-tags text-sm mr-2"></i>\r\n                    Categoria\r\n                    <i class="fas fa-angle-down text-sm ml-2"></i>\r\n                </button>\r\n                <div class="absolute right-0 w-40 mt-2 py-2 bg-white border rounded shadow-xl" x-show="open" x-on:click.away="open = false">\r\n                    @foreach ($categories as $category)\r\n                    <a class="cursor-pointer transition-colors duration-200 block px-4 py-2 text-normal text-gray-900 rounded hover:bg-blue-500 hover:text-white" wire:click="$set(\'category_id\',{{ $category->id }})" x-on:click="open = false">{{ $category->name }}</a>\r\n                    @endforeach\r\n                </div> \r\n            </div>\r\n            \r\n            \x3c!-- Dropdown Niveles --\x3e\r\n            <div class="relative" x-data="{ open: false }">\r\n                <button class="px-4 text-gray-700 block h-12 rounded-lg overflow-hidden focus:outline-none bg-white shadow" x-on:click="open = true">\r\n                    <i class="fas fa-layer-group text-sm mr-2"></i>\r\n                    Niveles\r\n                    <i class="fas fa-angle-down text-sm ml-2"></i>\r\n                </button>\r\n                <div class="absolute right-0 w-40 mt-2 py-2 bg-white border rounded shadow-xl" x-show="open" x-on:click.away="open = false">\r\n                    @foreach ($levels as $level)\r\n                    <a class="cursor-pointer transition-colors duration-200 block px-4 py-2 text-normal text-gray-900 rounded hover:bg-blue-500 hover:text-white" wire:click="$set(\'level_id\',{{ $level->id }})" x-on:click="open = false">{{ $level->name }}</a>\r\n                    @endforeach\r\n                </div> \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-8">\r\n        @foreach ($courses as $course)\r\n            <x-course-card :course="$course"/>\r\n        @endforeach\r\n    </div>\r\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 mb-8">\r\n        {{ $courses->links() }}\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar m\xe9todos query scopes en el modelo ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"// Query scope Category\r\npublic function scopeCategory($query, $category_id){\r\n    if($category_id){\r\n        return $query->where('category_id', $category_id);\r\n    }\r\n}\r\n\r\n// Query scope Level\r\npublic function scopeLevel($query, $level_id){\r\n    if($level_id){\r\n        return $query->where('level_id', $level_id);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente de Blade para los cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\components\\course-card.blade.php"',children:'@props([\'course\'])\r\n\r\n<article class="bg-white shadow-lg rounded overflow-hidden">\r\n    <img class="h-36 w-full object-cover" src="{{ Storage::url($course->image->url) }}" alt="">\r\n    <div class="px-6 py-4">\r\n        <h1 class="text-xl text-gray-700 mb-2 leading-6">{{ Str::limit($course->title, 40) }}</h1>\r\n        <p class="text-gray-500 text-sm mb-2">Prof. {{ $course->teacher->name }}</p>\r\n        <div class="flex">\r\n            <ul class="flex text-sm">\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 1 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 2 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 3 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 4 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating == 5 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n            </ul>\r\n            <p class="text-sm text-gray-500 ml-auto">\r\n                <i class="fas fa-users"></i>\r\n                ({{ $course->students_count }})\r\n            </p>\r\n        </div>\r\n        <a href="{{ route(\'courses.show\', $course) }}" class="block text-center w-full mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">\r\n            Mas informaci\xf3n\r\n        </a>\r\n    </div>\r\n</article>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"welcome"})," para reemplazar la llamada de los cursos por un componente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\welcome.blade.php"',children:'<x-app-layout>\r\n    \x3c!-- ... --\x3e\r\n    <section class="my-24">\r\n        <h1 class="text-center text-3xl text-gray-600">\xdaLTIMOS CURSOS</h1>\r\n        <p class="text-center text-gray-500 text-sm mb-6">Trabajo duro para seguir subiendo cursos</p>\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-8">\r\n            @foreach ($courses as $course)\r\n                <x-course-card :course="$course"/>\r\n            @endforeach\r\n        </div>\r\n    </section>\r\n</x-app-layout>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-17-crear-clases-de-estilos-personalizadas",children:"Video 17. Crear clases de estilos personalizadas"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Deshabilitar la clase container de tailwind:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",metastring:'title="tailwind.config.js"',children:"// ...\r\nmodule.exports = {\r\n    // ...        \r\n    corePlugins: {\r\n        // ...\r\n    container: false,\r\n    },\r\n\r\n    plugins: [require('@tailwindcss/ui')],\r\n};\r\n// ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear archivo de ",(0,s.jsx)(r.strong,{children:"estilos"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-css",metastring:'title="estilos resources\\css\\commom.css"',children:".container{\r\n    @apply max-w-7xl mx-auto px-4;\r\n}\r\n\r\n.card{\r\n    @apply bg-white shadow-lg rounded overflow-hidden;\r\n}\r\n\r\n.card-body{\r\n    @apply px-6 py-4;\r\n}\r\n\r\n.card-title{\r\n    @apply text-xl text-gray-700 mb-2 leading-6;\r\n}\r\n\r\n@media(min-width:640px){\r\n    .container{\r\n        @apply px-6;\r\n    }\r\n}\r\n\r\n@media(min-width:1024px){\r\n    .container{\r\n        @apply px-8;\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://tailwindcss.com/docs/container",children:"https://tailwindcss.com/docs/container"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar ",(0,s.jsx)(r.strong,{children:"resources\\css\\commom.css"})," en ",(0,s.jsx)(r.strong,{children:"resources\\css\\app.css"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-css",metastring:'title="resources\\css\\app.css"',children:"/* ... */\r\n@import 'commom.css';\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Compilar los nuevos estilos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"npm run watch\n"})}),"\n","En caso de error:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"npm uninstall cross-env (Luego borrar el directorio node_modules)\r\nnpm install --global cross-env\r\nnpm install --no-bin-links\r\nnpm audit fix --force\r\nnpm install\r\nnpm run watch\n"})}),"\n","Otra posible soluci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"Eliminar direcotorio node_modules\r\nEliminar package-lock.json\r\n$ npm cache clear --force\r\n$ npm install cross-env\r\n$ npm install\r\n$ npm run dev\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la plantilla ",(0,s.jsx)(r.strong,{children:"resources\\views\\navigation-dropdown.blade.php"}),":\r\nCambiars:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\navigation-dropdown.blade.php"',children:'class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"\n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\navigation-dropdown.blade.php"',children:'class="container"\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\components\\course-card.blade.php"}),":\r\nCambiar las clases:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\components\\course-card.blade.ph"',children:'class="bg-white shadow-lg rounded overflow-hidden"\r\nclass="px-6 py-4"\r\nclass="text-xl text-gray-700 mb-2 leading-6"\n'})}),"\n","Por las clases respectivamente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\components\\course-card.blade.ph"',children:'class="card"\r\nclass="card-body"\r\nclass="card-title"\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear archivo de ",(0,s.jsx)(r.strong,{children:"resources\\css\\buttons.css"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-css",metastring:'title="resources\\css\\buttons.css"',children:".btn {\r\n    @apply font-bold py-2 px-4 rounded;\r\n}\r\n\r\n.btn-block{\r\n    @apply block text-center w-full;\r\n}\r\n\r\n.btn-primary {\r\n    @apply bg-blue-500 text-white;\r\n}\r\n\r\n.btn-primary:hover {\r\n    @apply bg-blue-700;\r\n}\r\n\r\n.btn-danger {\r\n    @apply bg-red-500 text-white;\r\n}\r\n\r\n.btn-danger:hover {\r\n    @apply bg-red-700;\r\n}\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://v1.tailwindcss.com/components/buttons",children:"https://v1.tailwindcss.com/components/buttons"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar ",(0,s.jsx)(r.strong,{children:"resources\\css\\buttons.css"})," en ",(0,s.jsx)(r.strong,{children:"resources\\css\\app.css"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-css",metastring:'title="resources\\css\\app.css"',children:"/* ... */\r\n@import 'buttons.css';\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\components\\course-card.blade.php"}),":\r\nReemplazar los textos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"+ bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\r\n+ block text-center w-full\n"})}),"\n","Por estos otros respectivamente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"+ btn btn-primary\r\n+ btn-block\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-18-dise\xf1ando-la-vista-show-de-cursos",children:"Video 18. Dise\xf1ando la vista show de cursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar la ruta ",(0,s.jsx)(r.strong,{children:"courses.show"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('cursos/{course}', [CourseController::class, 'show'])->name('courses.show');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar el m\xe9todo show en ",(0,s.jsx)(r.strong,{children:"app\\Http\\Controllers\\CourseController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\CourseController.php"',children:"public function show(Course $course){\r\n    $similares = Course::where('category_id', $course->category_id)\r\n                    ->where('id','!=',$course->id)\r\n                    ->where('status', 3)\r\n                    ->latest('id')\r\n                    ->take(5)\r\n                    ->get();\r\n    return view('courses.show',compact('course', 'similares'));\r\n}\n"})}),"\n","Importar al modelo Course:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\CourseController.php"',children:"use App\\Models\\Course;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\courses\\show.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\show.blade.php"',children:'<x-app-layout>\r\n    <section class="bg-gray-700 py-12 mb-12">\r\n        <div class="container grid grid-cols-1 lg:grid-cols-2 gap-6">\r\n            <figure>\r\n                <img class="h-60 w-full object-cover" src="{{ Storage::url($course->image->url )}}" alt="">\r\n            </figure>\r\n            <div class="text-white">\r\n                <h1 class="text-4xl">{{ $course->title }}</h1>\r\n                <h2 class="text-xl mb-3">{{ $course->subtitle }}</h2>\r\n                <p class="mb-2"><i class="fas fa-chart-line"></i> Nivel: {{ $course->level->name }}</p>\r\n                <p class="mb-2"><i class=""></i> Categor\xeda: {{ $course->category->name }}</p>\r\n                <p class="mb-2"><i class="fas fa-users"></i> Matriculados: {{ $course->students_count }}</p>\r\n                <p><i class="far fa-star"></i> Calificaci\xf3n: {{ $course->rating }}</p>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <div class="container grid grid-cols-1 lg:grid-cols-3 gap-6">\r\n        <div class="order-2 lg:col-span-2 lg:order-1">\r\n            <section class="card mb-12">\r\n                <div class="card-body">\r\n                    <h1 class="font-bold text-2xl mb-2">Lo que aprender\xe1s</h1>\r\n                    <ul class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2">\r\n                        @foreach ($course->goals as $goal)\r\n                            <li class="text-gray-700 text-base"><i class="fas fa-check text-gray-600 mr-2"></i> {{ $goal->name }}</li>\r\n                        @endforeach\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n            <section class="mb-12">\r\n                <h1 class="font-bold text-3xl mb-2">Temario</h1>\r\n                @foreach ($course->sections as $section)\r\n                    <article class="mb-4 shadow" \r\n                    @if ($loop->first)\r\n                    x-data="{ open: true }"\r\n                    @else\r\n                    x-data="{ open: false }"    \r\n                    @endif>\r\n                        <header class="border border-gray-200 px-4 py-2 cursor-pointer bg-gray-200" x-on:click="open = !open">\r\n                            <h1 class="font-bold text-lg text-gray-600">{{ $section->name }}</h1>\r\n                        </header>\r\n                        <div class="bg-white py-2 px-4" x-show="open">\r\n                            <ul class="grid grid-cols-1 gap-2">\r\n                                @foreach ($section->lessons as $lesson)\r\n                                    <li class="text-gray-700 text-base"><i class="fas fa-play-circle mr-2 text-gray-600"></i> {{ $lesson->name }}</li>\r\n                                @endforeach\r\n                            </ul>\r\n                        </div>\r\n                    </article>\r\n                @endforeach\r\n            </section>\r\n            <section>\r\n                <h1 class="font-bold text-3xl">Requisitos</h1>\r\n                <ul class="list-disc list-inside">\r\n                    @foreach ($course->requirements as $requirement)\r\n                        <li class="text-gray-700">{{ $requirement->name }}</li>\r\n                    @endforeach\r\n                </ul>\r\n            </section>\r\n            <section>\r\n                <h1 class="font-bold text-3xl">Descripci\xf3n</h1>\r\n                <div class="text-gray-700 text-base">\r\n                    {{ $course->description }}\r\n                </div>\r\n            </section>\r\n        </div>\r\n        <div class="order-1 lg:order-2">\r\n            <section class="card mb-4">\r\n                <div class="card-body">\r\n                    <div class="flex items-center">\r\n                        <img class="h-12 w-12 object-cover rounded-full shadow-lg" src="{{ $course->teacher->profile_photo_url }}" alt="{{ $course->teacher->name }}">\r\n                        <div class="ml-4">\r\n                            <h1 class="font-bold text-gray-500 text-lg">Prof. {{ $course->teacher->name }}</h1>\r\n                            <a class="text-blue-400 text-sm font-bold" href="">{{ \'@\' . Str::slug($course->teacher->name, \'\') }}</a>\r\n                        </div>\r\n                    </div>\r\n                    <a href="" class="btn btn-danger btn-block mt-4">Llevar este curso</a>\r\n                </div>\r\n            </section>\r\n            <aside class="hidden lg:block">\r\n                @foreach ($similares as $similar)\r\n                    <article class="flex mb-6">\r\n                        <img class="h-32 w-40 object-cover" src="{{ Storage::url($similar->image->url) }}" alt="">\r\n                        <div class="ml-3">\r\n                            <h1>\r\n                                <a class="font-bold text-gray-500 mb-3" href="{{ route(\'courses.show\', $similar) }}">{{ Str::limit($similar->title, 40) }}</a>\r\n                            </h1>\r\n                            <div class="flex items-center mb-2">\r\n                                <img class="h-8 w-8 object-cover rounded-full shadow-lg" src="{{ $similar->teacher->profile_photo_url }}" alt="">\r\n                                <p class="text-gray-700 text-sm ml-2">{{ $similar->teacher->name  }}</p>\r\n                            </div>\r\n                            <p class="text-sm"><i class="fas fa-star mr-2 text-yellow-400"></i>{{ $similar->rating }}</p>\r\n                        </div>\r\n                    </article>\r\n                @endforeach\r\n            </aside>\r\n        </div>\r\n    </div>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la plantilla ",(0,s.jsx)(r.strong,{children:"resources\\views\\navigation-dropdown.blade.php"}),"\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'active' => request()->routeIs('courses.index')\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'active' => request()->routeIs('courses.*')\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-19-habilitar-matricula-de-alumnos",children:"Video 19. Habilitar matricula de alumnos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear ruta para matr\xedcular usuario en ",(0,s.jsx)(r.strong,{children:"routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::post('courses/{course}/enrolled', [CourseController::class, 'enrolled'])->middleware('auth')->name('courses.enrolled');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"enrolled"})," en el controlador ",(0,s.jsx)(r.strong,{children:"app\\Http\\Controllers\\CourseController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\CourseController.php"',children:"public function enrolled(Course $course){\r\n    // Agrega un registro a la tabla intermedia course_user\r\n    $course->students()->attach(auth()->user()->id);\r\n    return redirect()->route('courses.status', $course);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\courses\\show.blade.php"}),":\r\nReemplazar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\show.blade.php"',children:'<a href="" class="btn btn-danger btn-block mt-4">Llevar este curso</a>\n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\show.blade.php"',children:'@can(\'enrolled\', $course)\r\n    <a class="btn btn-danger btn-block mt-4" href="{{ route(\'courses.status\', $course) }}">Continuar con curso</a>\r\n@else\r\n    <form action="{{ route(\'courses.enrolled\', $course) }}" method="POST">\r\n        @csrf\r\n        <button class="btn btn-danger btn-block mt-4" type="submit">Llevar este curso</button>\r\n    </form>\r\n@endcan\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para el control de avance del usuario en ",(0,s.jsx)(r.strong,{children:"routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('course-status/{course}', function ($course) {\r\n    return \"Aqu\xed vas a poder llevar el control de tu avence\";\r\n})->name('courses.status');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear pol\xedticas de acceso a llevar curso o continuar curso:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:policy CoursePolicy\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"enrolled"})," a la pol\xedtica ",(0,s.jsx)(r.strong,{children:"app\\Policies\\CoursePolicy.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Policies\\CoursePolicy.php"',children:"public function enrolled(User $user, Course $course){\r\n    return $course->students->contains($user->id);\r\n}\n"})}),"\n","Importar el modelo ",(0,s.jsx)(r.strong,{children:"Course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Policies\\CoursePolicy.php"',children:"use App\\Models\\Course;\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-20-habilitar-el-buscador-de-cursos",children:"Video 20. Habilitar el buscador de cursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear componente ",(0,s.jsx)(r.strong,{children:"Search"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire Search\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la vista ",(0,s.jsx)(r.strong,{children:"welcome"}),":\r\nReemplazar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\welcome.blade.php"',children:'<div class="pt-2 relative mx-auto text-gray-600">\r\n    <input class="w-full border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none"\r\n    type="search" name="search" placeholder="Search">\r\n    \x3c!-- extraido de https://v1.tailwindcss.com/components/buttons --\x3e\r\n    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded absolute right-0 top-0 mt-2">\r\n        Buscar\r\n    </button>\r\n</div>\n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\welcome.blade.php"',children:"@livewire('search')\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista del componente ",(0,s.jsx)(r.strong,{children:"Search"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\search.blade.php"',children:'<form class="pt-2 relative mx-auto text-gray-600" autocomplete="off">\r\n    <input wire:model="search" class="w-full border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none"\r\n    type="search" name="search" placeholder="Search">\r\n    \x3c!-- extraido de https://v1.tailwindcss.com/components/buttons --\x3e\r\n    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded absolute right-0 top-0 mt-2">\r\n        Buscar\r\n    </button>\r\n    <ul class="absolute z-50 left-0 w-full bg-white mt-1 rounded-lg overflow-hidden">\r\n        @if ($search)\r\n            @forelse ($this->results as $result)\r\n                <li class="leading-10 px-5 text-sm cursor-pointer hover:bg-gray-300">\r\n                    <a href="{{ route(\'courses.show\', $result) }}">{{ $result->title }}</a>\r\n                </li>\r\n            @empty\r\n                <li class="leading-10 px-5 text-sm cursor-pointer hover:bg-gray-300">\r\n                    No hay ninguna coincidencia :(\r\n                </li>\r\n            @endforelse\r\n        @endif\r\n    </ul>\r\n</form>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador del componente ",(0,s.jsx)(r.strong,{children:"Search"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Search.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\n\r\nclass Search extends Component\r\n{\r\n    public $search;\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.search');\r\n    }\r\n\r\n    // Esta funci\xf3n es una propiedad computada: get[Results]Property\r\n    // Se le invoca desde la vista como $this->results\r\n    public function getResultsProperty(){\r\n        return Course::where('title', 'LIKE', '%' . $this->search . '%')\r\n                ->where('status',3)\r\n                ->take(8)\r\n                ->get();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la vista\r\nReemplazar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<div class="pt-2 relative mx-auto text-gray-600">\r\n    <input class="w-full border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none"\r\n    type="search" name="search" placeholder="Search">\r\n    \x3c!-- extraido de https://v1.tailwindcss.com/components/buttons --\x3e\r\n    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded absolute right-0 top-0 mt-2">\r\n        Buscar\r\n    </button>\r\n</div>\n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"@livewire('search')\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-4-control-del-avance-del-curso",children:"Secci\xf3n 4: Control del avance del curso"}),"\n",(0,s.jsx)(r.h3,{id:"video-21-componente-livewire-de-vista-completa",children:"Video 21. Componente Livewire de vista completa"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar la ruta ",(0,s.jsx)(r.strong,{children:"courses.status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('course-status/{course}', [CourseController::class, 'status'])->name('courses.status');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"status"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\CourseController.php"',children:"public function status(Course $course){\r\n    return view('courses.status', compact('course'));\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\status.blade.php"',children:"<x-app-layout>\r\n    @livewire('course-status')\r\n</x-app-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente para el status de cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire CourseStatus\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista ",(0,s.jsx)(r.strong,{children:"course-status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""resources\\views\\livewire\\course-status.blade.php',children:"<div>\r\n    <h1>{{ $course->title }}</h1>\r\n</div>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En el archivo de rutas:\r\nImportar el componente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"use App\\Http\\Livewire\\CourseStatus;\n"})}),"\n","Modificar ruta ",(0,s.jsx)(r.strong,{children:"courses.status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\web.php"',children:"Route::get('course-status/{course}', CourseStatus::class)->name('courses.status');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar m\xe9todo ",(0,s.jsx)(r.strong,{children:"status"})," en el controlador ",(0,s.jsx)(r.strong,{children:"app\\Http\\Controllers\\CourseController.php"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\courses\\status.blade.php"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador del componente ",(0,s.jsx)(r.strong,{children:"CourseStatus"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseStatus.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\n\r\nclass CourseStatus extends Component\r\n{\r\n    public $course;\r\n\r\n    // atrapa el slug del curso en la url (el m\xe9todo debe llamarse mount)\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.course-status');\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-22-recuperando-informaci\xf3n-que-se-va-a-mostrar",children:"Video 22. Recuperando informaci\xf3n que se va a mostrar"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"course-status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\course-status.blade.php"',children:'<div class="mt-8">\r\n    <div class="container grid grid-cols-3 gap-8">\r\n        <div class="col-span-2">\r\n            {!! $current->iframe !!}\r\n            {{ $current->name }}\r\n        </div>\r\n        <div class="card">\r\n            <div class="card-body">\r\n                <h1>{{ $course->title }}</h1>\r\n                <div class="flex items-center">\r\n                    <figure>\r\n                        <img src="{{ $course->teacher->profile_photo_url }}" alt="">\r\n                    </figure>\r\n                    <div>\r\n                        <p>{{ $course->teacher->name }}</p>\r\n                        <a class="text-blue-500" href="">{{ \'@\' . Str::slug($course->teacher->name, \'\') }}</a>\r\n                    </div>\r\n                </div>\r\n                <ul>\r\n                    @foreach ($course->sections as $section)\r\n                        <li>\r\n                            <a class="font-bold">{{ $section->name }}</a>\r\n                            <ul>\r\n                                @foreach ($section->lessons as $lesson)\r\n                                    <li>\r\n                                        <a href="">{{ $lesson->id }}\r\n                                            @if ($lesson->completed)\r\n                                                (Completado)\r\n                                            @endif\r\n                                        </a>\r\n                                    </li>\r\n                                @endforeach\r\n                            </ul>\r\n                        </li>\r\n                    @endforeach\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar atributo para comprobar si una lecci\xf3n esta completada en el controlador ",(0,s.jsx)(r.strong,{children:"Lesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Lesson.php"',children:"// ...\r\nclass Lesson extends Model\r\n{\r\n    use HasFactory;\r\n\r\n    protected $guarded = ['id'];\r\n\r\n    // Esta funci\xf3n es un atributo: get[Completed]Attribute\r\n    // Comprueba si una lecci\xf3n esta completada\r\n    public function getCompletedAttribute(){\r\n        // Para traernos el registro del usuario autentificado\r\n        return $this->users->contains(auth()->user()->id);\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar controlador ",(0,s.jsx)(r.strong,{children:"CourseStatus"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseStatus.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\n\r\nclass CourseStatus extends Component\r\n{\r\n    public $course;\r\n    public $current;\r\n\r\n    // atrapa el slug del curso en la url (el m\xe9todo debe llamarse mount)\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        foreach($course->lessons as $lesson){\r\n            if(!$lesson->completed){\r\n                $this->current = $lesson;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.course-status');\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-23-habilitar-botones-next-y-previous",children:"Video 23. Habilitar botones next y previous"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar controlador ",(0,s.jsx)(r.strong,{children:"CourseStatus"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseStatus.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Lesson;\r\nuse Livewire\\Component;\r\n\r\nclass CourseStatus extends Component\r\n{\r\n    public $course, $current;\r\n\r\n    // atrapa el slug del curso en la url (el m\xe9todo debe llamarse mount)\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        foreach($course->lessons as $lesson){\r\n            if(!$lesson->completed){\r\n                $this->current = $lesson;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.course-status');\r\n    }\r\n\r\n    public function changeLesson(Lesson $lesson){\r\n        $this->current = $lesson;\r\n    }\r\n\r\n    // Propiedad computada para index\r\n    public function getIndexProperty(){\r\n        return $this->course->lessons->pluck('id')->search($this->current->id);\r\n    }\r\n\r\n    // Propiedad computada para previous\r\n    public function getPreviousProperty(){\r\n        if($this->index == 0){\r\n            return null;\r\n        }else{\r\n            return $this->course->lessons[$this->index - 1];\r\n        }\r\n    }\r\n\r\n    // Propiedad computada para next\r\n    public function getNextProperty(){\r\n        if($this->index == $this->course->lessons->count() - 1){\r\n            return null;\r\n        }else{\r\n            return $this->course->lessons[$this->index + 1];\r\n        }\r\n    }   \r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"course-status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\course-status.blade.php"',children:'<div class="mt-8">\r\n    <div class="container grid grid-cols-3 gap-8">\r\n        <div class="col-span-2">\r\n            {!! $current->iframe !!}\r\n            {{ $current->name }}\r\n            <p>Indice: {{ $this->index }}</p>\r\n            <p>Previous: \r\n                @if ($this->previous)\r\n                    {{ $this->previous->id }}\r\n                @endif   \r\n            </p>\r\n            <p>Next: \r\n                @if ($this->next)\r\n                    {{ $this->next->id }}\r\n                @endif\r\n            </p>\r\n        </div>\r\n        <div class="card">\r\n            <div class="card-body">\r\n                <h1>{{ $course->title }}</h1>\r\n                <div class="flex items-center">\r\n                    <figure>\r\n                        <img src="{{ $course->teacher->profile_photo_url }}" alt="">\r\n                    </figure>\r\n                    <div>\r\n                        <p>{{ $course->teacher->name }}</p>\r\n                        <a class="text-blue-500" href="">{{ \'@\' . Str::slug($course->teacher->name, \'\') }}</a>\r\n                    </div>\r\n                </div>\r\n                <ul>\r\n                    @foreach ($course->sections as $section)\r\n                        <li>\r\n                            <a class="font-bold">{{ $section->name }}</a>\r\n                            <ul>\r\n                                @foreach ($section->lessons as $lesson)\r\n                                    <li>\r\n                                        <a class="cursor-pointer" wire:click="changeLesson({{ $lesson }})" >{{ $lesson->id }}\r\n                                            @if ($lesson->completed)\r\n                                                (Completado)\r\n                                            @endif\r\n                                        </a>\r\n                                    </li>\r\n                                @endforeach\r\n                            </ul>\r\n                        </li>\r\n                    @endforeach\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-24-dar-estilos-a-la-p\xe1gina",children:"Video 24. Dar estilos a la p\xe1gina"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Agregar estilos a ",(0,s.jsx)(r.strong,{children:"resources\\css\\commom.css"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-css",metastring:'title="resources\\css\\commom.css"',children:".embed-responsive{\r\n    position: relative;\r\n    overflow: hidden;\r\n    padding-top: 56.25%;\r\n}\r\n\r\n.embed-responsive iframe{\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Compilar los estilos creados:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"npm run dev\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"course-status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\course-status.blade.php"',children:'<div class="mt-8">\r\n    <div class="container grid grid-cols-3 gap-8">\r\n        <div class="col-span-2">\r\n            <div class="embed-responsive">\r\n                {!! $current->iframe !!}\r\n            </div>\r\n            <h1 class="text-3xl text-gray-600 font-bold mt-4">\r\n            {{ $current->name }} \r\n            </h1>\r\n            @if ($current->description)\r\n                <div class="text-gray-600">\r\n                    {{ $current->description->name }}\r\n                </div>\r\n            @endif\r\n\r\n            <div class="flex items-center mt-4 cursor-pointer">\r\n                <i class="fas fa-toggle-off text-2xl text-gray-600"></i>\r\n                <p class="text-sm ml-2">Marcar esta unidad como culminada</p>\r\n            </div>\r\n\r\n            <div class="card mt-2">\r\n                <div class="card-body flex text-gray-500 font-bold">\r\n                    @if ($this->previous)\r\n                        <a wire:click="changeLesson({{ $this->previous }})" class="cursor-pointer">Tema anterior</a>\r\n                    @endif\r\n                    @if ($this->next)\r\n                        <a wire:click="changeLesson({{ $this->next }})" class="ml-auto cursor-pointer">Siguiente tema</a>\r\n                    @endif\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="card">\r\n            <div class="card-body">\r\n                <h1 class="text-2xl leading-8 text-center mb-4">{{ $course->title }}</h1>\r\n                <div class="flex items-center">\r\n                    <figure>\r\n                        <img class="h-12 w-12 object-cover rounded-full mr-4" src="{{ $course->teacher->profile_photo_url }}" alt="">\r\n                    </figure>\r\n                    <div>\r\n                        <p>{{ $course->teacher->name }}</p>\r\n                        <a class="text-blue-500 text-sm" href="">{{ \'@\' . Str::slug($course->teacher->name, \'\') }}</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <p class="text-gray-600 text-sm mt-2">20% completado</p>\r\n                <div class="relative pt-1">\r\n                    <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-200">\r\n                        <div style="width:30%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <ul>\r\n                    @foreach ($course->sections as $section)\r\n                        <li class="text-gray-600 mb-4">\r\n                            <a class="font-bold text-base inline-block mb-2">{{ $section->name }}</a>\r\n                            <ul>\r\n                                @foreach ($section->lessons as $lesson)\r\n                                    <li class="flex">\r\n                                        <div>\r\n                                            @if ($lesson->completed)\r\n                                                @if ($current->id == $lesson->id)\r\n                                                    <span class="inline-block w-4 h-4 border-2 border-yellow-300 rounded-full mr-2 mt-1"></span>\r\n                                                @else\r\n                                                    <span class="inline-block w-4 h-4 bg-yellow-300 rounded-full mr-2 mt-1"></span>\r\n                                                @endif\r\n                                            @else\r\n                                                @if ($current->id == $lesson->id)\r\n                                                    <span class="inline-block w-4 h-4 border-2 border-gray-500 rounded-full mr-2 mt-1"></span>\r\n                                                @else\r\n                                                    <span class="inline-block w-4 h-4 bg-gray-500 rounded-full mr-2 mt-1"></span>\r\n                                                @endif\r\n                                            @endif\r\n                                        </div>\r\n                                        <a class="cursor-pointer" wire:click="changeLesson({{ $lesson }})" >{{ $lesson->name }}</a>\r\n                                    </li>\r\n                                @endforeach\r\n                            </ul>\r\n                        </li>\r\n                    @endforeach\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["La barra de progreso se tom\xf3 de:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.creative-tim.com/learning-lab/tailwind-starter-kit/documentation/css/progressbars",children:"https://www.creative-tim.com/learning-lab/tailwind-starter-kit/documentation/css/progressbars"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-25-marcar-unidad-como-culminada",children:"Video 25. Marcar unidad como culminada"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar vista del componente ",(0,s.jsx)(r.strong,{children:"resources\\views\\livewire\\course-status.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\course-status.blade.php"',children:'<div class="mt-8">\r\n    <div class="container grid grid-cols1 lg:grid-cols-3 gap-8">\r\n        <div class="lg:col-span-2">\r\n            <div class="embed-responsive">\r\n                {!! $current->iframe !!}\r\n            </div>\r\n            <h1 class="text-3xl text-gray-600 font-bold mt-4">\r\n            {{ $current->name }} \r\n            </h1>\r\n            @if ($current->description)\r\n                <div class="text-gray-600">\r\n                    {{ $current->description->name }}\r\n                </div>\r\n            @endif\r\n\r\n            <div class="flex items-center mt-4 cursor-pointer" wire:click="completed">\r\n                @if ($current->completed)\r\n                    <i class="fas fa-toggle-on text-2xl text-blue-600"></i>\r\n                @else\r\n                    <i class="fas fa-toggle-off text-2xl text-gray-600"></i>\r\n                @endif\r\n                <p class="text-sm ml-2">Marcar esta unidad como culminada</p>\r\n            </div>\r\n\r\n            <div class="card mt-2">\r\n                <div class="card-body flex text-gray-500 font-bold">\r\n                    @if ($this->previous)\r\n                        <a wire:click="changeLesson({{ $this->previous }})" class="cursor-pointer">Tema anterior</a>\r\n                    @endif\r\n                    @if ($this->next)\r\n                        <a wire:click="changeLesson({{ $this->next }})" class="ml-auto cursor-pointer">Siguiente tema</a>\r\n                    @endif\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="card">\r\n            <div class="card-body">\r\n                <h1 class="text-2xl leading-8 text-center mb-4">{{ $course->title }}</h1>\r\n                <div class="flex items-center">\r\n                    <figure>\r\n                        <img class="h-12 w-12 object-cover rounded-full mr-4" src="{{ $course->teacher->profile_photo_url }}" alt="">\r\n                    </figure>\r\n                    <div>\r\n                        <p>{{ $course->teacher->name }}</p>\r\n                        <a class="text-blue-500 text-sm" href="">{{ \'@\' . Str::slug($course->teacher->name, \'\') }}</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <p class="text-gray-600 text-sm mt-2">{{ $this->advance . \'%\' }} completado</p>\r\n                <div class="relative pt-1">\r\n                    <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-200">\r\n                        <div style="width:{{ $this->advance . \'%\' }}" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <ul>\r\n                    @foreach ($course->sections as $section)\r\n                        <li class="text-gray-600 mb-4">\r\n                            <a class="font-bold text-base inline-block mb-2">{{ $section->name }}</a>\r\n                            <ul>\r\n                                @foreach ($section->lessons as $lesson)\r\n                                    <li class="flex">\r\n                                        <div>\r\n                                            @if ($lesson->completed)\r\n                                                @if ($current->id == $lesson->id)\r\n                                                    <span class="inline-block w-4 h-4 border-2 border-yellow-300 rounded-full mr-2 mt-1"></span>\r\n                                                @else\r\n                                                    <span class="inline-block w-4 h-4 bg-yellow-300 rounded-full mr-2 mt-1"></span>\r\n                                                @endif\r\n                                            @else\r\n                                                @if ($current->id == $lesson->id)\r\n                                                    <span class="inline-block w-4 h-4 border-2 border-gray-500 rounded-full mr-2 mt-1"></span>\r\n                                                @else\r\n                                                    <span class="inline-block w-4 h-4 bg-gray-500 rounded-full mr-2 mt-1"></span>\r\n                                                @endif\r\n                                            @endif\r\n                                        </div>\r\n                                        <a class="cursor-pointer" wire:click="changeLesson({{ $lesson }})" >{{ $lesson->name }}</a>\r\n                                    </li>\r\n                                @endforeach\r\n                            </ul>\r\n                        </li>\r\n                    @endforeach\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar controlador del componente ",(0,s.jsx)(r.strong,{children:"CourseStatus"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseStatus.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Lesson;\r\nuse Livewire\\Component;\r\n\r\nclass CourseStatus extends Component\r\n{\r\n    public $course, $current;\r\n\r\n    // atrapa el slug del curso en la url (el m\xe9todo debe llamarse mount)\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        foreach($course->lessons as $lesson){\r\n            if(!$lesson->completed){\r\n                $this->current = $lesson;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // En caso de que todas las lecciones esten completadas\r\n        if(!$this->current){\r\n            $this->current = $course->lessons->last();\r\n        }\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.course-status');\r\n    }\r\n\r\n    // M\xc9TODOS\r\n\r\n    public function changeLesson(Lesson $lesson){\r\n        $this->current = $lesson;\r\n    }\r\n\r\n    public function completed(){\r\n        if($this->current->completed){\r\n            // Eliminar registro\r\n            $this->current->users()->detach(auth()->user()->id);\r\n        }else{\r\n            // Agregar registro\r\n            $this->current->users()->attach(auth()->user()->id);\r\n        }\r\n        $this->current = Lesson::find($this->current->id);\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n\r\n    // PROPIEDADES COMPUTADAS\r\n\r\n    // Propiedad computada para index\r\n    public function getIndexProperty(){\r\n        return $this->course->lessons->pluck('id')->search($this->current->id);\r\n    }\r\n\r\n    // Propiedad computada para previous\r\n    public function getPreviousProperty(){\r\n        if($this->index == 0){\r\n            return null;\r\n        }else{\r\n            return $this->course->lessons[$this->index - 1];\r\n        }\r\n    }\r\n\r\n    // Propiedad computada para next\r\n    public function getNextProperty(){\r\n        if($this->index == $this->course->lessons->count() - 1){\r\n            return null;\r\n        }else{\r\n            return $this->course->lessons[$this->index + 1];\r\n        }\r\n    }\r\n    \r\n    // Propiedad computada para advance\r\n    public function getAdvanceProperty(){\r\n        $i = 0;\r\n        foreach ($this->course->lessons as $lesson) {\r\n            if($lesson->completed){\r\n                $i++;\r\n            }\r\n        }\r\n        $advance = ($i * 100)/($this->course->lessons->count());\r\n        return round($advance, 2);\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-26-proteger-rutas",children:"Video 26. Proteger rutas"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador ",(0,s.jsx)(r.strong,{children:"CourseStatus"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseStatus.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Lesson;\r\nuse Livewire\\Component;\r\nuse Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests;\r\n\r\nclass CourseStatus extends Component\r\n{\r\n    use AuthorizesRequests;\r\n    public $course, $current;\r\n\r\n    // atrapa el slug del curso en la url (el m\xe9todo debe llamarse mount)\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        foreach($course->lessons as $lesson){\r\n            if(!$lesson->completed){\r\n                $this->current = $lesson;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // En caso de que todas las lecciones esten completadas\r\n        if(!$this->current){\r\n            $this->current = $course->lessons->last();\r\n        }\r\n\r\n        // Verifica si el usuario tiene autorizaci\xf3n para ingresar al curso\r\n        $this->authorize('enrolled', $course);\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar ruta ",(0,s.jsx)(r.strong,{children:"courses.status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="outes\\web.php"',children:"Route::get('course-status/{course}', CourseStatus::class)->name('courses.status')->middleware('auth');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"published"})," en ",(0,s.jsx)(r.strong,{children:"CoursePolicy"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Policies\\CoursePolicy.php"',children:"public function published(?User $user, Course $course){\r\n    if($course->status == 3){\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"show"})," en ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\CourseController.php"',children:"public function show(Course $course){\r\n    $this->authorize('published', $course);\r\n\r\n    $similares = Course::where('category_id', $course->category_id)\r\n                    ->where('id','!=',$course->id)\r\n                    ->where('status', 3)\r\n                    ->latest('id')\r\n                    ->take(5)\r\n                    ->get();\r\n    return view('courses.show',compact('course', 'similares'));\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-5-roles-y-permisos",children:"Secci\xf3n 5: Roles y permisos"}),"\n",(0,s.jsx)(r.h3,{id:"video-27-generar-las-rutas-de-acceso-para-los-instructores",children:"Video 27. Generar las rutas de acceso para los instructores"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear archivo de rutas ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"<?php\r\n\r\nuse App\\Http\\Livewire\\InstructorCourses;\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\nRoute::redirect('', 'instructor/courses');\r\n\r\nRoute::get('courses', InstructorCourses::class)->name('courses.index');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"boot"})," de la clase ",(0,s.jsx)(r.strong,{children:"RouteServiceProvider"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Providers\\RouteServiceProvider.php"',children:"public function boot()\r\n{\r\n    $this->configureRateLimiting();\r\n\r\n    $this->routes(function () {\r\n        Route::prefix('api')\r\n            ->middleware('api')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/api.php'));\r\n\r\n        Route::middleware('web')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/web.php'));\r\n\r\n        Route::middleware('web', 'auth')\r\n            ->prefix('admin')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/admin.php'));\r\n\r\n        Route::middleware('web', 'auth')\r\n            ->name('instructor.')\r\n            ->prefix('instructor')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/instructor.php'));\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componentes para cursos de instructores:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire instructor-courses\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"navigation-dropdown"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\navigation-dropdown.blade.php"',children:'\x3c!-- ... --\x3e\r\n    \x3c!-- Settings Dropdown --\x3e\r\n    <div class="hidden sm:flex sm:items-center sm:ml-6">\r\n\r\n        @auth   \r\n\x3c!-- ... --\x3e\r\n                <x-slot name="content">\r\n                    \x3c!-- Account Management --\x3e\r\n                    <div class="block px-4 py-2 text-xs text-gray-400">\r\n                        {{ __(\'Manage Account\') }}\r\n                    </div>\r\n\r\n                    <x-jet-dropdown-link href="{{ route(\'profile.show\') }}">\r\n                        Perfil\r\n                    </x-jet-dropdown-link>\r\n\r\n                    <x-jet-dropdown-link href="{{ route(\'instructor.courses.index\') }}">\r\n                        Instructor\r\n                    </x-jet-dropdown-link>\r\n\x3c!-- ... --\x3e\r\n\x3c!-- Responsive Settings Options --\x3e\r\n@auth\r\n\r\n    <div class="pt-4 pb-1 border-t border-gray-200">\r\n\x3c!-- ... --\x3e\r\n        <div class="mt-3 space-y-1">\r\n            \x3c!-- Account Management --\x3e\r\n            <x-jet-responsive-nav-link href="{{ route(\'profile.show\') }}" :active="request()->routeIs(\'profile.show\')">\r\n                Perfil\r\n            </x-jet-responsive-nav-link>\r\n\r\n            <x-jet-responsive-nav-link href="{{ route(\'instructor.courses.index\') }}" :active="request()->routeIs(\'instructor.courses.index\')">\r\n                Instructor\r\n            </x-jet-responsive-nav-link>       \r\n\x3c!-- ... --\x3e\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-28-instalar-laravel-permission",children:"Video 28. Instalar Laravel Permission"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://spatie.be/docs/laravel-permission/v3/basic-usage/basic-usage",children:"https://spatie.be/docs/laravel-permission/v3/basic-usage/basic-usage"})}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Instalar Laravel Permission (sistema de roles y persmisos):","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"composer require spatie/laravel-permission\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Publicar las vistas de Laravel Permission:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'php artisan vendor:publish --provider="Spatie\\Permission\\PermissionServiceProvider"\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar las migraciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar modelo ",(0,s.jsx)(r.strong,{children:"User"}),":\r\nImportar a la cabecera:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\User.php"',children:"use Spatie\\Permission\\Traits\\HasRoles;\n"})}),"\n","Indicar a la clase User que se usar\xe1 la libreria anterior:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\User.php"',children:"class User extends Authenticatable\r\n{\r\n    use HasApiTokens;\r\n    use HasFactory;\r\n    use HasProfilePhoto;\r\n    use Notifiable;\r\n    use TwoFactorAuthenticatable;\r\n    use HasRoles;  \r\n    // ...\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-29-agregar-permisos-y-preparar-entorno-de-trabajo",children:"Video 29. Agregar permisos y preparar entorno de trabajo"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Ejecutar Tinker e ingresar permisos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"$ php artisan tinker\r\n>>> use Spatie\\Permission\\Models\\Permission;\r\n>>> Permission::create(['name' => 'Crear cursos']);\r\n>>> Permission::create(['name' => 'Leer cursos']);\r\n>>> Permission::create(['name' => 'Actualizar cursos']);\r\n>>> Permission::create(['name' => 'Eliminar cursos']);\r\n>>> exit\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador para administrar roles:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Admin/RoleController -r\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar el modelo Role de Laravel Permission en ",(0,s.jsx)(r.strong,{children:"RoleController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\RoleController.php"',children:"use Spatie\\Permission\\Models\\Role;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador Role en ",(0,s.jsx)(r.strong,{children:"RoleController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\RoleController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Admin;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse Illuminate\\Http\\Request;\r\nuse Spatie\\Permission\\Models\\Role;\r\n\r\nclass RoleController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        return view('admin.roles.index');\r\n    }\r\n\r\n    /**\r\n    * Show the form for creating a new resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function create()\r\n    {\r\n        return view('admin.roles.create');\r\n    }\r\n\r\n    /**\r\n    * Store a newly created resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function store(Request $request)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Display the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function show(Role $role)\r\n    {\r\n        return view('admin.roles.show', compact('role'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(Role $role)\r\n    {\r\n        return view('admin.roles.edit', compact('role'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, Role $role)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Remove the specified resource from storage.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function destroy(Role $role)\r\n    {\r\n        //\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vistas del CRUD Role:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"index"}),":"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="index.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Coders Free</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <p>Welcome to this beautiful admin panel.</p>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"create"}),":"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="create.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Coders Free</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <p>Welcome to this beautiful admin panel.</p>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"show"}),":"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="show.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Coders Free</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <p>Welcome to this beautiful admin panel.</p>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"edit"}),":"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="edit.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Coders Free</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <p>Welcome to this beautiful admin panel.</p>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar ruta para el CRUD Role:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::get('', [HomeController::class, 'index'])->name('home');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar ",(0,s.jsx)(r.strong,{children:"config\\adminlte.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\adminlte.php"',children:"<?php\r\n\r\nreturn [\r\n\r\n    // ...\r\n\r\n    'logo' => '<b>Coders</b>FREE',\r\n    'logo_img' => 'vendor/adminlte/dist/img/AdminLTELogo.png',\r\n    'logo_img_class' => 'brand-image img-circle elevation-3',\r\n    'logo_img_xl' => null,\r\n    'logo_img_xl_class' => 'brand-image-xs',\r\n    'logo_img_alt' => 'AdminLTE',\r\n\r\n    // ...\r\n\r\n    'use_route_url' => false,\r\n\r\n    'dashboard_url' => '/',\r\n\r\n    'logout_url' => 'logout',\r\n\r\n    'login_url' => 'login',\r\n\r\n    'register_url' => 'register',\r\n\r\n    'password_reset_url' => 'password/reset',\r\n\r\n    'password_email_url' => 'password/email',\r\n\r\n    'profile_url' => false,\r\n\r\n    // ...\r\n\r\n    'menu' => [\r\n        [\r\n            'text' => 'search',\r\n            'search' => true,\r\n            'topnav' => true,\r\n        ],\r\n        [\r\n            'text' => 'blog',\r\n            'url'  => 'admin/blog',\r\n            'can'  => 'manage-blog',\r\n        ],\r\n        [\r\n            'text'        => 'Dashboard',\r\n            'route'         => 'admin.home',\r\n            'icon'        => 'fas fa-fw fa-tachometer-alt',\r\n        ],\r\n        [\r\n            'text'        => 'Lista de roles',\r\n            'route'         => 'admin.roles.index',\r\n            'icon'        => 'fas fa-fw fa-users-cog',\r\n        ],\r\n        ['header' => 'account_settings'],\r\n        [\r\n            'text' => 'profile',\r\n            'url'  => 'admin/settings',\r\n            'icon' => 'fas fa-fw fa-user',\r\n        ],\r\n        // ...\r\n    ],\r\n\r\n    // ...\r\n];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Darle nombre a la ruta ra\xedz en ",(0,s.jsx)(r.strong,{children:"routes\\admin.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::get('', [HomeController::class, 'index'])->name('home');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"boot"})," en ",(0,s.jsx)(r.strong,{children:"RouteServiceProvider"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Providers\\RouteServiceProvider.php"',children:"public function boot()\r\n{\r\n    $this->configureRateLimiting();\r\n\r\n    $this->routes(function () {\r\n        // ...\r\n        Route::middleware('web', 'auth')\r\n            ->name('admin.')\r\n            ->prefix('admin')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/admin.php'));\r\n        // ...\r\n    });\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-30-crear-un-crud-para-roles",children:"Video 30. Crear un CRUD para roles"}),"\n",(0,s.jsx)(r.admonition,{title:"URL de interes",type:"tip",children:(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://hackerthemes.com/bootstrap-cheatsheet/",children:"https://hackerthemes.com/bootstrap-cheatsheet/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/jeroennoten/Laravel-AdminLTE/wiki",children:"https://github.com/jeroennoten/Laravel-AdminLTE/wiki"})}),"\n"]})}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador ",(0,s.jsx)(r.strong,{children:"RoleController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\RoleController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Admin;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse Illuminate\\Http\\Request;\r\nuse Spatie\\Permission\\Models\\Role;\r\nuse Spatie\\Permission\\Models\\Permission;\r\n\r\nclass RoleController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        $roles = Role::all();\r\n        return view('admin.roles.index', compact('roles'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for creating a new resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function create()\r\n    {\r\n        $permissions = Permission::all();\r\n        return view('admin.roles.create', compact('permissions'));\r\n    }\r\n\r\n    /**\r\n    * Store a newly created resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function store(Request $request)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required',\r\n            'permissions' => 'required'\r\n        ]);\r\n        \r\n        $role = Role::create([\r\n            'name' => $request->name\r\n        ]);\r\n\r\n        $role->permissions()->attach($request->permissions);\r\n\r\n        return redirect()->route('admin.roles.index')->with('info', 'El rol se creo satisfactoriamente');\r\n    }\r\n\r\n    /**\r\n    * Display the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function show(Role $role)\r\n    {\r\n        return view('admin.roles.show', compact('role'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(Role $role)\r\n    {\r\n        $permissions = Permission::all();\r\n        return view('admin.roles.edit', compact('role', 'permissions'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, Role $role)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required',\r\n            'permissions' => 'required'\r\n        ]);\r\n\r\n        $role->permissions()->sync($request->permissions);\r\n\r\n        return redirect()->route('admin.roles.edit', $role);\r\n    }\r\n\r\n    /**\r\n    * Remove the specified resource from storage.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function destroy(Role $role)\r\n    {\r\n        $role->delete();\r\n        return redirect()->route('admin.roles.index')->with('info', 'El rol se elimin\xf3 con \xe9xito');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\roles\\index.blade.php"',children:'@extends(\'adminlte::page\')\r\n\r\n@section(\'title\', \'Coders Free\')\r\n\r\n@section(\'content_header\')\r\n    <h1>Lista de roles</h1>\r\n@stop\r\n\r\n@section(\'content\')\r\n    @if (session(\'info\'))\r\n        <div class="alert alert-primary" role="alert">\r\n            <strong>\xa1\xc9xito!</strong> {{ session(\'info\') }}\r\n            important alert message.\r\n        </div>\r\n        \r\n    @endif\r\n\r\n    <div class="card">\r\n        <div class="card-header">\r\n            <a href="{{ route(\'admin.roles.create\') }}">Crear rol</a>\r\n        </div>\r\n        <div class="card-body">\r\n            <table class="table table-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Name</th>\r\n                        <th colspan="2"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    @forelse ($roles as $role)\r\n                        <tr>\r\n                            <td>{{ $role->id }}</td>\r\n                            <td>{{ $role->name }}</td>\r\n                            <td width="10px">\r\n                                <a class="btn btn-secondary" href="{{ route(\'admin.roles.edit\', $role) }}">Editar</a>\r\n                            </td>\r\n                            <td width="10px">\r\n                                <form action="{{ route(\'admin.roles.destroy\', $role) }}" method="POST">\r\n                                    @method(\'delete\')\r\n                                    @csrf\r\n                                    <button class="btn btn-danger" type="submit">Eliminar</button>\r\n                                </form>\r\n                            </td>\r\n                        </tr>\r\n                    @empty\r\n                        <tr>\r\n                            <td colspan="4">No hay ning\xfan rol registrado</td>\r\n                        </tr>\r\n                    @endforelse\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section(\'css\')\r\n    <link rel="stylesheet" href="/css/admin_custom.css">\r\n@stop\r\n\r\n@section(\'js\')\r\n    <script> console.log(\'Hi!\'); <\/script>\r\n@stop\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Publicar vista de AdminLTE:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan adminlte:install --only=main_views\n"})}),"\n",(0,s.jsx)(r.admonition,{title:"Nota",type:"tip",children:(0,s.jsxs)(r.p,{children:["En ",(0,s.jsx)(r.strong,{children:"resources\\views\\vendor\\adminlte\\page.blade.php"})," es de donde se extienden las plantillas."]})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Instalar Laravel Collective:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"composer require laravelcollective/html\n"})}),"\n",(0,s.jsx)(r.admonition,{title:"Documentaci\xf3n",type:"tip",children:(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://laravelcollective.com/docs/6.x/html",children:"https://laravelcollective.com/docs/6.x/html"})})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"create"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\roles\\create.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Crear nuevo rol</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::open(['route' => 'admin.roles.store']) !!}\r\n                @include('admin.roles.partials.form')\r\n                {!! Form::submit('Crear Rol', ['class' => 'btn btn-primary mt-2']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear formulario para el rol:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\roles\\partials\\form.blade.php"',children:"<div class=\"form-group\">\r\n    {!! Form::label('name', 'Nombre: ') !!}\r\n    {!! Form::text('name', null, ['class' => 'form-control' . ($errors->has('name') ? ' is-invalid' :  ''), 'placeholder' => 'Escriba un nombre']) !!}\r\n    @error('name')\r\n        <span class=\"invalid-feedback\">\r\n            <strong>{{ $message }}</strong>\r\n        </span>\r\n    @enderror\r\n</div>\r\n<strong>Permisos</strong>\r\n@error('permissions')\r\n    <br>\r\n    <small class=\"text-danger\">\r\n        <strong>{{ $message }}</strong>\r\n    </small>\r\n    <br>\r\n@enderror\r\n@foreach ($permissions as $permission)\r\n    <div>\r\n        <label>\r\n            {!! Form::checkbox('permissions[]', $permission->id, null, ['class' => 'mr-1']) !!}\r\n            {{ $permission->name }}\r\n        </label>\r\n    </div>\r\n@endforeach\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\roles\\edit.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Editar rol</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::model($role, ['route' => ['admin.roles.update', $role], 'method' => 'put']) !!}\r\n                @include('admin.roles.partials.form')\r\n                {!! Form::submit('Actualizar Rol', ['class' => 'btn btn-primary mt-2']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-31-crear-un-crud-para-usuarios",children:"Video 31. Crear un CRUD para usuarios"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"update"})," del controlador ",(0,s.jsx)(r.strong,{children:"RoleController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\RoleController.php"',children:"public function update(Request $request, Role $role)\r\n{\r\n    $request->validate([\r\n        'name' => 'required',\r\n        'permissions' => 'required'\r\n    ]);\r\n\r\n    $role->update([\r\n        'name' => $request->name\r\n    ]);\r\n\r\n    $role->permissions()->sync($request->permissions);\r\n\r\n    return redirect()->route('admin.roles.edit', $role);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"adminlte"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\adminlte.php"',children:"<?php\r\n\r\nreturn [\r\n    // ...\r\n    'menu' => [\r\n        [\r\n            'text'      => 'search',\r\n            'search'    => true,\r\n            'topnav'    => true,\r\n        ],\r\n        [\r\n            'text' => 'blog',\r\n            'url'  => 'admin/blog',\r\n            'can'  => 'manage-blog',\r\n        ],\r\n        [\r\n            'text'  => 'Dashboard',\r\n            'route' => 'admin.home',\r\n            'icon'  => 'fas fa-fw fa-tachometer-alt',\r\n        ],\r\n        [\r\n            'text'      => 'Lista de roles',\r\n            'route'     => 'admin.roles.index',\r\n            'icon'      => 'fas fa-fw fa-users-cog',\r\n            'active'    => ['admin/roles*'],\r\n        ],\r\n        [\r\n            'text'      => 'Usuarios',\r\n            'route'     => 'admin.users.index',\r\n            'icon'      => 'fas fa-fw fa-users',\r\n            'active'    => ['admin/users*'],\r\n        ],\r\n        // ...\r\n    ],\r\n    // ...\r\n    'livewire' => true,\r\n];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador ",(0,s.jsx)(r.strong,{children:"User"})," para CRUD de usuarios:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Admin\\UserController -r\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador ",(0,s.jsx)(r.strong,{children:"UserController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\UserController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Admin;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse App\\Models\\User;\r\nuse Illuminate\\Http\\Request;\r\nuse Spatie\\Permission\\Models\\Role;\r\n\r\nclass UserController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        return view('admin.users.index');\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(User $user)\r\n    {\r\n        $roles = Role::all();\r\n        return view('admin.users.edit', compact('user', 'roles'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, User $user)\r\n    {\r\n        $user->roles()->sync($request->roles);\r\n        return redirect()->route('admin.users.edit', $user);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear las vistas para el CRUD ",(0,s.jsx)(r.strong,{children:"User"}),":\r\n",(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\users\\index.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Lista de usuarios</h1>\r\n@stop\r\n\r\n@section('content')\r\n    @livewire('admin-users')\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n",(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\users\\edit.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Editar usuario</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <h1 class=\"h5\">Nombre:</h1>\r\n            <p class=\"form-control\">{{ $user->name }}</p>\r\n            <h1 class=\"h5\">Lista de roles</h1>\r\n            {!! Form::model($user, ['route' => ['admin.users.update', $user], 'method' => 'put']) !!}\r\n                @foreach ($roles as $role)\r\n                    <div>\r\n                        <label>\r\n                            {!! Form::checkbox('roles[]', $role->id, null, ['class' => 'mr-1']) !!}\r\n                            {{ $role->name }}\r\n                        </label>\r\n                    </div>\r\n                @endforeach\r\n                {!! Form::submit('Asignar rol', ['class' => 'btn btn-primary mt-2']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para el CRUD ",(0,s.jsx)(r.strong,{children:"User"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::resource('users', UserController::class)->only(['index', 'edit', 'update'])->names('users');\n"})}),"\n","Importar controlador ",(0,s.jsx)(r.strong,{children:"User"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use App\\Http\\Controllers\\Admin\\UserController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente de livewire para administrar usuarios:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire admin-users\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador del componente ",(0,s.jsx)(r.strong,{children:"AdminUsers"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\AdminUsers.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\User;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\n\r\nclass AdminUsers extends Component\r\n{\r\n    use WithPagination;\r\n\r\n    protected $paginationTheme = \"bootstrap\";\r\n\r\n    public $search;\r\n\r\n    public function render()\r\n    {\r\n        $users = User::where('name', 'LIKE', '%' . $this->search . '%')\r\n                    ->orWhere('email', 'LIKE', '%' . $this->search . '%')\r\n                    ->paginate(8);\r\n        return view('livewire.admin-users', compact('users'));\r\n    }\r\n\r\n    public function limpiar_page(){\r\n        $this->reset('page');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista del componente ",(0,s.jsx)(r.strong,{children:"admin-users"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\admin-users.blade.php"',children:'<div>\r\n    <div class="card">\r\n        <div class="card-header">\r\n            <input wire:keydown="limpiar_page" wire:model="search" class="form-control w-100" placeholder="Escriba un nombre ...">\r\n        </div>\r\n        @if ($users->count())\r\n            <div class="card-body">\r\n                <table class="table table-striped">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>Nombre</th>\r\n                            <th>Email</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        @foreach ($users as $user)\r\n                            <tr>\r\n                                <td>{{ $user->id }}</td>\r\n                                <td>{{ $user->name }}</td>\r\n                                <td>{{ $user->email }}</td>\r\n                                <td width="10px">\r\n                                    <a class="btn btn-primary" href="{{ route(\'admin.users.edit\', $user) }}">Editar</a>\r\n                                </td>\r\n                            </tr>\r\n                        @endforeach\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div class="card-footer">\r\n                {{ $users->links() }}\r\n            </div>\r\n        @else\r\n            <div class="card-body">\r\n                <strong>No hay registros ...</strong>\r\n            </div>\r\n        @endif\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-32-restringir-botones-y-rutas-por-permisos",children:"Video 32. Restringir botones y rutas por permisos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"navigation-dropdown"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\navigation-dropdown.blade.php"',children:'// ...\r\n<nav x-data="{ open: false }" class="bg-white border-b border-gray-100 shadow">\r\n    \x3c!-- Primary Navigation Menu --\x3e\r\n    <div class="container">\r\n        <div class="flex justify-between h-16">\r\n            // ...\r\n            \x3c!-- Settings Dropdown --\x3e\r\n            <div class="hidden sm:flex sm:items-center sm:ml-6">\r\n                @auth\r\n                    <x-jet-dropdown align="right" width="48">\r\n                        // ...\r\n                        <x-slot name="content">\r\n                            \x3c!-- Account Management --\x3e\r\n                            <div class="block px-4 py-2 text-xs text-gray-400">\r\n                                {{ __(\'Manage Account\') }}\r\n                            </div>\r\n                            <x-jet-dropdown-link href="{{ route(\'profile.show\') }}">\r\n                                Perfil\r\n                            </x-jet-dropdown-link>\r\n\r\n                            @can(\'Leer cursos\')\r\n                                <x-jet-dropdown-link href="{{ route(\'instructor.courses.index\') }}">\r\n                                    Instructor\r\n                                </x-jet-dropdown-link>\r\n                            @endcan\r\n\r\n                            @can(\'Ver dashboard\')\r\n                                <x-jet-dropdown-link href="{{ route(\'admin.home\') }}">\r\n                                    Administrador\r\n                                </x-jet-dropdown-link>\r\n                            @endcan\r\n\r\n                            @if (Laravel\\Jetstream\\Jetstream::hasApiFeatures())\r\n                                <x-jet-dropdown-link href="{{ route(\'api-tokens.index\') }}">\r\n                                    {{ __(\'API Tokens\') }}\r\n                                </x-jet-dropdown-link>\r\n                            @endif\r\n                            // ...\r\n                        </x-slot>\r\n                    </x-jet-dropdown>\r\n                @else\r\n                    // ...\r\n                @endauth\r\n            </div>\r\n\r\n            \x3c!-- Hamburger --\x3e\r\n            // ...\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- Responsive Navigation Menu --\x3e\r\n    <div :class="{\'block\': open, \'hidden\': ! open}" class="hidden sm:hidden">\r\n        // ...\r\n        \x3c!-- Responsive Settings Options --\x3e\r\n        @auth\r\n            <div class="pt-4 pb-1 border-t border-gray-200">\r\n                // ...\r\n\r\n                <div class="mt-3 space-y-1">\r\n                    \x3c!-- Account Management --\x3e\r\n                    <x-jet-responsive-nav-link href="{{ route(\'profile.show\') }}" :active="request()->routeIs(\'profile.show\')">\r\n                        Perfil\r\n                    </x-jet-responsive-nav-link>\r\n                    \r\n                    @can(\'Leer cursos\')\r\n                        <x-jet-responsive-nav-link href="{{ route(\'instructor.courses.index\') }}" :active="request()->routeIs(\'instructor.courses.index\')">\r\n                            Instructor\r\n                        </x-jet-responsive-nav-link>\r\n                    @endcan\r\n            \r\n                    @can(\'Ver dashboard\')\r\n                        <x-jet-responsive-nav-link href="{{ route(\'admin.home\') }}" :active="request()->routeIs(\'admin.home\')">\r\n                            Administrador\r\n                        </x-jet-responsive-nav-link>\r\n                    @endcan\r\n\r\n                    // ...\r\n                </div>\r\n            </div>\r\n        @else\r\n            // ...\r\n        @endauth\r\n    </div>  \r\n</nav>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar ruta ",(0,s.jsx)(r.strong,{children:"courses.index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"Route::get('courses', InstructorCourses::class)->middleware('can:Leer cursos')->name('courses.index');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear seeder para generar roles permisos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:seeder RoleSeeder\r\nphp artisan make:seeder PermissionSeeder\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar seeder ",(0,s.jsx)(r.strong,{children:"PermissionSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\PermissionSeeder.php"',children:"<?php\r\n\r\nnamespace Database\\Seeders;\r\n\r\nuse Illuminate\\Database\\Seeder;\r\nuse Spatie\\Permission\\Models\\Permission;\r\n\r\nclass PermissionSeeder extends Seeder\r\n{\r\n    /**\r\n    * Run the database seeds.\r\n    *\r\n    * @return void\r\n    */\r\n    public function run()\r\n    {\r\n        Permission::create(['name' => 'Crear cursos']);\r\n        Permission::create(['name' => 'Leer cursos']);\r\n        Permission::create(['name' => 'Actualizar cursos']);\r\n        Permission::create(['name' => 'Eliminar cursos']);\r\n        Permission::create(['name' => 'Ver dashboard']);\r\n        Permission::create(['name' => 'Crear role']);\r\n        Permission::create(['name' => 'Listar role']);\r\n        Permission::create(['name' => 'Editar role']);\r\n        Permission::create(['name' => 'Eliminar role']);\r\n        Permission::create(['name' => 'Leer usuarios']);\r\n        Permission::create(['name' => 'Editar usuarios']);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar seeder ",(0,s.jsx)(r.strong,{children:"RoleSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\RoleSeeder.php"',children:"<?php\r\n\r\nnamespace Database\\Seeders;\r\n\r\nuse Illuminate\\Database\\Seeder;\r\nuse Spatie\\Permission\\Models\\Role;\r\n\r\nclass RoleSeeder extends Seeder\r\n{\r\n    /**\r\n    * Run the database seeds.\r\n    *\r\n    * @return void\r\n    */\r\n    public function run()\r\n    {\r\n        $role = Role::create(['name' => 'Admin']);\r\n        $role->permissions()->attach([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]);\r\n\r\n        $role = Role::create(['name' => 'Instructor']);\r\n        $role->syncPermissions(['Crear cursos', 'Leer cursos', 'Actualizar cursos', 'Eliminar cursos']);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Incluir los seeder de permisos y roles en m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," de ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"public function run()\r\n{\r\n    Storage::deleteDirectory('cursos');\r\n    Storage::makeDirectory('cursos');\r\n    \r\n    $this->call(PermissionSeeder::class);\r\n    $this->call(RoleSeeder::class);\r\n\r\n    $this->call(UserSeeder::class);\r\n    $this->call(LevelSeeder::class);\r\n    $this->call(CategorySeeder::class);\r\n    $this->call(PriceSeeder::class);\r\n    $this->call(PlatformSeeder::class);\r\n    $this->call(CourseSeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"UserSeeder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\UserSeeder.php"',children:"public function run()\r\n{\r\n    $user = User::create([\r\n        'name' => 'Pedro Jes\xfas Baz\xf3 Canel\xf3n',\r\n        'email' => 'bazo.pedro@gmail.com',\r\n        'password' => bcrypt('12345678')\r\n    ]);\r\n\r\n    $user->assignRole('Admin');\r\n\r\n    User::factory(99)->create();\r\n}  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"adminlte"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\adminlte.php"',children:"// ...\r\n'menu' => [\r\n    [\r\n        'text'      => 'search',\r\n        'search'    => true,\r\n        'topnav'    => true,\r\n    ],\r\n    [\r\n        'text' => 'blog',\r\n        'url'  => 'admin/blog',\r\n        'can'  => 'manage-blog',\r\n    ],\r\n    [\r\n        'text'  => 'Dashboard',\r\n        'route' => 'admin.home',\r\n        'icon'  => 'fas fa-fw fa-tachometer-alt',\r\n        'can'   => 'Ver dashboard'\r\n    ],\r\n    [\r\n        'text'      => 'Lista de roles',\r\n        'route'     => 'admin.roles.index',\r\n        'icon'      => 'fas fa-fw fa-users-cog',\r\n        'can'       => 'Listar role',\r\n        'active'    => ['admin/roles*'],\r\n    ],\r\n    [\r\n        'text'      => 'Usuarios',\r\n        'route'     => 'admin.users.index',\r\n        'icon'      => 'fas fa-fw fa-users',\r\n        'can'       => 'Leer usuarios',\r\n        'active'    => ['admin/users*'],\r\n    ],\r\n    // ...\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Proteger ruta ",(0,s.jsx)(r.strong,{children:"home"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::get('', [HomeController::class, 'index'])->middleware('can:Ver dashboard')->name('home');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo ",(0,s.jsx)(r.strong,{children:"__construct"})," en el controlador ",(0,s.jsx)(r.strong,{children:"RoleController"})," para proteger las rutas ",(0,s.jsx)(r.strong,{children:"roles"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\RoleController.php"',children:"// ...\r\nclass RoleController extends Controller\r\n{\r\n    public function __construct(){\r\n        $this->middleware('can:Listar roles')->only('index');\r\n        $this->middleware('can:Crear role')->only('create', 'store');\r\n        $this->middleware('can:Editar role')->only('edit', 'update');\r\n        $this->middleware('can:Eliminar role')->only('destroy');\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo ",(0,s.jsx)(r.strong,{children:"__construct"})," en el controlador ",(0,s.jsx)(r.strong,{children:"UserController"})," para proteger las rutas ",(0,s.jsx)(r.strong,{children:"users"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\UserController.php"',children:"// ...\r\nclass UserController extends Controller\r\n{\r\n    public function __construct(){\r\n        $this->middleware('can:Leer usuarios')->only('index');\r\n        $this->middleware('can:Editar usuarios')->only('edit', 'update');\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-6-instructores",children:"Secci\xf3n 6: Instructores"}),"\n",(0,s.jsx)(r.h3,{id:"video-33-mostrar-el-listado-de-cursos-de-un-instructor",children:"Video 33. Mostrar el listado de cursos de un instructor"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador ",(0,s.jsx)(r.strong,{children:"InstructorCourses"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\InstructorCourses.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\n\r\nclass InstructorCourses extends Component\r\n{\r\n    use WithPagination;\r\n\r\n    public $search;\r\n\r\n    public function render()\r\n    {\r\n        $courses = Course::where('title', 'LIKE', '%' . $this->search . '%')\r\n                            ->where('user_id', auth()->user()->id)\r\n                            ->paginate(8);\r\n        return view('livewire.instructor-courses', compact('courses'));\r\n    }\r\n\r\n    public function limpiar_page(){\r\n        $this->reset('page');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar la vista ",(0,s.jsx)(r.strong,{children:"instructor-courses"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://tailwindui.com/preview",children:"https://tailwindui.com/preview"})}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor-courses.blade.php"',children:'<div class="container py-8">\r\n    <x-table-responsive>\r\n        <div class="px-6 py-4">\r\n            <input wire:keydown="limpiar_page" wire:model="search" class="form-input w-full shadow-sm" placeholder="Ingrese el nombre de un curso ...">\r\n        </div>\r\n        @if ($courses->count())\r\n            <table class="min-w-full divide-y divide-gray-200">\r\n                <thead class="bg-gray-50">\r\n                    <tr>\r\n                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">\r\n                            Nombre\r\n                        </th>\r\n                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">\r\n                            Matriculados\r\n                        </th>\r\n                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">\r\n                            Calificaci\xf3n\r\n                        </th>\r\n                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">\r\n                            Status\r\n                        </th>\r\n                        <th scope="col" class="relative px-6 py-3">\r\n                            <span class="sr-only">Edit</span>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class="bg-white divide-y divide-gray-200">\r\n                    @foreach ($courses as $course)\r\n                        <tr>\r\n                            <td class="px-6 py-4 whitespace-nowrap">\r\n                                <div class="flex items-center">\r\n                                    <div class="flex-shrink-0 h-10 w-10">\r\n                                        <img class="h-10 w-10 rounded-full" src="{{ Storage::url($course->image->url) }}" alt="">\r\n                                    </div>\r\n                                    <div class="ml-4">\r\n                                        <div class="text-sm font-medium text-gray-900">\r\n                                            {{ $course->title }}\r\n                                        </div>\r\n                                        <div class="text-sm text-gray-500">\r\n                                            {{ $course->category->name }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td class="px-6 py-4 whitespace-nowrap">\r\n                                <div class="text-sm text-gray-900">{{ $course->students->count() }}</div>\r\n                                <div class="text-sm text-gray-500">Alumnos matriculados</div>\r\n                            </td>\r\n                            <td class="px-6 py-4 whitespace-nowrap">\r\n                                <div class="text-sm text-gray-900 flex items-center">\r\n                                    {{ $course->rating }}\r\n                                    <ul class="flex text-sm ml-2">\r\n                                        <li class="mr-1">\r\n                                            <i class="fas fa-star text-{{ $course->rating >= 1 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                        </li>\r\n                                        <li class="mr-1">\r\n                                            <i class="fas fa-star text-{{ $course->rating >= 2 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                        </li>\r\n                                        <li class="mr-1">\r\n                                            <i class="fas fa-star text-{{ $course->rating >= 3 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                        </li>\r\n                                        <li class="mr-1">\r\n                                            <i class="fas fa-star text-{{ $course->rating >= 4 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                        </li>\r\n                                        <li class="mr-1">\r\n                                            <i class="fas fa-star text-{{ $course->rating == 5 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                                <div class="text-sm text-gray-500">Valoraci\xf3n del curso</div>\r\n                            </td>\r\n                            <td class="px-6 py-4 whitespace-nowrap">\r\n                                @switch($course->status)\r\n                                    @case(1)\r\n                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">\r\n                                            Borrador\r\n                                        </span>   \r\n                                        @break\r\n                                    @case(2)\r\n                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">\r\n                                            Revisi\xf3n\r\n                                        </span>   \r\n                                        @break\r\n                                    @case(3)\r\n                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">\r\n                                            Publicado\r\n                                        </span>   \r\n                                        @break\r\n                                    @default        \r\n                                @endswitch\r\n                            </td>\r\n                            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">\r\n                                <a href="#" class="text-indigo-600 hover:text-indigo-900">Edit</a>\r\n                            </td>\r\n                        </tr>  \r\n                    @endforeach\r\n                </tbody>\r\n            </table>\r\n            <div class="px-6 py-4">\r\n                {{ $courses->links() }}\r\n            </div>\r\n        @else\r\n            <div class="px-6 py-4">\r\n                No hay ning\xfan registro coincidente\r\n            </div>\r\n        @endif\r\n    </x-table-responsive>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente ",(0,s.jsx)(r.strong,{children:"table-responsive"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\components.blade.php"',children:'<div class="flex flex-col">\r\n    <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">\r\n        <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">\r\n            <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">\r\n\r\n                {{ $slot }}\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-34-reorganizar-rutas",children:"Video 34. Reorganizar rutas"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar archivo de rutas ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"<?php\r\n\r\nuse App\\Http\\Controllers\\Instructor\\CourseController;\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\nRoute::redirect('', 'instructor/courses');\r\n\r\nRoute::resource('courses', CourseController::class)->names('courses');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador para administrar las rutas relacionadas con los cursos de los instructores:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Instructor\\CourseController -r\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Instructor;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse App\\Models\\Course;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass CourseController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        return view('instructor.courses.index');\r\n    }\r\n\r\n    /**\r\n    * Show the form for creating a new resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function create()\r\n    {\r\n        return view('instructor.courses.create');\r\n    }\r\n\r\n    /**\r\n    * Store a newly created resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function store(Request $request)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Display the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function show(Course $course)\r\n    {\r\n        return view('instructor.courses.show', compact('course'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(Course $course)\r\n    {\r\n        return view('instructor.courses.edit', compact('course'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, Course $course)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Remove the specified resource from storage.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function destroy(Course $course)\r\n    {\r\n        //\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear las vistas para el controlador anterior:\r\n",(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\index.blade.php"',children:"<x-app-layout>\r\n    @livewire('instructor.courses-index')\r\n</x-app-layout>\n"})}),"\n",(0,s.jsx)(r.strong,{children:"create"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\create.blade.php"',children:"<x-app-layout></x-app-layout>\n"})}),"\n",(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\edit.blade.php"',children:"<x-app-layout></x-app-layout>\n"})}),"\n",(0,s.jsx)(r.strong,{children:"show"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\show.blade.php"',children:"<x-app-layout></x-app-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reubicar y cambiar nombre a componente controlador de livewire:\r\nDe:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"app\\Http\\Livewire\\InstructorCourses.php\n"})}),"\n","A:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"app\\Http\\Livewire\\Instructor\\CoursesIndex.php\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesIndex"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesIndex.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\n\r\nclass CoursesIndex extends Component\r\n{\r\n    use WithPagination;\r\n\r\n    public $search;\r\n\r\n    public function render()\r\n    {\r\n        $courses = Course::where('title', 'LIKE', '%' . $this->search . '%')\r\n                            ->where('user_id', auth()->user()->id)\r\n                            ->paginate(8);\r\n        return view('livewire.instructor.courses-index', compact('courses'));\r\n    }\r\n\r\n    public function limpiar_page(){\r\n        $this->reset('page');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reubicar y cambiar nombre a componente vista de livewire:\r\nDe:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"resources\\views\\livewire\\instructor-courses.blade.php\n"})}),"\n","A:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"resources\\views\\livewire\\instructor\\courses-index.blade.php\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Cambiar nombre a componente controlador de livewire:\r\nDe:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"app\\Http\\Livewire\\CourseIndex.php\n"})}),"\n","A:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"app\\Http\\Livewire\\CoursesIndex.php\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar controlador ",(0,s.jsx)(r.strong,{children:"CoursesIndex"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CoursesIndex.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Category;\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Level;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\n\r\nclass CoursesIndex extends Component\r\n{\r\n    use WithPagination;\r\n    \r\n    public $category_id;\r\n    public $level_id;\r\n\r\n    public function render()\r\n    {\r\n        $categories = Category::all();\r\n        $levels = Level::all();\r\n        $courses = Course::where('status', 3)\r\n            ->category($this->category_id)\r\n            ->level($this->level_id)\r\n            ->latest('id')\r\n            ->paginate(8);\r\n        return view('livewire.courses-index', compact('courses', 'categories', 'levels'));\r\n    }\r\n\r\n    public function resetFilters(){\r\n        $this->reset(['category_id','level_id']);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Cambiar nombre a componente vista de livewire:\r\nDe:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"resources\\views\\livewire\\course-index.blade.php\n"})}),"\n","A:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"resources\\views\\livewire\\courses-index.blade.php\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\index.blade.php"',children:'<x-app-layout>\r\n    <section class="bg-cover" style="background-image: url({{ asset(\'img/cursos/img_cursos.jpg\') }})">\r\n        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-36">\r\n            <div class="w-full md:w-3/4 lg:w-1/2">\r\n                <h1 class="text-white font-bold text-4xl">Los mejores cursos de programaci\xf3n \xa1GRATIS! y en espa\xf1ol.</h1>\r\n                <p class="text-white text-lg mt-2 mb-4">Si est\xe1s buscando potenciar tus conocimientos de programaci\xf3n, has llegado al lugar adecuado. Encuentra cursos y proyectos que te ayudar\xe1n en ese proceso</p>\r\n                \x3c!-- component extraido de https://tailwindcomponents.com/component/search-bar --\x3e\r\n                @livewire(\'search\')\r\n            </div>\r\n        </div>\r\n    </section>\r\n    @livewire(\'courses-index\')\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reubicar y cambiar nombre a componente controlador de livewire:\r\nDe:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"app\\Http\\Livewire\\AdminUsers.php\n"})}),"\n","A:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"app\\Http\\Livewire\\Admin\\UsersIndex.php\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador del componente ",(0,s.jsx)(r.strong,{children:"UsersIndex"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Admin\\UsersIndex.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Admin;\r\n\r\nuse App\\Models\\User;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\n\r\nclass UsersIndex extends Component\r\n{\r\n    use WithPagination;\r\n\r\n    protected $paginationTheme = \"bootstrap\";\r\n\r\n    public $search;\r\n\r\n    public function render()\r\n    {\r\n        $users = User::where('name', 'LIKE', '%' . $this->search . '%')\r\n                    ->orWhere('email', 'LIKE', '%' . $this->search . '%')\r\n                    ->paginate(8);\r\n        return view('livewire.admin.users-index', compact('users'));\r\n    }\r\n\r\n    public function limpiar_page(){\r\n        $this->reset('page');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reubicar y cambiar nombre a componente vista de livewire:\r\nDe:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"resources\\views\\livewire\\admin-users.blade.php\n"})}),"\n","A:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"resources\\views\\livewire\\admin\\users-index.blade.php\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\users\\index.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Lista de usuarios</h1>\r\n@stop\r\n\r\n@section('content')\r\n    @livewire('admin.users-index')\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-35-formulario-para-actualizar-informaci\xf3n-b\xe1sica-de-curso",children:"Video 35. Formulario para actualizar informaci\xf3n b\xe1sica de curso"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://ckeditor.com",children:"https://ckeditor.com"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://ckeditor.com/ckeditor-5/download",children:"https://ckeditor.com/ckeditor-5/download"})}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["En ",(0,s.jsx)(r.strong,{children:"courses-index"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-index.blade.php"',children:'<a href="#" class="text-indigo-600 hover:text-indigo-900">Edit</a>\n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-index.blade.php"',children:'<a href="{{ route(\'instructor.courses.edit\', $course) }}" class="text-indigo-600 hover:text-indigo-900">Edit</a>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar la vista ",(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\edit.blade.php"',children:"<x-app-layout>\r\n    <div class=\"container py-8 grid grid-cols-5\">\r\n        <aside>\r\n            <h1 class=\"font-bold text-lg mb-4\">Edici\xf3n del curso</h1>\r\n            <ul class=\"text-sm text-gray-600\">\r\n                <li class=\"leading-7 mb-1 border-l-4 border-indigo-400 pl-2\">\r\n                    <a href=\"\">Informaci\xf3n del curso</a>\r\n                </li>\r\n                <li class=\"leading-7 mb-1 border-l-4 border-transparent pl-2\">\r\n                    <a href=\"\">Lecciones del curso</a>\r\n                </li>\r\n                <li class=\"leading-7 mb-1 border-l-4 border-transparent pl-2\">\r\n                    <a href=\"\">Metas del curso</a>\r\n                </li>\r\n                <li class=\"leading-7 mb-1 border-l-4 border-transparent pl-2\">\r\n                    <a href=\"\">Estudiantes</a>\r\n                </li>\r\n            </ul>\r\n        </aside>\r\n        <div class=\"col-span-4 card\">\r\n            <div class=\"card-body text-gray-600\">\r\n                <h1 class=\"text-2xl font-bold\">INFORMACI\xd3N DEL CURSO</h1>\r\n                <hr class=\"mt-2 mb-6\">\r\n                {!! Form::model($course, ['route' => ['instructor.courses.update', $course], 'method' => 'put', 'files' => true]) !!}\r\n                    <div class=\"mb-4\">\r\n                        {!! Form::label('title', 'T\xedtulo del curso') !!}\r\n                        {!! Form::text('title', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n                    </div>\r\n                    <div class=\"mb-4\">\r\n                        {!! Form::label('slug', 'Slug del curso') !!}\r\n                        {!! Form::text('slug', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n                    </div>\r\n                    <div class=\"mb-4\">\r\n                        {!! Form::label('subtitle', 'Subt\xedtulo del curso') !!}\r\n                        {!! Form::text('subtitle', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n                    </div>\r\n                    <div class=\"mb-4\">\r\n                        {!! Form::label('description', 'Descripci\xf3n del curso') !!}\r\n                        {!! Form::textarea('description', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n                    </div>\r\n                    <div class=\"grid grid-cols-3 gap-4\">\r\n                        <div>\r\n                            {!! Form::label('category_id', 'Categor\xeda:') !!}\r\n                            {!! Form::select('category_id', $categories, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n                        </div>\r\n                        <div>\r\n                            {!! Form::label('level_id', 'Niveles:') !!}\r\n                            {!! Form::select('level_id', $levels, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n                        </div>\r\n                        <div>\r\n                            {!! Form::label('price_id', 'Precio:') !!}\r\n                            {!! Form::select('price_id', $prices, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n                        </div>\r\n                    </div>\r\n                    <h1 class=\"text-2xl font-bold mt-8 mb-2\">Imagen del curso</h1>\r\n                    <div class=\"grid grid-cols-2 gap-4\">\r\n                        <figure>\r\n                            <img id=\"picture\" class=\"w-full h-64 bg-cover bg-center\" src=\"{{ Storage::url($course->image->url) }}\" alt=\"\">\r\n                        </figure>\r\n                        <div>\r\n                            <p class=\"mb-2\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate recusandae nesciunt nostrum, tenetur ducimus fugiat aspernatur beatae alias magni! Accusantium libero aspernatur rem minus quidem quo voluptatem praesentium esse voluptatibus.</p>\r\n                            {!! Form::file('file', ['class' => 'form-input w-full', 'id' => 'file']) !!}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"flex justify-end\">\r\n                        {!! Form::submit('Actualizar informaci\xf3n', ['class' => 'btn btn-primary']) !!}\r\n                    </div>\r\n                {!! Form::close() !!}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <x-slot name=\"js\">\r\n        <script src=\"https://cdn.ckeditor.com/ckeditor5/27.1.0/classic/ckeditor.js\"><\/script>\r\n        <script>\r\n            //Slug autom\xe1tico\r\n            document.getElementById(\"title\").addEventListener('keyup', slugChange);\r\n\r\n            function slugChange(){\r\n                \r\n                title = document.getElementById(\"title\").value;\r\n                document.getElementById(\"slug\").value = slug(title);\r\n\r\n            }\r\n\r\n            function slug (str) {\r\n                var $slug = '';\r\n                var trimmed = str.trim(str);\r\n                $slug = trimmed.replace(/[^a-z0-9-]/gi, '-').\r\n                replace(/-+/g, '-').\r\n                replace(/^-|-$/g, '');\r\n                return $slug.toLowerCase();\r\n            }\r\n\r\n            //CKEDITOR\r\n            // Copiado de https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/configuration.html\r\n            // Para habilitar todas las opciones: https://ckeditor.com/docs/ckeditor5/latest/builds/guides/quick-start.html\r\n            ClassicEditor\r\n                .create( document.querySelector( '#description' ), {\r\n                    toolbar: [ 'heading', '|', 'bold', 'italic', 'link', 'blockQuote' ],\r\n                    heading: {\r\n                        options: [\r\n                            { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },\r\n                            { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },\r\n                            { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' }\r\n                        ]\r\n                    }\r\n                } )\r\n                .catch( error => {\r\n                    console.log( error );\r\n                } );\r\n\r\n            //Cambiar imagen\r\n            document.getElementById(\"file\").addEventListener('change', cambiarImagen);\r\n\r\n            function cambiarImagen(event){\r\n                var file = event.target.files[0];\r\n\r\n                var reader = new FileReader();\r\n                reader.onload = (event) => {\r\n                    document.getElementById(\"picture\").setAttribute('src', event.target.result); \r\n                };\r\n\r\n                reader.readAsDataURL(file);\r\n            }    \r\n        <\/script>\r\n    </x-slot>\r\n</x-app-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la plantilla ",(0,s.jsx)(r.strong,{children:"app"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\app.blade.php"',children:"<!DOCTYPE html>\r\n<html lang=\"{{ str_replace('_', '-', app()->getLocale()) }}\">\r\n    <head>\r\n        \x3c!-- ... --\x3e\r\n    </head>\r\n    <body class=\"font-sans antialiased\">\r\n        \x3c!-- ... --\x3e\r\n        @livewireScripts\r\n\r\n        @isset($js)\r\n            {{ $js }}  \r\n        @endisset\r\n    </body>\r\n</html>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Instructor;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse App\\Models\\Category;\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Level;\r\nuse App\\Models\\Price;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass CourseController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        return view('instructor.courses.index');\r\n    }\r\n\r\n    /**\r\n    * Show the form for creating a new resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function create()\r\n    {\r\n        return view('instructor.courses.create');\r\n    }\r\n\r\n    /**\r\n    * Store a newly created resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function store(Request $request)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Display the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function show(Course $course)\r\n    {\r\n        return view('instructor.courses.show', compact('course'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(Course $course)\r\n    {\r\n        // de esta forma recuperamos una colecci\xf3n con todos los nombres de las categorias y\r\n        // con el indice de las categorias a las que correponde\r\n        $categories = Category::pluck('name', 'id');\r\n        $levels = Level::pluck('name', 'id');\r\n        $prices = Price::pluck('name', 'id');\r\n        return view('instructor.courses.edit', compact('course','categories','levels','prices'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, Course $course)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Remove the specified resource from storage.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function destroy(Course $course)\r\n    {\r\n        //\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-36-formulario-para-crear-un-nuevo-curso",children:"Video 36. Formulario para crear un nuevo curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar ",(0,s.jsx)(r.strong,{children:"courses-index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-index.blade.php"',children:'<div class="container py-8">\r\n    <x-table-responsive>\r\n        <div class="px-6 py-4 flex">\r\n            <input wire:keydown="limpiar_page" wire:model="search" class="form-input flex-1 shadow-sm" placeholder="Ingrese el nombre de un curso ...">\r\n            <a class="btn btn-danger ml-2" href="{{ route(\'instructor.courses.create\') }}">Crear nuevo curso</a>\r\n        </div>\r\n        \x3c!-- ... --\x3e\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"create"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\create.blade.php"',children:"<x-app-layout>\r\n    <div class=\"container py-8\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h1 class=\"text-2xl font-bold\">CREAR NUEVO CURSO</h1>\r\n                <hr class=\"mt-2 mb-6\">\r\n                {!! Form::open(['route' => 'instructor.courses.store','files' => true, 'autocomplet' => 'off']) !!}\r\n                    {!! Form::hidden('user_id', auth()->user()->id) !!}\r\n\r\n                    @include('instructor.courses.partials.form')\r\n\r\n                    <div class=\"flex justify-end\">\r\n                        {!! Form::submit('Crear curso', ['class' => 'btn btn-primary cursor-pointer']) !!}\r\n                    </div>\r\n                {!! Form::close() !!}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <x-slot name=\"js\">\r\n        <script src=\"https://cdn.ckeditor.com/ckeditor5/27.1.0/classic/ckeditor.js\"><\/script>\r\n        <script src=\"{{ asset('js\\instructor\\courses\\form.js') }}\"><\/script>\r\n    </x-slot>\r\n</x-app-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crar vista ",(0,s.jsx)(r.strong,{children:"form"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\partials\\form.blade.php"',children:"<div class=\"mb-4\">\r\n    {!! Form::label('title', 'T\xedtulo del curso') !!}\r\n    {!! Form::text('title', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n</div>\r\n<div class=\"mb-4\">\r\n    {!! Form::label('slug', 'Slug del curso') !!}\r\n    {!! Form::text('slug', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n</div>\r\n<div class=\"mb-4\">\r\n    {!! Form::label('subtitle', 'Subt\xedtulo del curso') !!}\r\n    {!! Form::text('subtitle', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n</div>\r\n<div class=\"mb-4\">\r\n    {!! Form::label('description', 'Descripci\xf3n del curso') !!}\r\n    {!! Form::textarea('description', null, ['class' => 'form-input block w-full mt-1']) !!}\r\n</div>\r\n<div class=\"grid grid-cols-3 gap-4\">\r\n    <div>\r\n        {!! Form::label('category_id', 'Categor\xeda:') !!}\r\n        {!! Form::select('category_id', $categories, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n    </div>\r\n    <div>\r\n        {!! Form::label('level_id', 'Niveles:') !!}\r\n        {!! Form::select('level_id', $levels, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n    </div>\r\n    <div>\r\n        {!! Form::label('price_id', 'Precio:') !!}\r\n        {!! Form::select('price_id', $prices, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n    </div>\r\n</div>\r\n<h1 class=\"text-2xl font-bold mt-8 mb-2\">Imagen del curso</h1>\r\n<div class=\"grid grid-cols-2 gap-4\">\r\n    <figure>\r\n        @isset($course)\r\n            <img id=\"picture\" class=\"w-full h-64 object-cover object-center\" src=\"{{ Storage::url($course->image->url) }}\" alt=\"\">\r\n        @else\r\n            <img id=\"picture\" class=\"w-full h-64 object-cover object-center\" src=\"https://images.pexels.com/photos/5940721/pexels-photo-5940721.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\" alt=\"\">\r\n        @endisset\r\n    </figure>\r\n    <div>\r\n        <p class=\"mb-2\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate recusandae nesciunt nostrum, tenetur ducimus fugiat aspernatur beatae alias magni! Accusantium libero aspernatur rem minus quidem quo voluptatem praesentium esse voluptatibus.</p>\r\n        {!! Form::file('file', ['class' => 'form-input w-full', 'id' => 'file']) !!}\r\n    </div>\r\n</div>\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Ir a ",(0,s.jsx)(r.a,{href:"https://www.pexels.com/es-es/buscar/course/",children:"https://www.pexels.com/es-es/buscar/course/"})," y copiar la direcci\xf3n de una imagen"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\edit.blade.php"',children:'<x-app-layout>\r\n    <div class="container py-8 grid grid-cols-5">\r\n        <aside>\r\n            <h1 class="font-bold text-lg mb-4">Edici\xf3n del curso</h1>\r\n            <ul class="text-sm text-gray-600">\r\n                <li class="leading-7 mb-1 border-l-4 border-indigo-400 pl-2">\r\n                    <a href="">Informaci\xf3n del curso</a>\r\n                </li>\r\n                <li class="leading-7 mb-1 border-l-4 border-transparent pl-2">\r\n                    <a href="">Lecciones del curso</a>\r\n                </li>\r\n                <li class="leading-7 mb-1 border-l-4 border-transparent pl-2">\r\n                    <a href="">Metas del curso</a>\r\n                </li>\r\n                <li class="leading-7 mb-1 border-l-4 border-transparent pl-2">\r\n                    <a href="">Estudiantes</a>\r\n                </li>\r\n            </ul>\r\n        </aside>\r\n        <div class="col-span-4 card">\r\n            <div class="card-body text-gray-600">\r\n                <h1 class="text-2xl font-bold">INFORMACI\xd3N DEL CURSO</h1>\r\n                <hr class="mt-2 mb-6">\r\n                {!! Form::model($course, [\'route\' => [\'instructor.courses.update\', $course], \'method\' => \'put\', \'files\' => true]) !!}\r\n\r\n                    @include(\'instructor.courses.partials.form\')\r\n\r\n                    <div class="flex justify-end">\r\n                        {!! Form::submit(\'Actualizar informaci\xf3n\', [\'class\' => \'btn btn-primary\']) !!}\r\n                    </div>\r\n                {!! Form::close() !!}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <x-slot name="js">\r\n        <script src="https://cdn.ckeditor.com/ckeditor5/27.1.0/classic/ckeditor.js"><\/script>\r\n        <script src="{{ asset(\'js\\instructor\\courses\\form.js\') }}"><\/script>\r\n    </x-slot>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"create"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function create()\r\n{\r\n    // de esta forma recuperamos una colecci\xf3n con todos los nombres de las categorias y\r\n    // con el indice de las categorias a las que correponde\r\n    $categories = Category::pluck('name', 'id');\r\n    $levels = Level::pluck('name', 'id');\r\n    $prices = Price::pluck('name', 'id');\r\n    return view('instructor.courses.create', compact('categories','levels','prices'));\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear archivo js en ",(0,s.jsx)(r.strong,{children:"form"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",metastring:'title="public\\js\\instructor\\courses\\form.js"',children:"//Slug autom\xe1tico\r\ndocument.getElementById(\"title\").addEventListener('keyup', slugChange);\r\n\r\nfunction slugChange(){\r\n    \r\n    title = document.getElementById(\"title\").value;\r\n    document.getElementById(\"slug\").value = slug(title);\r\n\r\n}\r\n\r\nfunction slug (str) {\r\n    var $slug = '';\r\n    var trimmed = str.trim(str);\r\n    $slug = trimmed.replace(/[^a-z0-9-]/gi, '-').\r\n    replace(/-+/g, '-').\r\n    replace(/^-|-$/g, '');\r\n    return $slug.toLowerCase();\r\n}\r\n\r\n//CKEDITOR\r\n// Copiado de https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/configuration.html\r\n// Para habilitar todas las opciones: https://ckeditor.com/docs/ckeditor5/latest/builds/guides/quick-start.html\r\nClassicEditor\r\n    .create( document.querySelector( '#description' ), {\r\n        toolbar: [ 'heading', '|', 'bold', 'italic', 'link', 'blockQuote' ],\r\n        heading: {\r\n            options: [\r\n                { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },\r\n                { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },\r\n                { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' }\r\n            ]\r\n        }\r\n    } )\r\n    .catch( error => {\r\n        console.log( error );\r\n    } );\r\n\r\n//Cambiar imagen\r\ndocument.getElementById(\"file\").addEventListener('change', cambiarImagen);\r\n\r\nfunction cambiarImagen(event){\r\n    var file = event.target.files[0];\r\n\r\n    var reader = new FileReader();\r\n    reader.onload = (event) => {\r\n        document.getElementById(\"picture\").setAttribute('src', event.target.result); \r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-37-crear-nuevo-curso",children:"Video 37. Crear nuevo curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function store(Request $request)\r\n{\r\n    $request->validate([\r\n        'title' => 'required',\r\n        'slug' => 'required|unique:courses',\r\n        'subtitle' => 'required',\r\n        'description' => 'required',\r\n        'category_id' => 'required',\r\n        'level_id' => 'required',\r\n        'price_id' => 'required',\r\n    ]);\r\n\r\n    $course = Course::create($request->all());\r\n\r\n    // Para saber si se ha enviado una imagen\r\n    /* if($request->file('file')){\r\n        return \"Se est\xe1 enviando una imagen\";\r\n    }else{\r\n        return \"No se est\xe1 enviando una imagen\";\r\n    } */\r\n    if($request->file('file')){\r\n        $url = Storage::put('courses', $request->file('file'));\r\n        $course->image()->create([\r\n            'url' => $url\r\n        ]);\r\n    }\r\n\r\n    return redirect()->route('instructor.courses.edit', $course);\r\n}\n"})}),"\n","Importar Facades:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use Illuminate\\Support\\Facades\\Storage;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Incluir los errores de validaci\xf3n en la vista ",(0,s.jsx)(r.strong,{children:"form"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\partials\\form.blade.php"',children:"<div class=\"mb-4\">\r\n    {!! Form::label('title', 'T\xedtulo del curso') !!}\r\n    {!! Form::text('title', null, ['class' => 'form-input block w-full mt-1' . ($errors->has('title') ? ' border-red-600' : '')]) !!}\r\n    @error('title')\r\n        <strong class=\"text-xs text-red-600\">{{ $message }}</strong>\r\n    @enderror\r\n</div>\r\n<div class=\"mb-4\">\r\n    {!! Form::label('slug', 'Slug del curso') !!}\r\n    {!! Form::text('slug', null, ['readonly' => 'readonly','class' => 'form-input block w-full mt-1' . ($errors->has('slug') ? ' border-red-600' : '')]) !!}\r\n    @error('slug')\r\n        <strong class=\"text-xs text-red-600\">{{ $message }}</strong>\r\n    @enderror\r\n</div>\r\n<div class=\"mb-4\">\r\n    {!! Form::label('subtitle', 'Subt\xedtulo del curso') !!}\r\n    {!! Form::text('subtitle', null, ['class' => 'form-input block w-full mt-1' . ($errors->has('subtitle') ? ' border-red-600' : '')]) !!}\r\n    @error('subtitle')\r\n        <strong class=\"text-xs text-red-600\">{{ $message }}</strong>\r\n    @enderror\r\n</div>\r\n<div class=\"mb-4\">\r\n    {!! Form::label('description', 'Descripci\xf3n del curso') !!}\r\n    {!! Form::textarea('description', null, ['class' => 'form-input block w-full mt-1' . ($errors->has('description') ? ' border-red-600' : '')]) !!}\r\n    @error('description')\r\n        <strong class=\"text-xs text-red-600\">{{ $message }}</strong>\r\n    @enderror\r\n</div>\r\n<div class=\"grid grid-cols-3 gap-4\">\r\n    <div>\r\n        {!! Form::label('category_id', 'Categor\xeda:') !!}\r\n        {!! Form::select('category_id', $categories, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n    </div>\r\n    <div>\r\n        {!! Form::label('level_id', 'Niveles:') !!}\r\n        {!! Form::select('level_id', $levels, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n    </div>\r\n    <div>\r\n        {!! Form::label('price_id', 'Precio:') !!}\r\n        {!! Form::select('price_id', $prices, null, ['class' => 'form-input block w-full mt-1']) !!}\r\n    </div>\r\n</div>\r\n<h1 class=\"text-2xl font-bold mt-8 mb-2\">Imagen del curso</h1>\r\n<div class=\"grid grid-cols-2 gap-4\">\r\n    <figure>\r\n        @isset($course->image)\r\n            <img id=\"picture\" class=\"w-full h-64 object-cover object-center\" src=\"{{ Storage::url($course->image->url) }}\" alt=\"\">\r\n        @else\r\n            <img id=\"picture\" class=\"w-full h-64 object-cover object-center\" src=\"https://images.pexels.com/photos/5940721/pexels-photo-5940721.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\" alt=\"\">\r\n        @endisset\r\n    </figure>\r\n    <div>\r\n        <p class=\"mb-2\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate recusandae nesciunt nostrum, tenetur ducimus fugiat aspernatur beatae alias magni! Accusantium libero aspernatur rem minus quidem quo voluptatem praesentium esse voluptatibus.</p>\r\n        {!! Form::file('file', ['class' => 'form-input w-full', 'id' => 'file']) !!}\r\n    </div>\r\n</div>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En ",(0,s.jsx)(r.strong,{children:"courses-index"}),":\r\nReemplazar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-index.blade.php"',children:'<img class="h-10 w-10 rounded-full" src="{{ Storage::url($course->image->url) }}" alt="">\n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-index.blade.php"',children:'@isset($course->image)\r\n    <img class="h-10 w-10 rounded-full object-cover object-center" src="{{ Storage::url($course->image->url) }}" alt="">\r\n@else\r\n    <img class="h-10 w-10 rounded-full object-cover object-center" src="https://images.pexels.com/photos/5940721/pexels-photo-5940721.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">   \r\n@endisset    \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En ",(0,s.jsx)(r.strong,{children:"CoursesIndex"}),":\r\nReemplazar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesIndex.php"',children:"$courses = Course::where('title', 'LIKE', '%' . $this->search . '%')\r\n                    ->where('user_id', auth()->user()->id)\r\n                    ->paginate(8);\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesIndex.php"',children:"$courses = Course::where('title', 'LIKE', '%' . $this->search . '%')\r\n                    ->where('user_id', auth()->user()->id)\r\n                    ->latest('id')\r\n                    ->paginate(8);\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En ",(0,s.jsx)(r.strong,{children:"ImageFactory"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\factories\\ImageFactory.php"',children:"public function definition()\r\n{\r\n    return [\r\n        'url' => 'cursos/' . $this->faker->image('public/storage/cursos', 640, 480, null, false),\r\n    ];\r\n}    \n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\factories\\ImageFactory.php"',children:"public function definition()\r\n{\r\n    return [\r\n        'url' => 'courses/' . $this->faker->image('public/storage/courses', 640, 480, null, false),\r\n    ];\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En ",(0,s.jsx)(r.strong,{children:"DatabaseSeeder"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\seeders\\DatabaseSeeder.php"',children:"Storage::deleteDirectory('cursos');\r\nStorage::makeDirectory('cursos');\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"Storage::deleteDirectory('courses');\r\nStorage::makeDirectory('courses');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Borrar el directorio ",(0,s.jsx)(r.strong,{children:"storage\\app\\public\\cursos"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-38-actualizar-informaci\xf3n-de-curso",children:"Video 38. Actualizar informaci\xf3n de curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Programar m\xe9todo ",(0,s.jsx)(r.strong,{children:"update"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function update(Request $request, Course $course)\r\n{\r\n    $request->validate([\r\n        'title' => 'required',\r\n        'slug' => 'required|unique:courses,slug,' . $course->id,\r\n        'subtitle' => 'required',\r\n        'description' => 'required',\r\n        'category_id' => 'required',\r\n        'level_id' => 'required',\r\n        'price_id' => 'required',\r\n    ]);\r\n\r\n    $course->update($request->all());\r\n\r\n    // \xbfSe esta enviando un archivo desde el formulario?\r\n    if($request->file('file')){\r\n        // Entonces guarda su direcci\xf3n en $url y guarda la imagen en la carpeta course\r\n        $url = Storage::put('courses', $request->file('file'));\r\n        // \xbfEl curso tenia una imagen?\r\n        if($course->image){\r\n            // Entonces borra la imagen anterior\r\n            Storage::delete($course->image->url);\r\n            // y actuliza la informaci\xf3n del registro\r\n            $course->image->update([\r\n                'url' => $url\r\n            ]);\r\n        }else{\r\n            // crea el registro de la url de la imagen del curso\r\n            $course->image->create([\r\n                'url' => $url\r\n            ]);\r\n        }\r\n    }\r\n\r\n    return redirect()->route('instructor.courses.edit', $course);\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-39-agregar-regla-de-validaci\xf3n-para-las-imagenes",children:"Video 39. Agregar regla de validaci\xf3n para las imagenes"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar formulario ",(0,s.jsx)(r.strong,{children:"form"}),":\r\nReemplazar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\partials\\form.blade.php"',children:"{!! Form::file('file', ['class' => 'form-input w-full', 'id' => 'file']) !!}\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\partials\\form.blade.php"',children:"{!! Form::file('file', ['class' => 'form-input w-full'. ($errors->has('file') ? ' border-red-600' : ''), 'id' => 'file', 'accept' => 'image/*']) !!}\r\n@error('file')\r\n    <strong class=\"text-xs text-red-600\">{{ $message }}</strong>\r\n@enderror\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar reglas de validaci\xf3n en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"// ...\r\npublic function store(Request $request)\r\n{\r\n    $request->validate([\r\n        'title' => 'required',\r\n        'slug' => 'required|unique:courses',\r\n        'subtitle' => 'required',\r\n        'description' => 'required',\r\n        'category_id' => 'required',\r\n        'level_id' => 'required',\r\n        'price_id' => 'required',\r\n        'file' => 'image'\r\n    ]);\r\n    // ...\r\n}\r\n// ...\r\npublic function update(Request $request, Course $course)\r\n{\r\n    $request->validate([\r\n        'title' => 'required',\r\n        'slug' => 'required|unique:courses,slug,' . $course->id,\r\n        'subtitle' => 'required',\r\n        'description' => 'required',\r\n        'category_id' => 'required',\r\n        'level_id' => 'required',\r\n        'price_id' => 'required',\r\n        'file' => 'image'\r\n    ]);\r\n    // ...\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-40-lo-que-desarrollaremos",children:"Video 40. Lo que desarrollaremos"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Breve explicaci\xf3n de lo que haremos."}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-41-crear-nueva-plantilla-para-instructores",children:"Video 41. Crear nueva plantilla para instructores"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Duplicar la vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\layouts\\app.blade.php"})," y renombrarla como ",(0,s.jsx)(r.strong,{children:"resources\\views\\layouts\\instructor.blade.php"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Redise\xf1ar la nueva plantilla ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\instructor.blade.php"',children:'<!DOCTYPE html>\r\n<html lang="{{ str_replace(\'_\', \'-\', app()->getLocale()) }}">\r\n    <head>\r\n        <meta charset="utf-8">\r\n        <meta name="viewport" content="width=device-width, initial-scale=1">\r\n        <meta name="csrf-token" content="{{ csrf_token() }}">\r\n\r\n        <title>{{ config(\'app.name\', \'Laravel\') }}</title>\r\n\r\n        \x3c!-- Fonts --\x3e\r\n        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap">\r\n\r\n        \x3c!-- Styles --\x3e\r\n        <link rel="stylesheet" href="{{ mix(\'css/app.css\') }}">\r\n        <link rel="stylesheet" href="{{ asset(\'vendor/fontawesome-free/css/all.min.css\') }}">\r\n\r\n        @livewireStyles\r\n\r\n        \x3c!-- Scripts --\x3e\r\n        <script src="{{ mix(\'js/app.js\') }}" defer><\/script>\r\n    </head>\r\n    <body class="font-sans antialiased">\r\n        <div class="min-h-screen bg-gray-100">\r\n            @livewire(\'navigation-dropdown\')\r\n\r\n            \x3c!-- Page Content --\x3e\r\n            <div class="container py-8 grid grid-cols-5">\r\n                <aside>\r\n                    <h1 class="font-bold text-lg mb-4">Edici\xf3n del curso</h1>\r\n                    <ul class="text-sm text-gray-600">\r\n                        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.edit\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                            <a href="{{ route(\'instructor.courses.edit\', $course) }}">Informaci\xf3n del curso</a>\r\n                        </li>\r\n                        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.curriculum\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                            <a href="{{ route(\'instructor.courses.curriculum\', $course) }}">Lecciones del curso</a>\r\n                        </li>\r\n                        <li class="leading-7 mb-1 border-l-4 border-transparent pl-2">\r\n                            <a href="">Metas del curso</a>\r\n                        </li>\r\n                        <li class="leading-7 mb-1 border-l-4 border-transparent pl-2">\r\n                            <a href="">Estudiantes</a>\r\n                        </li>\r\n                    </ul>\r\n                </aside>\r\n                <div class="col-span-4 card">\r\n                    <main class="card-body text-gray-600">\r\n                        {{ $slot }}\r\n                    </main>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        @stack(\'modals\')\r\n\r\n        @livewireScripts\r\n\r\n        @isset($js)\r\n            {{ $js }}  \r\n        @endisset\r\n    </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Redise\xf1ar la vista ",(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\edit.blade.php"',children:"<x-instructor-layout>\r\n    <x-slot name=\"course\">\r\n        {{ $course->slug }}\r\n    </x-slot>\r\n    <h1 class=\"text-2xl font-bold\">INFORMACI\xd3N DEL CURSO</h1>\r\n    <hr class=\"mt-2 mb-6\">\r\n    {!! Form::model($course, ['route' => ['instructor.courses.update', $course], 'method' => 'put', 'files' => true]) !!}\r\n\r\n        @include('instructor.courses.partials.form')\r\n\r\n        <div class=\"flex justify-end\">\r\n            {!! Form::submit('Actualizar informaci\xf3n', ['class' => 'btn btn-primary']) !!}\r\n        </div>\r\n    {!! Form::close() !!}\r\n\r\n    <x-slot name=\"js\">\r\n        <script src=\"https://cdn.ckeditor.com/ckeditor5/27.1.0/classic/ckeditor.js\"><\/script>\r\n        <script src=\"{{ asset('js\\instructor\\courses\\form.js') }}\"><\/script>\r\n    </x-slot>\r\n</x-instructor-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crea componente de clase para extender la nueva plantilla ",(0,s.jsx)(r.strong,{children:"resources\\views\\layouts\\instructor.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:component InstructorLayout\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Cambiar la vista del m\xe9todo render del controlador del nuevo componente en ",(0,s.jsx)(r.strong,{children:"app\\View\\Components\\InstructorLayout.php"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"return view('components.instructor-layout');\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"return view('layouts.instructor');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar la vista ",(0,s.jsx)(r.strong,{children:"resources\\views\\components\\instructor-layout.blade.php"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo de rutas ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"<?php\r\n\r\nuse App\\Http\\Controllers\\Instructor\\CourseController;\r\nuse App\\Http\\Livewire\\Instructor\\CoursesCurriculum;\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\nRoute::redirect('', 'instructor/courses');\r\n\r\nRoute::resource('courses', CourseController::class)->names('courses');\r\n\r\nRoute::get('courses/{course}/curriculum', CoursesCurriculum::class)->name('courses.curriculum');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para el control de la rutas ",(0,s.jsx)(r.strong,{children:"courses.curriculum"})," crearemos un componente de livewire:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire Instructor/CoursesCurriculum\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reprogramar el controlador ",(0,s.jsx)(r.strong,{children:"CoursesCurriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesCurriculum.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\n\r\nclass CoursesCurriculum extends Component\r\n{\r\n    public $course;\r\n\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        // Le indicaremos que queremos utilizar una plantilla con la vista\r\n        return view('livewire.instructor.courses-curriculum')->layout('layouts.instructor');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista ",(0,s.jsx)(r.strong,{children:"courses-curriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-curriculum.blade.php"',children:'<div>\r\n    <x-slot name="course">\r\n        {{ $course->slug }}\r\n    </x-slot>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar nuevas directivas de Blade modificando ",(0,s.jsx)(r.strong,{children:"AppServiceProvider"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Providers\\AppServiceProvider.php"',children:"<?php\r\n\r\nnamespace App\\Providers;\r\n\r\nuse Illuminate\\Support\\Facades\\Blade;\r\nuse Illuminate\\Support\\ServiceProvider;\r\n\r\nclass AppServiceProvider extends ServiceProvider\r\n{\r\n    /**\r\n    * Register any application services.\r\n    *\r\n    * @return void\r\n    */\r\n    public function register()\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Bootstrap any application services.\r\n    *\r\n    * @return void\r\n    */\r\n    public function boot()\r\n    {\r\n        Blade::directive('routeIs', function ($expression) {\r\n            return \"<?php if(Request::url() == route($expression)) : ?>\";\r\n        });\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-42-agregar-un-crud-para-las-secciones-de-un-curso",children:"Video 42. Agregar un crud para las secciones de un curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"courses-curriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-curriculum.blade.php"',children:'<div>\r\n    <x-slot name="course">\r\n        {{ $course->slug }}\r\n    </x-slot>\r\n\r\n    <h1 class="text-2xl font-bold">LECCIONES DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n    @foreach ($course->sections as $item)\r\n        <article class="card mb-6">\r\n            <div class="card-body bg-gray-100">\r\n                @if ($section->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <input wire:model="section.name" type="text" class="form-input w-full" placeholder="Ingrese el nombre de la secci\xf3n">\r\n                        @error(\'section.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n                    </form>\r\n                @else\r\n                    <header class="flex justify-between items-center">\r\n                        <h1 class="cursor-pointer"><strong>Secci\xf3n:</strong> {{ $item->name }}</h1>\r\n                        <div>\r\n                            <i class="fas fa-edit cursor-pointer text-blue-500" wire:click="edit({{ $item }})"></i>\r\n                            <i class="fas fa-eraser cursor-pointer text-red-500" wire:click="destroy({{ $item }})"></i>\r\n                        </div>\r\n                    </header>\r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <div x-data="{ open: false }">\r\n        <a x-show="!open" x-on:click="open = true" class="flex items-center cursor-pointer">\r\n            <i class="far fa-plus-square text-2xl text-red-500 mr-2"></i>\r\n            Agregar nueva secci\xf3n\r\n        </a>\r\n        <article class="card" x-show="open">\r\n            <div class="card-body bg-gray-100">\r\n                <h1 class="text-xl font-bold mb-4">Agregar nueva secci\xf3n</h1>\r\n                <div class="mb-4">\r\n                    <input wire:model="name" class="form-input w-full" placeholder="Escriba el nombre de la secci\xf3n">\r\n                    @error(\'name\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                <div class="flex justify-end">\r\n                    <button class="btn btn-danger" x-on:click="open = false">Cancelar</button>\r\n                    <button class="btn btn-primary ml-2" wire:click="store">Agregar</button>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar controlador ",(0,s.jsx)(r.strong,{children:"CoursesCurriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesCurriculum.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Section;\r\nuse Livewire\\Component;\r\n\r\nclass CoursesCurriculum extends Component\r\n{\r\n    public $course, $section, $name;\r\n\r\n    protected $rules = [\r\n        'section.name' => 'required'\r\n    ];\r\n\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        $this->section = new Section();\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        // Le indicaremos que queremos utilizar una plantilla con la vista\r\n        return view('livewire.instructor.courses-curriculum')->layout('layouts.instructor');\r\n    }\r\n\r\n    public function store(){\r\n        $this->validate([\r\n            'name' => 'required'\r\n        ]);\r\n        Section::create([\r\n            'name' => $this->name,\r\n            'course_id' => $this->course->id\r\n        ]);\r\n        $this->reset('name');\r\n        // Refresca la informaci\xf3n de la vista\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n\r\n    public function edit(Section $section){\r\n        $this->section = $section;\r\n    }\r\n\r\n    public function update(){\r\n        $this->validate();  // valida lo indicado en protected $rules = [..]\r\n        $this->section->save();\r\n        $this->section = new Section();\r\n        // Refresca la informaci\xf3n de la vista\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n\r\n    public function destroy(Section $section){\r\n        $section->delete();\r\n        // Refresca la informaci\xf3n de la vista\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-43-agregar-un-crud-para-las-lecciones-de-un-curso",children:"Video 43. Agregar un crud para las lecciones de un curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear componente livewire para lecciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire Instructor/CoursesLesson\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"courses-curriculum"})," para llamar al nuevo componente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-curriculum.blade.php"',children:'<div>\r\n    <x-slot name="course">\r\n        {{ $course->slug }}\r\n    </x-slot>\r\n\r\n    <h1 class="text-2xl font-bold">LECCIONES DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n    @foreach ($course->sections as $item)\r\n        <article class="card mb-6">\r\n            <div class="card-body bg-gray-100">\r\n                @if ($section->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <input wire:model="section.name" type="text" class="form-input w-full" placeholder="Ingrese el nombre de la secci\xf3n">\r\n                        @error(\'section.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n                    </form>\r\n                @else\r\n                    <header class="flex justify-between items-center">\r\n                        <h1 class="cursor-pointer"><strong>Secci\xf3n:</strong> {{ $item->name }}</h1>\r\n                        <div>\r\n                            <i class="fas fa-edit cursor-pointer text-blue-500" wire:click="edit({{ $item }})"></i>\r\n                            <i class="fas fa-eraser cursor-pointer text-red-500" wire:click="destroy({{ $item }})"></i>\r\n                        </div>\r\n                    </header>\r\n                    <div>\r\n                        @livewire(\'instructor.courses-lesson\', [\'section\' => $item], key($item->id))\r\n                    </div>\r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <div x-data="{ open: false }">\r\n        <a x-show="!open" x-on:click="open = true" class="flex items-center cursor-pointer">\r\n            <i class="far fa-plus-square text-2xl text-red-500 mr-2"></i>\r\n            Agregar nueva secci\xf3n\r\n        </a>\r\n        <article class="card" x-show="open">\r\n            <div class="card-body bg-gray-100">\r\n                <h1 class="text-xl font-bold mb-4">Agregar nueva secci\xf3n</h1>\r\n                <div class="mb-4">\r\n                    <input wire:model="name" class="form-input w-full" placeholder="Escriba el nombre de la secci\xf3n">\r\n                    @error(\'name\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                <div class="flex justify-end">\r\n                    <button class="btn btn-danger" x-on:click="open = false">Cancelar</button>\r\n                    <button class="btn btn-primary ml-2" wire:click="store">Agregar</button>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador ",(0,s.jsx)(r.strong,{children:"CoursesLesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesLesson.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Lesson;\r\nuse App\\Models\\Platform;\r\nuse App\\Models\\Section;\r\nuse Livewire\\Component;\r\n\r\nclass CoursesLesson extends Component\r\n{\r\n    public $section, $lesson, $platforms, $name, $platform_id = 1, $url;\r\n\r\n    protected $rules = [\r\n        'lesson.name' => 'required',\r\n        'lesson.platform_id' => 'required',\r\n        //Validaci\xf3n youtube\r\n        'lesson.url' => ['required', 'regex:%^ (?:https?://)? (?:www\\.)? (?: youtu\\.be/ | youtube\\.com (?: /embed/ | /v/ | /watch\\?v= ) ) ([\\w-]{10,12}) $%x']\r\n    ];\r\n\r\n    public function mount(Section $section){\r\n        $this->section = $section;\r\n        $this->platforms = Platform::all();\r\n        $this->lesson = new Lesson();\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.instructor.courses-lesson');\r\n    }\r\n\r\n    public function store(){\r\n        $rules = [\r\n            'name' => 'required',\r\n            'platform_id' => 'required',\r\n            //Validaci\xf3n youtube\r\n            'url' => ['required', 'regex:%^ (?:https?://)? (?:www\\.)? (?: youtu\\.be/ | youtube\\.com (?: /embed/ | /v/ | /watch\\?v= ) ) ([\\w-]{10,12}) $%x']\r\n        ];\r\n\r\n        if($this->platform_id == 2){\r\n            $rules['url'] = ['required', 'regex:/\\/\\/(www\\.)?vimeo.com\\/(\\d+)($|\\/)/'];\r\n        }\r\n\r\n        $this->validate($rules);\r\n\r\n        Lesson::create([\r\n            'name' => $this->name,\r\n            'platform_id' => $this->platform_id,\r\n            'url' => $this->url,\r\n            'section_id' => $this->section->id\r\n        ]);\r\n\r\n        $this->reset(['name', 'platform_id', 'url']);\r\n        // Para actualizar la vista\r\n        $this->section = Section::find($this->section->id);\r\n    }\r\n\r\n    public function edit(Lesson $lesson){\r\n        $this->resetValidation();\r\n        $this->lesson = $lesson;\r\n    }\r\n\r\n    public function update(){\r\n        if($this->lesson->platform_id == 2){\r\n            $this->rules['lesson.url'] = ['required', 'regex:/\\/\\/(www\\.)?vimeo.com\\/(\\d+)($|\\/)/'];\r\n        }\r\n        $this->validate();\r\n        $this->lesson->save();\r\n        $this->lesson = new Lesson();\r\n        // Para actualizar la vista\r\n        $this->section = Section::find($this->section->id);\r\n    }\r\n\r\n    public function destroy(Lesson $lesson){\r\n        $lesson->delete();\r\n        // Refresca la informaci\xf3n de la vista\r\n        $this->section = Section::find($this->section->id);\r\n    }\r\n\r\n    public function cancel(){\r\n        $this->lesson = new Lesson();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista ",(0,s.jsx)(r.strong,{children:"courses-lesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-lesson.blade.php"',children:'<div>\r\n    @foreach ($section->lessons as $item)\r\n        <article class="card mt-4">\r\n            <div class="card-body">\r\n                @if ($lesson->id == $item->id)\r\n                    <div>\r\n                        <div class="flex items-center">\r\n                            <label class="w-32">Nombre:</label>\r\n                            <input wire:model="lesson.name" class="form-input w-full">\r\n                        </div>\r\n                        @error(\'lesson.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="flex items-center mt-4">\r\n                            <label class="w-32">Plataforma: </label>\r\n                            <select wire:model="lesson.platform_id" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">\r\n                                @foreach ($platforms as $platform)\r\n                                    <option value="{{ $platform->id }}">{{ $platform->name }}</option>\r\n                                @endforeach\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class="flex items-center mt-4">\r\n                            <label class="w-32">URL:</label>\r\n                            <input wire:model="lesson.url" class="form-input w-full">\r\n                        </div>\r\n                        @error(\'lesson.url\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="mt-4 flex justify-end">\r\n                            <button class="btn btn-danger" wire:click="cancel">Cancelar</button>\r\n                            <button class="btn btn-primary ml-2" wire:click="update">Actualizar</button>\r\n                        </div>\r\n                    </div>\r\n                @else\r\n                    <header>\r\n                        <h1><i class="far fa-play-circle text-blue-500 mr-1"></i> Lecci\xf3n: {{ $item->name }}</h1>\r\n                    </header>\r\n                    <div>\r\n                        <hr class="my-2">\r\n                        <p class="text-sm">Plataforma: {{ $item->platform->name }}</p>\r\n                        <p class="text-sm">Enlace: <a class="text-blue-600" href="{{ $item->url }}" target="_blank">{{ $item->url }}</a></p>\r\n                        <div class="mt-2">\r\n                            <button class="btn btn-primary text-sm" wire:click="edit({{ $item }})">Editar</button>\r\n                            <button class="btn btn-danger text-sm" wire:click="destroy({{ $item }})">Eliminar</button>\r\n                        </div>\r\n                    </div>     \r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <div class="mt-4" x-data="{ open: false }">\r\n        <a x-show="!open" x-on:click="open = true" class="flex items-center cursor-pointer">\r\n            <i class="far fa-plus-square text-2xl text-red-500 mr-2"></i>\r\n            Agregar nueva lecci\xf3n\r\n        </a>\r\n        <article class="card" x-show="open">\r\n            <div class="card-body">\r\n                <h1 class="text-xl font-bold mb-4">Agregar nueva lecci\xf3n</h1>\r\n                <div class="mb-4">\r\n                    <div class="flex items-center">\r\n                        <label class="w-32">Nombre:</label>\r\n                        <input wire:model="name" class="form-input w-full">\r\n                    </div>\r\n                    @error(\'name\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n\r\n                    <div class="flex items-center mt-4">\r\n                        <label class="w-32">Plataforma: </label>\r\n                        <select wire:model="platform_id" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">\r\n                            @foreach ($platforms as $platform)\r\n                                <option value="{{ $platform->id }}">{{ $platform->name }}</option>\r\n                            @endforeach\r\n                        </select>\r\n                    </div>\r\n                    @error(\'platform_id\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n\r\n                    <div class="flex items-center mt-4">\r\n                        <label class="w-32">URL:</label>\r\n                        <input wire:model="url" class="form-input w-full">\r\n                    </div>\r\n                    @error(\'url\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                <div class="flex justify-end">\r\n                    <button class="btn btn-danger" x-on:click="open = false">Cancelar</button>\r\n                    <button class="btn btn-primary ml-2" wire:click="store">Agregar</button>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear observer para el modelo ",(0,s.jsx)(r.strong,{children:"Lesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:observer LessonObserver\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el observer ",(0,s.jsx)(r.strong,{children:"LessonObserver"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Observers\\LessonObserver.php"',children:'<?php\r\n\r\nnamespace App\\Observers;\r\n\r\nuse App\\Models\\Lesson;\r\n\r\nclass LessonObserver\r\n{\r\n    // Este m\xe9todo se ejecutar\xe1 solo cuando creemos un nuevo registro en la tabla lessons\r\n    public function creating(Lesson $lesson){\r\n        $url = $lesson->url;\r\n        $platform_id = $lesson->platform_id;\r\n\r\n        if($platform_id == 1){\r\n            $patron = \'%^ (?:https?://)? (?:www\\.)? (?: youtu\\.be/ | youtube\\.com (?: /embed/ | /v/ | /watch\\?v= ) ) ([\\w-]{10,12}) $%x\';\r\n            $array = preg_match($patron, $url, $parte);\r\n            $lesson->iframe = \'<iframe width="560" height="315" src="https://www.youtube.com/embed/\'. $parte[1] .\'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\';\r\n        }else{\r\n            $patron = \'/\\/\\/(www\\.)?vimeo.com\\/(\\d+)($|\\/)/\';\r\n            $array = preg_match($patron, $url, $parte);\r\n            $lesson->iframe = \'<iframe src="https://player.vimeo.com/video/\' . $parte[2] . \'" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>\';\r\n        }\r\n    }\r\n\r\n    // Este m\xe9todo se ejecutar\xe1 solo cuando actualicemos alg\xfan registro de la tabla lessons\r\n    public function updating(Lesson $lesson){\r\n        $url = $lesson->url;\r\n        $platform_id = $lesson->platform_id;\r\n\r\n        if($platform_id == 1){\r\n            $patron = \'%^ (?:https?://)? (?:www\\.)? (?: youtu\\.be/ | youtube\\.com (?: /embed/ | /v/ | /watch\\?v= ) ) ([\\w-]{10,12}) $%x\';\r\n            $array = preg_match($patron, $url, $parte);\r\n            $lesson->iframe = \'<iframe width="560" height="315" src="https://www.youtube.com/embed/\'. $parte[1] .\'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\';\r\n        }else{\r\n            $patron = \'/\\/\\/(www\\.)?vimeo.com\\/(\\d+)($|\\/)/\';\r\n            $array = preg_match($patron, $url, $parte);\r\n            $lesson->iframe = \'<iframe src="https://player.vimeo.com/video/\' . $parte[2] . \'" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>\';\r\n        }\r\n    }\r\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo ",(0,s.jsx)(r.strong,{children:"AppServiceProvider"})," para registrar el observer ",(0,s.jsx)(r.strong,{children:"LessonObserver"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Providers\\AppServiceProvider.php"',children:"<?php\r\n\r\nnamespace App\\Providers;\r\n\r\nuse Illuminate\\Support\\Facades\\Blade;\r\nuse Illuminate\\Support\\ServiceProvider;\r\nuse App\\Models\\Lesson;\r\nuse App\\Observers\\LessonObserver;\r\n\r\nclass AppServiceProvider extends ServiceProvider\r\n{\r\n    /**\r\n    * Register any application services.\r\n    *\r\n    * @return void\r\n    */\r\n    public function register()\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Bootstrap any application services.\r\n    *\r\n    * @return void\r\n    */\r\n    public function boot()\r\n    {\r\n        Lesson::observe(LessonObserver::class);\r\n        Blade::directive('routeIs', function ($expression) {\r\n            return \"<?php if(Request::url() == route($expression)) : ?>\";\r\n        });\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-44-agregar-descripci\xf3n-a-una-lecci\xf3n",children:"Video 44. Agregar descripci\xf3n a una lecci\xf3n"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"courses-lesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-lesson.blade.php"',children:'<div>\r\n    @foreach ($section->lessons as $item)\r\n        <article class="card mt-4">\r\n            <div class="card-body">\r\n                @if ($lesson->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <div class="flex items-center">\r\n                            <label class="w-32">Nombre:</label>\r\n                            <input wire:model="lesson.name" class="form-input w-full">\r\n                        </div>\r\n                        @error(\'lesson.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="flex items-center mt-4">\r\n                            <label class="w-32">Plataforma: </label>\r\n                            <select wire:model="lesson.platform_id" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">\r\n                                @foreach ($platforms as $platform)\r\n                                    <option value="{{ $platform->id }}">{{ $platform->name }}</option>\r\n                                @endforeach\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class="flex items-center mt-4">\r\n                            <label class="w-32">URL:</label>\r\n                            <input wire:model="lesson.url" class="form-input w-full">\r\n                        </div>\r\n                        @error(\'lesson.url\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="mt-4 flex justify-end">\r\n                            <button type="button" class="btn btn-danger" wire:click="cancel">Cancelar</button>\r\n                            <button type="submit" class="btn btn-primary ml-2">Actualizar</button>\r\n                        </div>\r\n                    </form>\r\n                @else\r\n                    <header>\r\n                        <h1><i class="far fa-play-circle text-blue-500 mr-1"></i> Lecci\xf3n: {{ $item->name }}</h1>\r\n                    </header>\r\n                    <div>\r\n                        <hr class="my-2">\r\n                        <p class="text-sm">Plataforma: {{ $item->platform->name }}</p>\r\n                        <p class="text-sm">Enlace: <a class="text-blue-600" href="{{ $item->url }}" target="_blank">{{ $item->url }}</a></p>\r\n                        <div class="my-2">\r\n                            <button class="btn btn-primary text-sm" wire:click="edit({{ $item }})">Editar</button>\r\n                            <button class="btn btn-danger text-sm" wire:click="destroy({{ $item }})">Eliminar</button>\r\n                        </div>\r\n\r\n                        <div>\r\n                            @livewire(\'instructor.lesson-description\', [\'lesson\' => $item], key($item->id))\r\n                        </div>\r\n                    </div>     \r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <div class="mt-4" x-data="{ open: false }">\r\n        <a x-show="!open" x-on:click="open = true" class="flex items-center cursor-pointer">\r\n            <i class="far fa-plus-square text-2xl text-red-500 mr-2"></i>\r\n            Agregar nueva lecci\xf3n\r\n        </a>\r\n        <article class="card" x-show="open">\r\n            <div class="card-body">\r\n                <h1 class="text-xl font-bold mb-4">Agregar nueva lecci\xf3n</h1>\r\n                <div class="mb-4">\r\n                    <div class="flex items-center">\r\n                        <label class="w-32">Nombre:</label>\r\n                        <input wire:model="name" class="form-input w-full">\r\n                    </div>\r\n                    @error(\'name\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n\r\n                    <div class="flex items-center mt-4">\r\n                        <label class="w-32">Plataforma: </label>\r\n                        <select wire:model="platform_id" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">\r\n                            @foreach ($platforms as $platform)\r\n                                <option value="{{ $platform->id }}">{{ $platform->name }}</option>\r\n                            @endforeach\r\n                        </select>\r\n                    </div>\r\n                    @error(\'platform_id\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n\r\n                    <div class="flex items-center mt-4">\r\n                        <label class="w-32">URL:</label>\r\n                        <input wire:model="url" class="form-input w-full">\r\n                    </div>\r\n                    @error(\'url\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                <div class="flex justify-end">\r\n                    <button class="btn btn-danger" x-on:click="open = false">Cancelar</button>\r\n                    <button class="btn btn-primary ml-2" wire:click="store">Agregar</button>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente de livewire:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire Instructor/LessonDescription\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador del componente ",(0,s.jsx)(r.strong,{children:"LessonDescription"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\LessonDescription.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Lesson;\r\nuse Livewire\\Component;\r\n\r\nclass LessonDescription extends Component\r\n{\r\n    public $lesson, $description, $name;\r\n\r\n    protected $rules = [\r\n        'description.name' => 'required'\r\n    ];\r\n\r\n    public function mount(Lesson $lesson){\r\n        $this->lesson = $lesson;\r\n        if($lesson->description){\r\n            $this->description = $lesson->description;\r\n        }\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.instructor.lesson-description');\r\n    }\r\n\r\n    public function store(){\r\n        // Crea un nuevo registro en la tabla description y lo relaciona con el registro lesson\r\n        $this->description = $this->lesson->description()->create([\r\n            'name' => $this->name\r\n        ]);\r\n        $this->reset('name');\r\n        $this->lesson = Lesson::find($this->lesson->id);\r\n    }\r\n\r\n    public function update(){\r\n        $this->validate();\r\n        $this->description->save();\r\n    }\r\n\r\n    public function destroy(){\r\n        $this->description->delete();\r\n        $this->reset('description');\r\n        $this->lesson = Lesson::find($this->lesson->id);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar la vista del componente ",(0,s.jsx)(r.strong,{children:"lesson-description"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\lesson-description.blade.php"',children:'<div>\r\n    <article class="card" x-data="{open: false}">\r\n        <div class="card-body bg-gray-100">\r\n            <header>\r\n                <h1 x-on:click="open = !open" class="cursor-pointer">Descripci\xf3n de la lecci\xf3n</h1>\r\n            </header>\r\n            <div x-show="open">\r\n                <hr class="my-2">\r\n                @if ($lesson->description)\r\n                    <form wire:submit.prevent="update">\r\n                        <textarea wire:model="description.name" class="form-input w-full"></textarea>\r\n                        @error(\'description.name\')\r\n                            <span class="text-sm text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="flex justify-end">\r\n                            <button wire:click="destroy" class="btn btn-danger text-sm" type="button">Eliminar</button>\r\n                            <button class="btn btn-primary text-sm ml-2" type="submit">Actualizar</button>\r\n                        </div>\r\n                    </form>\r\n                @else\r\n                    <div>\r\n                        <textarea wire:model="name" class="form-input w-full" placeholder="Agregue una descripci\xf3n de la lecci\xf3n ..."></textarea>\r\n                        @error(\'name\')\r\n                            <span class="text-sm text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="flex justify-end">\r\n                            <button wire:click="store" class="btn btn-primary text-sm ml-2">Agregar</button>\r\n                        </div>\r\n                    <div>\r\n                @endif\r\n            </div>\r\n        </div>\r\n    </article>\r\n</div>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-45-agregar-recursos-a-un-lecci\xf3n",children:"Video 45. Agregar recursos a un lecci\xf3n"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear componente livewire para los recursos de los cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire Instructor/LessonResources\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"courses-lesson"})," para incluir el componente de recursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-lesson.blade.php"',children:'<div>\r\n    @foreach ($section->lessons as $item)\r\n        <article class="card mt-4" x-data="{open: false}">\r\n            <div class="card-body">\r\n                @if ($lesson->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <div class="flex items-center">\r\n                            <label class="w-32">Nombre:</label>\r\n                            <input wire:model="lesson.name" class="form-input w-full">\r\n                        </div>\r\n                        @error(\'lesson.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="flex items-center mt-4">\r\n                            <label class="w-32">Plataforma: </label>\r\n                            <select wire:model="lesson.platform_id" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">\r\n                                @foreach ($platforms as $platform)\r\n                                    <option value="{{ $platform->id }}">{{ $platform->name }}</option>\r\n                                @endforeach\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class="flex items-center mt-4">\r\n                            <label class="w-32">URL:</label>\r\n                            <input wire:model="lesson.url" class="form-input w-full">\r\n                        </div>\r\n                        @error(\'lesson.url\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n\r\n                        <div class="mt-4 flex justify-end">\r\n                            <button type="button" class="btn btn-danger" wire:click="cancel">Cancelar</button>\r\n                            <button type="submit" class="btn btn-primary ml-2">Actualizar</button>\r\n                        </div>\r\n                    </form>\r\n                @else\r\n                    <header>\r\n                        <h1 x-on:click="open = !open" class="cursor-pointer"><i class="far fa-play-circle text-blue-500 mr-1"></i> Lecci\xf3n: {{ $item->name }}</h1>\r\n                    </header>\r\n                    <div x-show="open">\r\n                        <hr class="my-2">\r\n                        <p class="text-sm">Plataforma: {{ $item->platform->name }}</p>\r\n                        <p class="text-sm">Enlace: <a class="text-blue-600" href="{{ $item->url }}" target="_blank">{{ $item->url }}</a></p>\r\n                        <div class="my-2">\r\n                            <button class="btn btn-primary text-sm" wire:click="edit({{ $item }})">Editar</button>\r\n                            <button class="btn btn-danger text-sm" wire:click="destroy({{ $item }})">Eliminar</button>\r\n                        </div>\r\n\r\n                        <div class="mb-4">\r\n                            @livewire(\'instructor.lesson-description\', [\'lesson\' => $item], key($item->id))\r\n                        </div>\r\n\r\n                        <div>\r\n                            @livewire(\'instructor.lesson-resources\', [\'lesson\' => $item], key($item->id))\r\n                        </div>\r\n                    </div>     \r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <div class="mt-4" x-data="{ open: false }">\r\n        <a x-show="!open" x-on:click="open = true" class="flex items-center cursor-pointer">\r\n            <i class="far fa-plus-square text-2xl text-red-500 mr-2"></i>\r\n            Agregar nueva lecci\xf3n\r\n        </a>\r\n        <article class="card" x-show="open">\r\n            <div class="card-body">\r\n                <h1 class="text-xl font-bold mb-4">Agregar nueva lecci\xf3n</h1>\r\n                <div class="mb-4">\r\n                    <div class="flex items-center">\r\n                        <label class="w-32">Nombre:</label>\r\n                        <input wire:model="name" class="form-input w-full">\r\n                    </div>\r\n                    @error(\'name\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n\r\n                    <div class="flex items-center mt-4">\r\n                        <label class="w-32">Plataforma: </label>\r\n                        <select wire:model="platform_id" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">\r\n                            @foreach ($platforms as $platform)\r\n                                <option value="{{ $platform->id }}">{{ $platform->name }}</option>\r\n                            @endforeach\r\n                        </select>\r\n                    </div>\r\n                    @error(\'platform_id\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n\r\n                    <div class="flex items-center mt-4">\r\n                        <label class="w-32">URL:</label>\r\n                        <input wire:model="url" class="form-input w-full">\r\n                    </div>\r\n                    @error(\'url\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                <div class="flex justify-end">\r\n                    <button class="btn btn-danger" x-on:click="open = false">Cancelar</button>\r\n                    <button class="btn btn-primary ml-2" wire:click="store">Agregar</button>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador del componente ",(0,s.jsx)(r.strong,{children:"LessonResources"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\LessonResources.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Lesson;\r\nuse Illuminate\\Support\\Facades\\Storage;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithFileUploads;\r\n\r\nclass LessonResources extends Component\r\n{\r\n    use WithFileUploads;\r\n\r\n    public $lesson, $file;\r\n\r\n    public function mount(Lesson $lesson){\r\n        $this->lesson = $lesson;\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.instructor.lesson-resources');\r\n    }\r\n\r\n    public function save(){\r\n        $this->validate([\r\n            'file' => 'required'\r\n        ]);\r\n\r\n        $url = $this->file->store('resources');\r\n\r\n        $this->lesson->resource()->create([\r\n            'url' => $url\r\n        ]);\r\n\r\n        $this->lesson = Lesson::find($this->lesson->id);\r\n    }\r\n\r\n    public function destroy(){\r\n        Storage::delete($this->lesson->resource->url);\r\n        $this->lesson->resource->delete();\r\n        $this->lesson = Lesson::find($this->lesson->id);\r\n    }\r\n\r\n    public function download(){\r\n        return response()->download(storage_path('app/public/' . $this->lesson->resource->url));\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista del componente ",(0,s.jsx)(r.strong,{children:"lesson-resources"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\lesson-resources.blade.php"',children:'<div class="card" x-data="{ open: false }">\r\n    <div class="card-body bg-gray-100">\r\n        <header>\r\n            <h1 x-on:click="open = !open" class="cursor-pointer">Recursos de la lecci\xf3n</h1>\r\n        </header>\r\n\r\n        <div x-show="open">\r\n            <hr class="my-2">\r\n\r\n            @if ($lesson->resource)\r\n                <div class="flex justify-between items-center">\r\n                    <p><i wire:click="download" class="fas fa-download text-gray-500 mr-2 cursor-pointer"></i> {{ $lesson->resource->url }}</p>\r\n                    <i wire:click="destroy" class="fas fa-trash text-red-500 cursor-pointer"></i>\r\n                </div>\r\n            @else\r\n                <form wire:submit.prevent="save">\r\n                    <div class="flex items-center">\r\n                        <input wire:model="file" type="file" class="form-input flex-1">\r\n                        <button type="submit" class="btn btn-primary text-sm ml-2">Guardar</button>\r\n                    </div>\r\n                    <div class="text-blue-500 font-bold mt-1" wire:loading wire:target="file">\r\n                        Cargando ...\r\n                    </div>\r\n                    @error(\'file\')\r\n                        <span class="text-xs text-red-500">{{ $message }}</span>\r\n                    @enderror\r\n                </form>\r\n            @endif\r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"deleting"})," en ",(0,s.jsx)(r.strong,{children:"LessonObserver"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Observers\\LessonObserver.php"',children:"public function deleting(Lesson $lesson){\r\n    if($lesson->resource){\r\n        Storage::delete($lesson->resource->url);\r\n        $lesson->resource->delete();\r\n    }\r\n}\n"})}),"\n","Importar facade ",(0,s.jsx)(r.strong,{children:"Storage"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use Illuminate\\Support\\Facades\\Storage;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear un observador para el modelo ",(0,s.jsx)(r.strong,{children:"Section"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:observer SectionObserver\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Registrar el observador SectionObserever en ",(0,s.jsx)(r.strong,{children:"AppServiceProvider"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Providers\\AppServiceProvider.php"',children:"<?php\r\n\r\nnamespace App\\Providers;\r\n\r\nuse Illuminate\\Support\\Facades\\Blade;\r\nuse Illuminate\\Support\\ServiceProvider;\r\nuse App\\Models\\Lesson;\r\nuse App\\Models\\Section;\r\nuse App\\Observers\\LessonObserver;\r\nuse App\\Observers\\SectionObserver;\r\n\r\nclass AppServiceProvider extends ServiceProvider\r\n{\r\n    /**\r\n    * Register any application services.\r\n    *\r\n    * @return void\r\n    */\r\n    public function register()\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Bootstrap any application services.\r\n    *\r\n    * @return void\r\n    */\r\n    public function boot()\r\n    {\r\n        Lesson::observe(LessonObserver::class);\r\n        Section::observe(SectionObserver::class);\r\n        Blade::directive('routeIs', function ($expression) {\r\n            return \"<?php if(Request::url() == route($expression)) : ?>\";\r\n        });\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar ",(0,s.jsx)(r.strong,{children:"SectionObserver"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Observers\\SectionObserver.php"',children:"<?php\r\n\r\nnamespace App\\Observers;\r\n\r\nuse App\\Models\\Section;\r\nuse Illuminate\\Support\\Facades\\Storage;\r\n\r\nclass SectionObserver\r\n{\r\n    public function deleting(Section $section){\r\n        foreach ($section->lessons as $lesson) {\r\n            if($lesson->resource){\r\n                Storage::delete($lesson->resource->url);\r\n                $lesson->resource->delete();\r\n            }\r\n        }\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"courses-lesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-lesson.blade.php"',children:'<div>\r\n    @foreach ($section->lessons as $item)\r\n        <article class="card mt-4" x-data="{open: false}">\r\n            <div class="card-body">\r\n                @if ($lesson->id == $item->id)\r\n                    \x3c!-- ... --\x3e\r\n                @else\r\n                    <header>\r\n                        <h1 x-on:click="open = !open" class="cursor-pointer"><i class="far fa-play-circle text-blue-500 mr-1"></i> Lecci\xf3n: {{ $item->name }}</h1>\r\n                    </header>\r\n                    <div x-show="open">\r\n                        \x3c!-- ... --\x3e\r\n                    </div>     \r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n    \x3c!-- ... --\x3e\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"courses-curriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""resources\\views\\livewire\\instructor\\courses-curriculum.blade.php',children:'<div>\r\n    <x-slot name="course">\r\n        {{ $course->slug }}\r\n    </x-slot>\r\n\r\n    <h1 class="text-2xl font-bold">LECCIONES DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n    @foreach ($course->sections as $item)\r\n        <article class="card mb-6" x-data="{open: true}">\r\n            <div class="card-body bg-gray-100">\r\n                @if ($section->id == $item->id)\r\n                    \x3c!-- ... --\x3e\r\n                @else\r\n                    <header class="flex justify-between items-center">\r\n                        <h1 x-on:click="open = !open" class="cursor-pointer"><strong>Secci\xf3n:</strong> {{ $item->name }}</h1>\r\n                        \x3c!-- ... --\x3e\r\n                    </header>\r\n                    <div x-show="open">\r\n                        @livewire(\'instructor.courses-lesson\', [\'section\' => $item], key($item->id))\r\n                    </div>\r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n    \x3c!-- ... --\x3e\r\n</div>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-46-peque\xf1a-correcci\xf3n",children:"Video 46. Peque\xf1a correcci\xf3n"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Corregir asignaci\xf3n de llaves en componentes en la vista ",(0,s.jsx)(r.strong,{children:"courses-lesson"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-lesson.blade.php"',children:"\x3c!-- ... --\x3e\r\n<div class=\"mb-4\">\r\n    @livewire('instructor.lesson-description', ['lesson' => $item], key('lesson-description' . $item->id))\r\n</div>\r\n\r\n<div>\r\n    @livewire('instructor.lesson-resources', ['lesson' => $item], key('lesson-resources' . $item->id))\r\n</div>\r\n\x3c!-- ... --\x3e\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-47-metas-del-curso",children:"Video 47. Metas del curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear ruta para metas del curso en ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"Route::get('courses/{course}/goals', [CourseController::class, 'goals'])->name('courses.goals');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"goals"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function goals(Course $course){\r\n    return view('instructor.courses.goals', compact('course'));\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"goals"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\goals.blade.php"',children:"<x-instructor-layout>\r\n    <x-slot name=\"course\">\r\n        {{ $course->slug }}\r\n    </x-slot>\r\n\r\n    <div>\r\n        @livewire('instructor.courses-goals', ['course' => $course], key('courses-goals' . $course->id))\r\n    </div>\r\n\r\n    <div class=\"my-8\">\r\n        @livewire('instructor.courses-requirements', ['course' => $course], key('courses-requirements' . $course->id))\r\n    </div>\r\n\r\n    <div>\r\n        @livewire('instructor.courses-audiences', ['course' => $course], key('courses-audiences' . $course->id))\r\n    </div>\r\n</x-instructor-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\instructor.blade.php"',children:'\x3c!-- ... --\x3e\r\n<h1 class="font-bold text-lg mb-4">Edici\xf3n del curso</h1>\r\n<ul class="text-sm text-gray-600">\r\n    <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.edit\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n        <a href="{{ route(\'instructor.courses.edit\', $course) }}">Informaci\xf3n del curso</a>\r\n    </li>\r\n    <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.curriculum\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n        <a href="{{ route(\'instructor.courses.curriculum\', $course) }}">Lecciones del curso</a>\r\n    </li>\r\n    <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.goals\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n        <a href="{{ route(\'instructor.courses.goals\', $course) }}">Metas del curso</a>\r\n    </li>\r\n    <li class="leading-7 mb-1 border-l-4 border-transparent pl-2">\r\n        <a href="">Estudiantes</a>\r\n    </li>\r\n</ul>\r\n\x3c!-- ... --\x3e\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componentes livewire:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire Instructor/CoursesGoals\r\nphp artisan make:livewire Instructor/CoursesRequirements\r\nphp artisan make:livewire Instructor/CoursesAudiences\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesGoals"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesGoals.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Goal;\r\nuse Livewire\\Component;\r\n\r\nclass CoursesGoals extends Component\r\n{\r\n    public $course, $goal, $name;\r\n\r\n    protected $rules = [\r\n        'goal.name' => 'required'\r\n    ];\r\n\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        $this->goal = new Goal();\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.instructor.courses-goals');\r\n    }\r\n\r\n    public function store(){\r\n        $this->validate([\r\n            'name' => 'required'\r\n        ]);\r\n        $this->course->goals()->create([\r\n            'name' => $this->name\r\n        ]);\r\n        $this->reset('name');\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n\r\n    public function edit(Goal $goal){\r\n        $this->goal = $goal;\r\n    }\r\n\r\n    public function update(){\r\n        $this->validate();\r\n        $this->goal->save();\r\n        $this->goal = new Goal();\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n\r\n    public function destroy(Goal $goal){\r\n        $goal->delete();\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista del componente ",(0,s.jsx)(r.strong,{children:"courses-goals"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-goals.blade.php"',children:'<section>\r\n    <h1 class="text-2xl font-bold">METAS DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n\r\n    @foreach ($course->goals as $item)\r\n        <article class="card mb-4">\r\n            <div class="card-body bg-gray-100">\r\n                @if ($goal->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <input wire:model="goal.name" class="form-input w-full">\r\n                        @error(\'goal.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n                    </form>\r\n                @else\r\n                    <header class="flex justify-between">\r\n                        <h1>{{ $item->name }}</h1>\r\n                        <div>\r\n                            <i wire:click="edit({{ $item }})" class="fas fa-edit text-blue-500 cursor-pointer"></i>\r\n                            <i wire:click="destroy({{ $item }})" class="fas fa-trash text-red-500 cursor-pointer ml-2"></i>\r\n                        </div>\r\n                    </header>\r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <article class="card">\r\n        <div class="card-body bg-gray-100">\r\n            <form wire:submit.prevent="store">\r\n                <input wire:model="name" class="form-input w-full" placeholder="Agregar el nombre de la meta">\r\n                @error(\'name\')\r\n                    <span class="text-xs text-red-500">{{ $message }}</span>\r\n                @enderror\r\n                <div class="flex justify-end mt-2">\r\n                    <button type="submit" class="btn btn-primary">Agregar meta</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </article>\r\n</section>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesRequirements"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesRequirements.php"',children:'<section>\r\n    <h1 class="text-2xl font-bold">METAS DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n\r\n    @foreach ($course->goals as $item)\r\n        <article class="card mb-4">\r\n            <div class="card-body bg-gray-100">\r\n                @if ($goal->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <input wire:model="goal.name" class="form-input w-full">\r\n                        @error(\'goal.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n                    </form>\r\n                @else\r\n                    <header class="flex justify-between">\r\n                        <h1>{{ $item->name }}</h1>\r\n                        <div>\r\n                            <i wire:click="edit({{ $item }})" class="fas fa-edit text-blue-500 cursor-pointer"></i>\r\n                            <i wire:click="destroy({{ $item }})" class="fas fa-trash text-red-500 cursor-pointer ml-2"></i>\r\n                        </div>\r\n                    </header>\r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <article class="card">\r\n        <div class="card-body bg-gray-100">\r\n            <form wire:submit.prevent="store">\r\n                <input wire:model="name" class="form-input w-full" placeholder="Agregar el nombre de la meta">\r\n                @error(\'name\')\r\n                    <span class="text-xs text-red-500">{{ $message }}</span>\r\n                @enderror\r\n                <div class="flex justify-end mt-2">\r\n                    <button type="submit" class="btn btn-primary">Agregar meta</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </article>\r\n</section>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista del componente ",(0,s.jsx)(r.strong,{children:"courses-requirements"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-requirements.blade.php"',children:'<section>\r\n    <h1 class="text-2xl font-bold">REQUERIMIENTOS DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n\r\n    @foreach ($course->requirements as $item)\r\n        <article class="card mb-4">\r\n            <div class="card-body bg-gray-100">\r\n                @if ($requirement->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <input wire:model="requirement.name" class="form-input w-full">\r\n                        @error(\'requirement.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n                    </form>\r\n                @else\r\n                    <header class="flex justify-between">\r\n                        <h1>{{ $item->name }}</h1>\r\n                        <div>\r\n                            <i wire:click="edit({{ $item }})" class="fas fa-edit text-blue-500 cursor-pointer"></i>\r\n                            <i wire:click="destroy({{ $item }})" class="fas fa-trash text-red-500 cursor-pointer ml-2"></i>\r\n                        </div>\r\n                    </header>\r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <article class="card">\r\n        <div class="card-body bg-gray-100">\r\n            <form wire:submit.prevent="store">\r\n                <input wire:model="name" class="form-input w-full" placeholder="Agregar el nombre de un requerimiento">\r\n                @error(\'name\')\r\n                    <span class="text-xs text-red-500">{{ $message }}</span>\r\n                @enderror\r\n                <div class="flex justify-end mt-2">\r\n                    <button type="submit" class="btn btn-primary">Agregar requerimiento</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </article>\r\n</section>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesAudiences"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesAudiences.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Audience;\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\n\r\nclass CoursesAudiences extends Component\r\n{\r\n    public $course, $audience, $name;\r\n\r\n    protected $rules = [\r\n        'audience.name' => 'required'\r\n    ];\r\n\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        $this->audience = new Audience();\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        return view('livewire.instructor.courses-audiences');\r\n    }\r\n\r\n    public function store(){\r\n        $this->validate([\r\n            'name' => 'required'\r\n        ]);\r\n        $this->course->audiences()->create([\r\n            'name' => $this->name\r\n        ]);\r\n        $this->reset('name');\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n\r\n    public function edit(Audience $audience){\r\n        $this->audience = $audience;\r\n    }\r\n\r\n    public function update(){\r\n        $this->validate();\r\n        $this->audience->save();\r\n        $this->audience = new Audience();\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n\r\n    public function destroy(Audience $audience){\r\n        $audience->delete();\r\n        $this->course = Course::find($this->course->id);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista del componente ",(0,s.jsx)(r.strong,{children:"courses-audiences"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-audiences.blade.php"',children:'<section>\r\n    <h1 class="text-2xl font-bold">AUDIENCIA DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n\r\n    @foreach ($course->audiences as $item)\r\n        <article class="card mb-4">\r\n            <div class="card-body bg-gray-100">\r\n                @if ($audience->id == $item->id)\r\n                    <form wire:submit.prevent="update">\r\n                        <input wire:model="audience.name" class="form-input w-full">\r\n                        @error(\'audience.name\')\r\n                            <span class="text-xs text-red-500">{{ $message }}</span>\r\n                        @enderror\r\n                    </form>\r\n                @else\r\n                    <header class="flex justify-between">\r\n                        <h1>{{ $item->name }}</h1>\r\n                        <div>\r\n                            <i wire:click="edit({{ $item }})" class="fas fa-edit text-blue-500 cursor-pointer"></i>\r\n                            <i wire:click="destroy({{ $item }})" class="fas fa-trash text-red-500 cursor-pointer ml-2"></i>\r\n                        </div>\r\n                    </header>\r\n                @endif\r\n            </div>\r\n        </article>\r\n    @endforeach\r\n\r\n    <article class="card">\r\n        <div class="card-body bg-gray-100">\r\n            <form wire:submit.prevent="store">\r\n                <input wire:model="name" class="form-input w-full" placeholder="Agregar la audiencia del curso">\r\n                @error(\'name\')\r\n                    <span class="text-xs text-red-500">{{ $message }}</span>\r\n                @enderror\r\n                <div class="flex justify-end mt-2">\r\n                    <button type="submit" class="btn btn-primary">Agregar audiencia</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </article>\r\n</section>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-48-estudiantes-del-curso",children:"Video 48. Estudiantes del curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear ruta ",(0,s.jsx)(r.strong,{children:"courses.estudents"})," en ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"Route::get('courses/{course}/students', CoursesStudents::class)->name('courses.students');\n"})}),"\n","Importar componente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"use App\\Http\\Livewire\\Instructor\\CoursesStudents;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente de livewire para el control de la nueva ruta ",(0,s.jsx)(r.strong,{children:"courses.estudents"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire Instructor/CoursesStudents\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesStudents"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesStudents.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\n\r\nclass CoursesStudents extends Component\r\n{\r\n    use WithPagination;\r\n\r\n    public $course, $search;\r\n\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n    }\r\n\r\n    public function updatingSearch(){\r\n        $this->resetPage();\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        $students = $this->course->students()\r\n                    ->where('name', 'LIKE', '%' . $this->search . '%')\r\n                    ->paginate(4);\r\n        return view('livewire.instructor.courses-students', compact('students'))->layout('layouts.instructor');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar la vista del componente ",(0,s.jsx)(r.strong,{children:"courses-students"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-students.blade.php"',children:'<div>\r\n    <x-slot name="course">\r\n        {{ $course->slug }}\r\n    </x-slot>\r\n\r\n    <h1 class="text-2xl font-bold mb-4">ESTUDIANTES DEL CURSO</h1>\r\n\r\n    <x-table-responsive>\r\n        <div class="px-6 py-4">\r\n            <input wire:model="search" class="form-input w-full shadow-sm" placeholder="Ingrese el nombre del estudiante ...">\r\n        </div>\r\n        @if ($students->count())\r\n            <table class="min-w-full divide-y divide-gray-200">\r\n                <thead class="bg-gray-50">\r\n                    <tr>\r\n                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">\r\n                            Nombre\r\n                        </th>\r\n                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">\r\n                            Email\r\n                        </th>\r\n                        <th scope="col" class="relative px-6 py-3">\r\n                            <span class="sr-only">Edit</span>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class="bg-white divide-y divide-gray-200">\r\n                    @foreach ($students as $student)\r\n                        <tr>\r\n                            <td class="px-6 py-4 whitespace-nowrap">\r\n                                <div class="flex items-center">\r\n                                    <div class="flex-shrink-0 h-10 w-10">\r\n                                        <img class="h-10 w-10 rounded-full object-cover object-center" src="{{ $student->profile_photo_url }}" alt="">\r\n                                    </div>\r\n                                    <div class="ml-4">\r\n                                        <div class="text-sm font-medium text-gray-900">\r\n                                            {{ $student->name }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td class="px-6 py-4 whitespace-nowrap">\r\n                                <div class="text-sm text-gray-900">{{ $student->email }}</div>\r\n                            </td>\r\n                            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">\r\n                                <a href="" class="text-indigo-600 hover:text-indigo-900">Ver</a>\r\n                            </td>\r\n                        </tr>  \r\n                    @endforeach\r\n                </tbody>\r\n            </table>\r\n            <div class="px-6 py-4">\r\n                {{ $students->links() }}\r\n            </div>\r\n        @else\r\n            <div class="px-6 py-4">\r\n                No hay ning\xfan registro coincidente\r\n            </div>\r\n        @endif\r\n    </x-table-responsive>   \r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\instructor.blade.php"',children:'// ...\r\n<aside>\r\n    <h1 class="font-bold text-lg mb-4">Edici\xf3n del curso</h1>\r\n    <ul class="text-sm text-gray-600">\r\n        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.edit\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n            <a href="{{ route(\'instructor.courses.edit\', $course) }}">Informaci\xf3n del curso</a>\r\n        </li>\r\n        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.curriculum\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n            <a href="{{ route(\'instructor.courses.curriculum\', $course) }}">Lecciones del curso</a>\r\n        </li>\r\n        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.goals\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n            <a href="{{ route(\'instructor.courses.goals\', $course) }}">Metas del curso</a>\r\n        </li>\r\n        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.students\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n            <a href="{{ route(\'instructor.courses.students\', $course) }}">Estudiantes</a>\r\n        </li>\r\n    </ul>\r\n</aside>\r\n// ...\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-49-agregar-policies-a-los-cursos",children:"Video 49. Agregar policies a los cursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Reemplazar l\xednea de c\xf3digo en ",(0,s.jsx)(r.strong,{children:"database\\factories\\CourseFactory.php"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'user_id' => 1,\n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'user_id' => $this->faker->randomElement([1, 2, 3, 4, 5]),\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reestablecer la base de datos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"dicatated"})," en ",(0,s.jsx)(r.strong,{children:"CoursePolicy"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Policies\\CoursePolicy.php"',children:"public function dicatated(User $user, Course $course){\r\n    if($course->user_id == $user->id){\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar la siguiente l\xednea de c\xf3digo al principio de los m\xe9todos ",(0,s.jsx)(r.strong,{children:"edit"}),", ",(0,s.jsx)(r.strong,{children:"update"})," y ",(0,s.jsx)(r.strong,{children:"goals"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"$this->authorize('dicatated', $course);\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesCurriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesCurriculum.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Course;\r\nuse App\\Models\\Section;\r\nuse Livewire\\Component;\r\nuse Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests;\r\n\r\nclass CoursesCurriculum extends Component\r\n{\r\n    use AuthorizesRequests;\r\n\r\n    public $course, $section, $name;\r\n\r\n    protected $rules = [\r\n        'section.name' => 'required'\r\n    ];\r\n\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        $this->section = new Section();\r\n        $this->authorize('dicatated', $course);\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesStudents"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesStudents.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire\\Instructor;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithPagination;\r\nuse Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests;\r\n\r\nclass CoursesStudents extends Component\r\n{\r\n    use WithPagination;\r\n    use AuthorizesRequests;\r\n\r\n    public $course, $search;\r\n\r\n    public function mount(Course $course){\r\n        $this->course = $course;\r\n        $this->authorize('dicatated', $course);\r\n    }\r\n    // ...\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"__construct"})," al principio de la clase ",(0,s.jsx)(r.strong,{children:"CourseController"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function __construct(){\r\n    $this->middleware('can:Leer cursos')->only('index');\r\n    $this->middleware('can:Crear cursos')->only('create', 'store');\r\n    $this->middleware('can:Actualizar cursos')->only('edit', 'update', 'goals');\r\n    $this->middleware('can:Eliminar cursos')->only('destroy');\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar middleware a las rutas del archivo ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"<?php\r\n\r\nuse App\\Http\\Controllers\\Instructor\\CourseController;\r\nuse App\\Http\\Livewire\\Instructor\\CoursesCurriculum;\r\nuse Illuminate\\Support\\Facades\\Route;\r\nuse App\\Http\\Livewire\\Instructor\\CoursesStudents;\r\n\r\nRoute::redirect('', 'instructor/courses');\r\n\r\nRoute::resource('courses', CourseController::class)->names('courses');\r\n\r\nRoute::get('courses/{course}/curriculum', CoursesCurriculum::class)->middleware('can:Actualizar cursos')->name('courses.curriculum');\r\n\r\nRoute::get('courses/{course}/goals', [CourseController::class, 'goals'])->name('courses.goals');\r\n\r\nRoute::get('courses/{course}/students', CoursesStudents::class)->middleware('can:Actualizar cursos')->name('courses.students');\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-7-\xe1probaci\xf3n-de-un-curso",children:"Secci\xf3n 7: \xc1probaci\xf3n de un curso"}),"\n",(0,s.jsx)(r.h3,{id:"video-50-agregar-bot\xf3n-que-solicite-aprobaci\xf3n",children:"Video 50. Agregar bot\xf3n que solicite aprobaci\xf3n"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\instructor.blade.php"',children:'<!DOCTYPE html>\r\n<html lang="{{ str_replace(\'_\', \'-\', app()->getLocale()) }}">\r\n    <head>\r\n        <meta charset="utf-8">\r\n        <meta name="viewport" content="width=device-width, initial-scale=1">\r\n        <meta name="csrf-token" content="{{ csrf_token() }}">\r\n\r\n        <title>{{ config(\'app.name\', \'Laravel\') }}</title>\r\n\r\n        \x3c!-- Fonts --\x3e\r\n        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap">\r\n\r\n        \x3c!-- Styles --\x3e\r\n        <link rel="stylesheet" href="{{ mix(\'css/app.css\') }}">\r\n        <link rel="stylesheet" href="{{ asset(\'vendor/fontawesome-free/css/all.min.css\') }}">\r\n\r\n        @livewireStyles\r\n\r\n        \x3c!-- Scripts --\x3e\r\n        <script src="{{ mix(\'js/app.js\') }}" defer><\/script>\r\n    </head>\r\n    <body class="font-sans antialiased">\r\n        <div class="min-h-screen bg-gray-100">\r\n            @livewire(\'navigation-dropdown\')\r\n\r\n            \x3c!-- Page Content --\x3e\r\n            <div class="container py-8 grid grid-cols-5 gap-6">\r\n                <aside>\r\n                    <h1 class="font-bold text-lg mb-4">Edici\xf3n del curso</h1>\r\n                    <ul class="text-sm text-gray-600 mb-4">\r\n                        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.edit\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                            <a href="{{ route(\'instructor.courses.edit\', $course) }}">Informaci\xf3n del curso</a>\r\n                        </li>\r\n                        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.curriculum\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                            <a href="{{ route(\'instructor.courses.curriculum\', $course) }}">Lecciones del curso</a>\r\n                        </li>\r\n                        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.goals\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                            <a href="{{ route(\'instructor.courses.goals\', $course) }}">Metas del curso</a>\r\n                        </li>\r\n                        <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.students\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                            <a href="{{ route(\'instructor.courses.students\', $course) }}">Estudiantes</a>\r\n                        </li>\r\n                    </ul>\r\n\r\n                    @switch($course->status)\r\n                        @case(1)\r\n                            <form action="{{ route(\'instructor.courses.status\', $course) }}" method="POST">\r\n                                @csrf\r\n                                <button class="btn btn-danger" type="submit">Solicitar revisi\xf3n</button>\r\n                            </form>\r\n                            @break\r\n                        @case(2)\r\n                            <div class="card text-gray-500">\r\n                                <div class="card-body">\r\n                                    Este curso se encuentra en revisi\xf3n\r\n                                </div>\r\n                            </div>\r\n                            @break\r\n                        @case(3)\r\n                            <div class="card text-gray-500">\r\n                                <div class="card-body">\r\n                                    Este curso se encuentra publicado\r\n                                </div>\r\n                            </div>\r\n                            @break\r\n                        @default     \r\n                    @endswitch\r\n                </aside>\r\n                <div class="col-span-4 card">\r\n                    <main class="card-body text-gray-600">\r\n                        {{ $slot }}\r\n                    </main>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        @stack(\'modals\')\r\n\r\n        @livewireScripts\r\n\r\n        @isset($js)\r\n            {{ $js }}  \r\n        @endisset\r\n    </body>\r\n</html>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar ruta para status del curso en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"Route::post('courses/{course}/status', [CourseController::class, 'status'])->name('courses.status');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"status"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function status(Course $course){\r\n    $course->status = 2;\r\n    $course->save();\r\n    return back();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\edit.blade.php"',children:"<x-instructor-layout :course=\"$course\">\r\n    <h1 class=\"text-2xl font-bold\">INFORMACI\xd3N DEL CURSO</h1>\r\n    <hr class=\"mt-2 mb-6\">\r\n    {!! Form::model($course, ['route' => ['instructor.courses.update', $course], 'method' => 'put', 'files' => true]) !!}\r\n\r\n        @include('instructor.courses.partials.form')\r\n\r\n        <div class=\"flex justify-end\">\r\n            {!! Form::submit('Actualizar informaci\xf3n', ['class' => 'btn btn-primary']) !!}\r\n        </div>\r\n    {!! Form::close() !!}\r\n\r\n    <x-slot name=\"js\">\r\n        <script src=\"https://cdn.ckeditor.com/ckeditor5/27.1.0/classic/ckeditor.js\"><\/script>\r\n        <script src=\"{{ asset('js\\instructor\\courses\\form.js') }}\"><\/script>\r\n    </x-slot>\r\n</x-instructor-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar ",(0,s.jsx)(r.strong,{children:"InstructorLayout"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\View\\Components\\InstructorLayout.php"',children:"<?php\r\n\r\nnamespace App\\View\\Components;\r\n\r\nuse Illuminate\\View\\Component;\r\n\r\nclass InstructorLayout extends Component\r\n{\r\n    public $course;\r\n    /**\r\n    * Create a new component instance.\r\n    *\r\n    * @return void\r\n    */\r\n    public function __construct($course)\r\n    {\r\n        $this->course = $course;\r\n    }\r\n\r\n    /**\r\n    * Get the view / contents that represent the component.\r\n    *\r\n    * @return \\Illuminate\\Contracts\\View\\View|string\r\n    */\r\n    public function render()\r\n    {\r\n        return view('layouts.instructor');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo render del controlador ",(0,s.jsx)(r.strong,{children:"CoursesCurriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesCurriculum.php"',children:"public function render()\r\n{\r\n    // Le indicaremos que queremos utilizar una plantilla con la vista\r\n    return view('livewire.instructor.courses-curriculum')->layout('layouts.instructor', ['course' => $this->course]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar las siguiente l\xednes de c\xf3digo de la vista ",(0,s.jsx)(r.strong,{children:"courses-curriculum"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-curriculum.blade.php"',children:'<x-slot name="course">\r\n    {{ $course->slug }}\r\n</x-slot>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"goals"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\goals.blade.php"',children:"<x-instructor-layout :course=\"$course\">\r\n    <div>\r\n        @livewire('instructor.courses-goals', ['course' => $course], key('courses-goals' . $course->id))\r\n    </div>\r\n\r\n    <div class=\"my-8\">\r\n        @livewire('instructor.courses-requirements', ['course' => $course], key('courses-requirements' . $course->id))\r\n    </div>\r\n\r\n    <div>\r\n        @livewire('instructor.courses-audiences', ['course' => $course], key('courses-audiences' . $course->id))\r\n    </div>\r\n</x-instructor-layout>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"render"})," del controlador del componente ",(0,s.jsx)(r.strong,{children:"CoursesStudents"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\Instructor\\CoursesStudents.php"',children:"public function render()\r\n{\r\n    $students = $this->course->students()\r\n                ->where('name', 'LIKE', '%' . $this->search . '%')\r\n                ->paginate(4);\r\n    return view('livewire.instructor.courses-students', compact('students'))->layout('layouts.instructor', ['course' => $this->course]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar las siguientes l\xedneas de c\xf3digo de la vista del componente ",(0,s.jsx)(r.strong,{children:"courses-students"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\instructor\\courses-students.blade.php"',children:'<x-slot name="course">\r\n    {{ $course->slug }}\r\n</x-slot>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-51-cursos-pendientes-de-aprobaci\xf3n",children:"Video 51. Cursos pendientes de aprobaci\xf3n"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"adminlte"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\adminlte.php"',children:"<?php\r\n\r\nreturn [\r\n    // ...\r\n    'layout_topnav' => null,\r\n    'layout_boxed' => null,\r\n    'layout_fixed_sidebar' => true,\r\n    'layout_fixed_navbar' => null,\r\n    'layout_fixed_footer' => null,\r\n    // ...\r\n]\r\n// ...\r\n    'menu' => [\r\n        [\r\n            'text'      => 'search',\r\n            'search'    => true,\r\n            'topnav'    => true,\r\n        ],\r\n        [\r\n            'text' => 'blog',\r\n            'url'  => 'admin/blog',\r\n            'can'  => 'manage-blog',\r\n        ],\r\n        [\r\n            'text'  => 'Dashboard',\r\n            'route' => 'admin.home',\r\n            'icon'  => 'fas fa-fw fa-tachometer-alt',\r\n            'can'   => 'Ver dashboard'\r\n        ],\r\n        [\r\n            'text'      => 'Lista de roles',\r\n            'route'     => 'admin.roles.index',\r\n            'icon'      => 'fas fa-fw fa-users-cog',\r\n            'can'       => 'Listar role',\r\n            'active'    => ['admin/roles*'],\r\n        ],\r\n        [\r\n            'text'      => 'Usuarios',\r\n            'route'     => 'admin.users.index',\r\n            'icon'      => 'fas fa-fw fa-users',\r\n            'can'       => 'Leer usuarios',\r\n            'active'    => ['admin/users*'],\r\n        ],\r\n        ['header' => 'OPCIONES DE CURSO'],\r\n        [\r\n            'text' => 'Pendientes de aprobaci\xf3n',\r\n            'route'  => 'admin.courses.index',\r\n            'icon' => 'fas fa-fw fa-user',\r\n        ],\r\n        [\r\n            'text' => 'change_password',\r\n            'url'  => 'admin/settings',\r\n            'icon' => 'fas fa-fw fa-lock',\r\n        ],\r\n        // ...\r\n    ]   \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador para administrar cursos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Admin\\CourseController\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para la aprobaci\xf3n de cursos en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::get('courses',[CourseController::class, 'index'])->name('courses.index');\n"})}),"\n","Importar controlador ",(0,s.jsx)(r.strong,{children:"app\\Http\\Controllers\\Admin\\CourseController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"use App\\Http\\Controllers\\Admin\\CourseController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Admin;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse App\\Models\\Course;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass CourseController extends Controller\r\n{\r\n    public function index(){\r\n        $courses = Course::where('status', 2)->paginate();\r\n        return view('admin.courses.index', compact('courses'));\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\courses\\index.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Cursos pendientes de aprobaci\xf3n</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <table class=\"table table-striped\">\r\n                <thead>\r\n                    <th>ID</th>\r\n                    <th>Nombre</th>\r\n                    <th>Categor\xeda</th>\r\n                    <th></th>\r\n                </thead>\r\n                <tbody>\r\n                    @foreach ($courses as $course)\r\n                        <tr>\r\n                            <td>{{ $course->id }}</td>\r\n                            <td>{{ $course->title }}</td>\r\n                            <td>{{ $course->category->name }}</td>\r\n                            <td>\r\n                                <a class=\"btn btn-primary\" href=\"\">Revisar</a>\r\n                            </td>\r\n                        </tr>\r\n                    @endforeach\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div class=\"card-footer\">\r\n            {{ $courses->links('vendor.pagination.bootstrap-4') }}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Publicar vistas de paginaci\xf3n:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan vendor:publish --tag=laravel-pagination\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-52-aprobar-curso",children:"Video 52. Aprobar curso"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://tailwind-starter-kit.vercel.app/docs/badges",children:"https://tailwind-starter-kit.vercel.app/docs/badges"})}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear ruta para la revisi\xf3n de cursos en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::get('courses/{course}',[CourseController::class, 'show'])->name('courses.show');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"show"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"public function show(Course $course){\r\n    $this->authorize('revision', $course);\r\n    return view('admin.courses.show', compact('course'));\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\courses\\index.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Cursos pendientes de aprobaci\xf3n</h1>\r\n@stop\r\n\r\n@section('content')\r\n    @if (session('info'))\r\n        <div class=\"alert alert-success\">\r\n            {{ session('info') }}\r\n        </div>\r\n    @endif    \r\n\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <table class=\"table table-striped\">\r\n                <thead>\r\n                    <th>ID</th>\r\n                    <th>Nombre</th>\r\n                    <th>Categor\xeda</th>\r\n                    <th></th>\r\n                </thead>\r\n                <tbody>\r\n                    @foreach ($courses as $course)\r\n                        <tr>\r\n                            <td>{{ $course->id }}</td>\r\n                            <td>{{ $course->title }}</td>\r\n                            <td>{{ $course->category->name }}</td>\r\n                            <td>\r\n                                <a class=\"btn btn-primary\" href=\"{{ route('admin.courses.show', $course) }}\">Revisar</a>\r\n                            </td>\r\n                        </tr>\r\n                    @endforeach\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div class=\"card-footer\">\r\n            {{ $courses->links('vendor.pagination.bootstrap-4') }}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Copiar ",(0,s.jsx)(r.strong,{children:"resources\\views\\courses\\show.blade.php"})," y pegar en ",(0,s.jsx)(r.strong,{children:"show"})," y modificar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\courses\\show.blade.php"',children:'<x-app-layout>\r\n    <section class="bg-gray-700 py-12 mb-12">\r\n        <div class="container grid grid-cols-1 lg:grid-cols-2 gap-6">\r\n            <figure>\r\n                @if ($course->image)\r\n                    <img class="h-60 w-full object-cover" src="{{ Storage::url($course->image->url )}}" alt="">\r\n                @else\r\n                    <img class="h-60 w-full object-cover" src="https://images.pexels.com/photos/5940721/pexels-photo-5940721.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">\r\n                @endif\r\n            </figure>\r\n            <div class="text-white">\r\n                <h1 class="text-4xl">{{ $course->title }}</h1>\r\n                <h2 class="text-xl mb-3">{{ $course->subtitle }}</h2>\r\n                <p class="mb-2"><i class="fas fa-chart-line"></i> Nivel: {{ $course->level->name }}</p>\r\n                <p class="mb-2"><i class=""></i> Categor\xeda: {{ $course->category->name }}</p>\r\n                <p class="mb-2"><i class="fas fa-users"></i> Matriculados: {{ $course->students_count }}</p>\r\n                <p><i class="far fa-star"></i> Calificaci\xf3n: {{ $course->rating }}</p>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <div class="container grid grid-cols-1 lg:grid-cols-3 gap-6">\r\n        @if (session(\'info\'))\r\n            <div class="lg:col-span-3">\r\n                {{-- <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role>\r\n                    <strong class="font-bold">Ocurrio un error!</strong>\r\n                    <span class="block sm:inline">{{ session(\'info\') }}</span>\r\n                    <span class="absolute top-0 botton-0 right-0 px-4 py-3">\r\n                        <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/20"></svg>\r\n                    </span>\r\n                </div> --}}\r\n                <div class="relative py-3 pl-4 pr-10 leading-normal text-red-700 bg-red-100 rounded-lg" role="alert" x-data="{open: true}" x-show="open">\r\n                    <p>Ocurrio un error! {{ session(\'info\') }}</p>\r\n                    <span class="absolute inset-y-0 right-0 flex items-center mr-4">\r\n                    <svg x-on:click="open=false" class="w-4 h-4 fill-current" role="button" viewBox="0 0 20 20"><path d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        @endif\r\n        <div class="order-2 lg:col-span-2 lg:order-1">\r\n            {{-- METAS --}}\r\n            <section class="card mb-12">\r\n                <div class="card-body">\r\n                    <h1 class="font-bold text-2xl mb-2">Lo que aprender\xe1s</h1>\r\n                    <ul class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2">\r\n                        @forelse ($course->goals as $goal)\r\n                            <li class="text-gray-700 text-base"><i class="fas fa-check text-gray-600 mr-2"></i>{{ $goal->name }}</li>\r\n                        @empty\r\n                            <li class="text-gray-700 text-base">Este curso no tiene asignado ninguna meta</li>\r\n                        @endforelse\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n            {{-- TEMARIO --}}\r\n            <section class="mb-12">\r\n                <h1 class="font-bold text-3xl mb-2">Temario</h1>\r\n                @forelse ($course->sections as $section)\r\n                    <article class="mb-4 shadow" \r\n                        @if ($loop->first)\r\n                            x-data="{ open: true }"\r\n                        @else\r\n                            x-data="{ open: false }"    \r\n                        @endif>\r\n                            <header class="border border-gray-200 px-4 py-2 cursor-pointer bg-gray-200" x-on:click="open = !open">\r\n                                <h1 class="font-bold text-lg text-gray-600">{{ $section->name }}</h1>\r\n                            </header>\r\n                            <div class="bg-white py-2 px-4" x-show="open">\r\n                                <ul class="grid grid-cols-1 gap-2">\r\n                                    @foreach ($section->lessons as $lesson)\r\n                                        <li class="text-gray-700 text-base"><i class="fas fa-play-circle mr-2 text-gray-600"></i> {{ $lesson->name }}</li>\r\n                                    @endforeach\r\n                                </ul>\r\n                            </div>\r\n                    </article>\r\n                @empty\r\n                    <article class="card">\r\n                        <div class="card-body">\r\n                            Este curso no tiene ninguna secci\xf3n asignada\r\n                        </div>\r\n                    </article>\r\n                @endforelse\r\n            </section>\r\n            {{-- REQUISITOS --}}\r\n            <section>\r\n                <h1 class="font-bold text-3xl">Requisitos</h1>\r\n                <ul class="list-disc list-inside">\r\n                    @forelse ($course->requirements as $requirement)\r\n                        <li class="text-gray-700">{{ $requirement->name }}</li>\r\n                    @empty\r\n                        <li class="text-gray-700">Este curso no tiene ning\xfan requerimiento</li>\r\n                    @endforelse\r\n                </ul>\r\n            </section>\r\n            {{-- DESCRIPCI\xd3N --}}\r\n            <section>\r\n                <h1 class="font-bold text-3xl">Descripci\xf3n</h1>\r\n                <div class="text-gray-700 text-base">\r\n                    {!! $course->description !!}\r\n                </div>\r\n            </section>\r\n        </div>\r\n        <div class="order-1 lg:order-2">\r\n            <section class="card mb-4">\r\n                <div class="card-body">\r\n                    <div class="flex items-center">\r\n                        <img class="h-12 w-12 object-cover rounded-full shadow-lg" src="{{ $course->teacher->profile_photo_url }}" alt="{{ $course->teacher->name }}">\r\n                        <div class="ml-4">\r\n                            <h1 class="font-bold text-gray-500 text-lg">Prof. {{ $course->teacher->name }}</h1>\r\n                            <a class="text-blue-400 text-sm font-bold" href="">{{ \'@\' . Str::slug($course->teacher->name, \'\') }}</a>\r\n                        </div>\r\n                    </div>\r\n                    <form action="{{ route(\'admin.courses.approved\', $course) }}" class="mt-4" method="POST">\r\n                        @csrf\r\n                        <button type="submit" class="btn btn-danger w-full">Aprobar curso</button>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la vista ",(0,s.jsx)(r.strong,{children:"show"})," reemplazar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\show.blade.php"',children:'<section>\r\n    <h1 class="font-bold text-3xl">Descripci\xf3n</h1>\r\n    <div class="text-gray-700 text-base">\r\n        {{ $course->description }}\r\n    </div>\r\n</section>  \n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\show.blade.php"',children:'<section>\r\n    <h1 class="font-bold text-3xl">Descripci\xf3n</h1>\r\n    <div class="text-gray-700 text-base">\r\n        {!! $course->description !!}\r\n    </div>\r\n</section>        \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para la aprobaci\xf3n de cursos en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::post('courses/{course}/approved',[CourseController::class, 'approved'])->name('courses.approved');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"approved"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"public function approved(Course $course){\r\n    $this->authorize('revision', $course);\r\n    if(!$course->lessons || !$course->goals || !$course->requirements || !$course->image){\r\n        return back()->with('info', 'No se puede publicar un curso que no est\xe9 completo');\r\n    }\r\n    $course->status = 3;\r\n    $course->save();\r\n    return redirect()->route('admin.courses.index')->with('info', 'El curso se public\xf3 con \xe9xito');\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"revision"})," en ",(0,s.jsx)(r.strong,{children:"CoursePolicy"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Policies\\CoursePolicy.php"',children:"public function revision(User $user, Course $course){\r\n    if($course->status == 2){\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-53-enviar-correo-de-aprobaci\xf3n-de-curso",children:"Video 53. Enviar correo de aprobaci\xf3n de curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Indicar las credenciales de Mailtrap en ",(0,s.jsx)(r.strong,{children:".env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",metastring:'title=".env"',children:"MAIL_MAILER=smtp\r\nMAIL_HOST=smtp.mailtrap.io\r\nMAIL_PORT=2525\r\nMAIL_USERNAME=7c67f786972696\r\nMAIL_PASSWORD=8f37b2d25228ba\r\nMAIL_ENCRYPTION=tls\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar las siguientes variables de entorno en ",(0,s.jsx)(r.strong,{children:".env"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",metastring:'title=".env"',children:'MAIL_FROM_ADDRESS=null\r\nMAIL_FROM_NAME="${APP_NAME}"\n'})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",metastring:'title=".env"',children:'MAIL_FROM_ADDRESS=petrix@solucionespp.com\r\nMAIL_FROM_NAME="SOLUCIONES ++"\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear un ",(0,s.jsx)(r.strong,{children:"maillable"})," para correos de cursos aprobados:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:mail ApprovedCourse\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el archivo ",(0,s.jsx)(r.strong,{children:"ApprovedCourse"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Mail\\ApprovedCourse.php"',children:"<?php\r\n\r\nnamespace App\\Mail;\r\n\r\nuse App\\Models\\Course;\r\nuse Illuminate\\Bus\\Queueable;\r\nuse Illuminate\\Contracts\\Queue\\ShouldQueue;\r\nuse Illuminate\\Mail\\Mailable;\r\nuse Illuminate\\Queue\\SerializesModels;\r\n\r\nclass ApprovedCourse extends Mailable\r\n{\r\n    use Queueable, SerializesModels;\r\n\r\n    public $course;\r\n\r\n    /**\r\n    * Create a new message instance.\r\n    *\r\n    * @return void\r\n    */\r\n    public function __construct(Course $course)\r\n    {\r\n        $this->course = $course;\r\n    }\r\n\r\n    /**\r\n    * Build the message.\r\n    *\r\n    * @return $this\r\n    */\r\n    public function build()\r\n    {\r\n        return $this->view('mail.approved-course')\r\n            ->subject('CURSO APROBADO');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista para correo en ",(0,s.jsx)(r.strong,{children:"approved-course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\mail\\approved-course.blade.php"',children:'<!DOCTYPE html>\r\n<html lang="es">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\r\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\r\n    <title>Document</title>\r\n    <style>\r\n        h1{\r\n            color:red;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <h1>Este es un correo electr\xf3nico de prueba</h1>\r\n    <p>El curso <strong>{{ $course->title }}</strong> se ha aprobado con \xe9xito</p>\r\n</body>\r\n</html>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"approved"})," en ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"public function approved(Course $course){\r\n    $this->authorize('revision', $course);\r\n    if(!$course->lessons || !$course->goals || !$course->requirements || !$course->image){\r\n        return back()->with('info', 'No se puede publicar un curso que no est\xe9 completo');\r\n    }\r\n    $course->status = 3;\r\n    $course->save();\r\n\r\n    // Enviar correo electr\xf3nico\r\n    $mail = new ApprovedCourse($course);\r\n    Mail::to($course->teacher->email)->send($mail);\r\n\r\n    return redirect()->route('admin.courses.index')->with('info', 'El curso se public\xf3 con \xe9xito');\r\n}\n"})}),"\n","Importar las siguiente librerias:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use Illuminate\\Support\\Facades\\Mail;\r\nuse App\\Mail\\ApprovedCourse;    \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-54-enviar-coreos-con-queues",children:"Video 54. Enviar coreos con Queues"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar varible de entorno en ",(0,s.jsx)(r.strong,{children:".env"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",metastring:'title=".env"',children:"QUEUE_CONNECTION=sync    \n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",metastring:'title=".env"',children:"QUEUE_CONNECTION=database    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"jobs"})," para las colas de trabajo:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan queue:table\r\nphp artisan migrate    \n"})}),"\n","Nota: para ejecutar los queue es necesario ejecutar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan queue:work    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Cambiar la siguiente l\xednea de c\xf3digo en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"approved"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":\r\nCambiar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"Mail::to($course->teacher->email)->send($mail);    \n"})}),"\n","Por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"Mail::to($course->teacher->email)->queue($mail);    \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-55-observar-cursos",children:"Video 55. Observar cursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear modelo de observaciones del curso junto con sus migraciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Observation -m    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar m\xe9todo ",(0,s.jsx)(r.strong,{children:"up"})," da la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"2021_06_14_112904_create_observations_table"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="database\\migrations\\2021_06_14_112904_create_observations_table.php"',children:"public function up()\r\n{\r\n    Schema::create('observations', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->text('body');\r\n        $table->unsignedBigInteger('course_id');\r\n        $table->foreign('course_id')->references('id')->on('courses')->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Habilitar la asignaci\xf3n masiva en modelo ",(0,s.jsx)(r.strong,{children:"Observation"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Observation.php"',children:"// ...\r\nclass Observation extends Model\r\n{\r\n    use HasFactory;\r\n\r\n    protected $fillable = [\r\n        'body',\r\n        'course_id'\r\n    ];\r\n}           \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar la relaci\xf3n ",(0,s.jsx)(r.strong,{children:"Observation-Course"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Course"}),":"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Course.php"',children:"// Relaci\xf3n 1:1\r\npublic function observation(){\r\n    return $this->hasOne('App\\Models\\Observation');\r\n}    \n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.strong,{children:"Observation"})}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Models\\Observation.php"',children:"// Relaci\xf3n 1:1 inversa\r\npublic function course(){\r\n    return $this->belongsTo('App\\Models\\Course');\r\n}    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar las migraciones:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"show"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\courses\\show.blade.php"',children:'\x3c!-- ... --\x3e\r\n        <div class="order-1 lg:order-2">\r\n            <section class="card mb-4">\r\n                <div class="card-body">\r\n                    <div class="flex items-center">\r\n                        <img class="h-12 w-12 object-cover rounded-full shadow-lg" src="{{ $course->teacher->profile_photo_url }}" alt="{{ $course->teacher->name }}">\r\n                        <div class="ml-4">\r\n                            <h1 class="font-bold text-gray-500 text-lg">Prof. {{ $course->teacher->name }}</h1>\r\n                            <a class="text-blue-400 text-sm font-bold" href="">{{ \'@\' . Str::slug($course->teacher->name, \'\') }}</a>\r\n                        </div>\r\n                    </div>\r\n                    <form action="{{ route(\'admin.courses.approved\', $course) }}" class="mt-4" method="POST">\r\n                        @csrf\r\n                        <button type="submit" class="btn btn-primary w-full">Aprobar curso</button>\r\n                    </form>\r\n                    <a href="{{ route(\'admin.courses.observation\', $course) }}" class="btn btn-danger w-full block text-center mt-4">Observar curso</a>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</x-app-layout>    \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para observar curso en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::get('courses/{course}/observation',[CourseController::class, 'observation'])->name('courses.observation');    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"observation"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"public function observation(Course $course){\r\n    return view('admin.courses.observation', compact('course'));\r\n}    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"observation"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["CDN: ",(0,s.jsx)(r.a,{href:"https://ckeditor.com/ckeditor-5/download/?undefined-addons=",children:"https://ckeditor.com/ckeditor-5/download/?undefined-addons="})]}),"\n",(0,s.jsxs)(r.li,{children:["Activaci\xf3n: ",(0,s.jsx)(r.a,{href:"https://ckeditor.com/docs/ckeditor5/latest/builds/guides/quick-start.html",children:"https://ckeditor.com/docs/ckeditor5/latest/builds/guides/quick-start.html"})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\courses\\observation.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Observaciones del curso: {{ $course->title }}</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::open(['route' => ['admin.courses.reject', $course]]) !!}\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('body', 'Observaciones del curso') !!}\r\n                    {!! Form::textarea('body', null) !!}\r\n                    @error('body')\r\n                        <strong class=\"text-danger\">{{ $message }}</strong>\r\n                    @enderror\r\n                </div>\r\n                {!! Form::submit('Rechazar curso', ['class' => 'btn btn-primary']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script src=\"https://cdn.ckeditor.com/ckeditor5/28.0.0/classic/ckeditor.js\"><\/script>\r\n    <script>\r\n        ClassicEditor\r\n            .create( document.querySelector( '#body' ) )\r\n            .catch( error => {\r\n                console.error( error );\r\n            } );\r\n    <\/script>\r\n@stop    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para rechazar curso en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::post('courses/{course}/reject',[CourseController::class, 'reject'])->name('courses.reject');    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"reject"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"public function reject(Request $request, Course $course){\r\n    $request->validate([\r\n        'body' => 'required'\r\n    ]);\r\n\r\n    $course->observation()->create($request->all());\r\n    $course->status = 1;\r\n    $course->save();\r\n\r\n    // Enviar correo electr\xf3nico\r\n    $mail = new RejectCourse($course);\r\n    Mail::to($course->teacher->email)->queue($mail);\r\n\r\n    return redirect()->route('admin.courses.index')->with('info', 'El curso se rechazado con \xe9xito');\r\n}    \n"})}),"\n","Importar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CourseController.php"',children:"use App\\Mail\\RejectCourse;    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear maillable para indicar al instructor que su curso se ha rechazado:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:mail RejectCourse    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar controlador ",(0,s.jsx)(r.strong,{children:"RejectCourse"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Mail\\RejectCourse.php"',children:"<?php\r\n\r\nnamespace App\\Mail;\r\n\r\nuse App\\Models\\Course;\r\nuse Illuminate\\Bus\\Queueable;\r\nuse Illuminate\\Contracts\\Queue\\ShouldQueue;\r\nuse Illuminate\\Mail\\Mailable;\r\nuse Illuminate\\Queue\\SerializesModels;\r\n\r\nclass RejectCourse extends Mailable\r\n{\r\n    use Queueable, SerializesModels;\r\n\r\n    public $course;\r\n\r\n    /**\r\n    * Create a new message instance.\r\n    *\r\n    * @return void\r\n    */\r\n    public function __construct(Course $course)\r\n    {\r\n        $this->course = $course;\r\n    }\r\n\r\n    /**\r\n    * Build the message.\r\n    *\r\n    * @return $this\r\n    */\r\n    public function build()\r\n    {\r\n        return $this->view('mail.reject-course')\r\n            ->subject('CURSO RECHAZADO');\r\n    }\r\n}    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"reject-course"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\mail\\reject-course.blade.php"',children:'<!DOCTYPE html>\r\n<html lang="es">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\r\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\r\n    <title>Document</title>\r\n    <style>\r\n        h1{\r\n            color:red;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <h1>Este es un correo electr\xf3nico de prueba</h1>\r\n    <p>El curso <strong>{{ $course->title }}</strong> ha sido rechazado</p>\r\n    <h2>Motivo del rechazo</h2>\r\n    {!! $course->observation->body !!}\r\n</body>\r\n</html>    \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para que los queue se ejecuten:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan queue:work    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar plantilla ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\layouts\\instructor.blade.php"',children:'\x3c!-- ... --\x3e\r\n\x3c!-- Page Content --\x3e\r\n<div class="container py-8 grid grid-cols-5 gap-6">\r\n    <aside>\r\n        <h1 class="font-bold text-lg mb-4">Edici\xf3n del curso</h1>\r\n        <ul class="text-sm text-gray-600 mb-4">\r\n            <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.edit\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                <a href="{{ route(\'instructor.courses.edit\', $course) }}">Informaci\xf3n del curso</a>\r\n            </li>\r\n            <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.curriculum\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                <a href="{{ route(\'instructor.courses.curriculum\', $course) }}">Lecciones del curso</a>\r\n            </li>\r\n            <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.goals\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                <a href="{{ route(\'instructor.courses.goals\', $course) }}">Metas del curso</a>\r\n            </li>\r\n            <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.students\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                <a href="{{ route(\'instructor.courses.students\', $course) }}">Estudiantes</a>\r\n            </li>\r\n            @if ($course->observation)\r\n            <li class="leading-7 mb-1 border-l-4 @routeIs(\'instructor.courses.observation\', $course) border-indigo-400 @else border-transparent @endif pl-2">\r\n                <a href="{{ route(\'instructor.courses.observation\', $course) }}">Observaciones</a>\r\n            </li>\r\n            @endif\r\n        </ul>\r\n        \x3c!-- ... --\x3e    \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para mostrar las observaciones en ",(0,s.jsx)(r.strong,{children:"instructor"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\instructor.php"',children:"Route::get('courses/{course}/observation', [CourseController::class, 'observation'])->name('courses.observation');    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"observation"})," en el controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function observation(Course $course){\r\n    return view('instructor.courses.observation', compact('course'));\r\n}    \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear la vista ",(0,s.jsx)(r.strong,{children:"observation"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\instructor\\courses\\observation.blade.php"',children:'<x-instructor-layout :course="$course">\r\n    <h1 class="text-2xl font-bold">OBSERVACIONES DEL CURSO</h1>\r\n    <hr class="mt-2 mb-6">\r\n\r\n    <div class="text-gray-500">\r\n        {!! $course->observation->body !!}\r\n    </div>\r\n</x-instructor-layout>    \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"status"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function status(Course $course){\r\n    $course->status = 2;\r\n    $course->save();\r\n\r\n    $course->observation->delete();\r\n\r\n    return redirect()->route('instructor.courses.edit', $course);\r\n}    \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-8-crud-pendientes",children:"Secci\xf3n 8: Crud pendientes"}),"\n",(0,s.jsx)(r.h3,{id:"video-56-crud-de-categor\xedas",children:"Video 56. CRUD de categor\xedas"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear ruta para CRUD categorias en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::resource('categories', CategoryController::class)->names('categories');  \n"})}),"\n","Importar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use App\\Http\\Controllers\\Admin\\CategoryController;  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador para el CRUD categorias:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Admin\\CategoryController -r  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador ",(0,s.jsx)(r.strong,{children:"CategoryController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\CategoryController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Admin;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse Illuminate\\Http\\Request;\r\nuse App\\Models\\Category;\r\n\r\nclass CategoryController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        $categories = Category::all();\r\n        return view('admin.categories.index', compact('categories'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for creating a new resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function create()\r\n    {\r\n        return view('admin.categories.create');\r\n    }\r\n\r\n    /**\r\n    * Store a newly created resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function store(Request $request)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|unique:categories'\r\n        ]);\r\n        $category = Category::create($request->all());\r\n        return redirect()->route('admin.categories.edit', $category)->with('info', 'La categor\xeda se cre\xf3 con \xe9xito');\r\n    }\r\n\r\n    /**\r\n    * Display the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function show(Category $category)\r\n    {\r\n        return view('admin.categories.show', compact('category'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(Category $category)\r\n    {\r\n        return view('admin.categories.edit', compact('category'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, Category $category)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|unique:categories,name,'.$category->id\r\n        ]);\r\n        $category->update($request->all());\r\n        return redirect()->route('admin.categories.edit', $category)->with('info', 'La categor\xeda se actualiz\xf3 con \xe9xito');\r\n    }\r\n\r\n    /**\r\n    * Remove the specified resource from storage.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function destroy(Category $category)\r\n    {\r\n        $category->delete();\r\n        return redirect()->route('admin.categories.index')->with('info', 'La categor\xeda se elimin\xf3 con \xe9xito');\r\n    }\r\n}  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vistas:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"index"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\categories\\index.blade.php"',children:'@extends(\'adminlte::page\')\r\n\r\n@section(\'title\', \'Coders Free\')\r\n\r\n@section(\'content_header\')\r\n    <a class="btn btn-secondary btn-sm float-right" href="{{ route(\'admin.categories.create\') }}">Nueva categor\xeda</a>\r\n    <h1>Lista de categor\xedas</h1>\r\n@stop\r\n\r\n@section(\'content\')\r\n    @if (session(\'info\'))\r\n        <div class="alert alert-success">\r\n            {{ session(\'info\') }}\r\n        </div>\r\n    @endif\r\n    <div class="card">\r\n        <div class="card-body">\r\n            <table class="table table-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Nombre</th>\r\n                        <th colspan="2"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    @foreach ($categories as $category)\r\n                        <tr>\r\n                            <td>\r\n                                {{ $category->id }}\r\n                            </td>\r\n                            <td>\r\n                                {{ $category->name }}\r\n                            </td>\r\n                            <td width="10px">\r\n                                <a class="btn btn-primary btn-sm" href="{{ route(\'admin.categories.edit\', $category) }}">Editar</a>\r\n                            </td>\r\n                            <td width="10px">\r\n                                <form action="{{ route(\'admin.categories.destroy\', $category) }}" method="POST">\r\n                                    @csrf\r\n                                    @method(\'delete\')\r\n                                    <button class="btn btn-danger btn-sm" type="submit">Eliminar</button>\r\n                                </form>\r\n                            </td>\r\n                        </tr>   \r\n                    @endforeach\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n@stop  \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"create"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\categories\\create.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Crear nueva categor\xeda</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::open(['route' => 'admin.categories.store']) !!}\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('name', 'Nombre') !!}\r\n                    {!! Form::text('name', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el nombre de la categor\xeda']) !!}\r\n                    @error('name')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                {!! Form::submit('Crear categor\xeda', ['class' => 'btn btn-primary']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"edit"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\categories\\edit.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Editar categor\xeda</h1>\r\n@stop\r\n\r\n@section('content')\r\n    @if (session('info'))\r\n        <div class=\"alert alert-success\">\r\n            {{ session('info') }}\r\n        </div>\r\n    @endif\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::model($category, ['route' => ['admin.categories.update', $category], 'method' => 'put']) !!}\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('name', 'Nombre') !!}\r\n                    {!! Form::text('name', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el nombre de la categor\xeda']) !!}\r\n                    @error('name')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                {!! Form::submit('Actualizar categor\xeda', ['class' => 'btn btn-primary']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"show"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\categories\\show.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Detalle de categor\xeda</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <p>Welcome to this beautiful admin panel.</p>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar men\xfa de categor\xedas en el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"adminlte"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\adminlte.php"',children:"// ...\r\n['header' => 'OPCIONES DE CURSO'],\r\n[\r\n    'text' => 'Categor\xeda',\r\n    'route'  => 'admin.categories.index',\r\n    'icon' => 'fas fa-fw fa-cogs',\r\n],\r\n[\r\n    'text' => 'Pendientes de aprobaci\xf3n',\r\n    'route'  => 'admin.courses.index',\r\n    'icon' => 'fas fa-fw fa-user',\r\n],\r\n// ...  \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-57-crud-de-niveles",children:"Video 57. CRUD de niveles"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear ruta ",(0,s.jsx)(r.strong,{children:"levels"})," en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::resource('levels', LevelController::class)->names('levels');  \n"})}),"\n","Importar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"use App\\Http\\Controllers\\Admin\\LevelController;  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador para la ruta ",(0,s.jsx)(r.strong,{children:"levels"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Admin\\LevelController -r  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador ",(0,s.jsx)(r.strong,{children:"LevelController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\LevelController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Admin;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse App\\Models\\Level;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass LevelController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        $levels = Level::all();\r\n        return view('admin.levels.index', compact('levels'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for creating a new resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function create()\r\n    {\r\n        return view('admin.levels.create');\r\n    }\r\n\r\n    /**\r\n    * Store a newly created resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function store(Request $request)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|unique:levels'\r\n        ]);\r\n        $level = Level::create($request->all());\r\n        return redirect()->route('admin.levels.edit', $level)->with('info', 'El nivel se cre\xf3 con \xe9xito');\r\n    }\r\n\r\n    /**\r\n    * Display the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function show(Level $level)\r\n    {\r\n        return view('admin.levels.show', compact('level'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(Level $level)\r\n    {\r\n        return view('admin.levels.edit', compact('level'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, Level $level)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|unique:levels,name,'.$level->id\r\n        ]);\r\n        $level->update($request->all());\r\n        return redirect()->route('admin.levels.edit', $level)->with('info', 'El nivel se actualiz\xf3 con \xe9xito');\r\n    }\r\n\r\n    /**\r\n    * Remove the specified resource from storage.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function destroy(Level $level)\r\n    {\r\n        $level->delete();\r\n        return redirect()->route('admin.levels.index')->with('info', 'El nivel se elimin\xf3 con \xe9xito');\r\n    }\r\n}  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear las vistas para adiministra niveles:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"index"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\levels\\index.blade.php"',children:'@extends(\'adminlte::page\')\r\n\r\n@section(\'title\', \'Coders Free\')\r\n\r\n@section(\'content_header\')\r\n    <a class="btn btn-secondary btn-sm float-right" href="{{ route(\'admin.levels.create\') }}">Crear nivel</a>\r\n    <h1>Lista de niveles</h1>\r\n@stop\r\n\r\n@section(\'content\')\r\n    @if (session(\'info\'))\r\n        <div class="alert alert-success">\r\n            {{ session(\'info\') }}\r\n        </div>\r\n    @endif\r\n    <div class="card">\r\n        <div class="card-body">\r\n            <table class="table table-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Nombre</th>\r\n                        <th colspan="2"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    @foreach ($levels as $level)\r\n                        <tr>\r\n                            <td>\r\n                                {{ $level->id }}\r\n                            </td>\r\n                            <td>\r\n                                {{ $level->name }}\r\n                            </td>\r\n                            <td width="10px">\r\n                                <a class="btn btn-primary btn-sm" href="{{ route(\'admin.levels.edit\', $level) }}">Editar</a>\r\n                            </td>\r\n                            <td width="10px">\r\n                                <form action="{{ route(\'admin.levels.destroy\', $level) }}" method="POST">\r\n                                    @csrf\r\n                                    @method(\'delete\')\r\n                                    <button class="btn btn-danger btn-sm" type="submit">Eliminar</button>\r\n                                </form>\r\n                            </td>\r\n                        </tr>   \r\n                    @endforeach\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section(\'css\')\r\n    <link rel="stylesheet" href="/css/admin_custom.css">\r\n@stop\r\n\r\n@section(\'js\')\r\n    <script> console.log(\'Hi!\'); <\/script>\r\n@stop  \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"create"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\levels\\create.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Crear nivel</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::open(['route' => 'admin.levels.store']) !!}\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('name', 'Nombre') !!}\r\n                    {!! Form::text('name', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el nombre del nivel']) !!}\r\n                    @error('name')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                {!! Form::submit('Crear nivel', ['class' => 'btn btn-primary']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"edit"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\levels\\edit.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Editar nivel</h1>\r\n@stop\r\n\r\n@section('content')\r\n    @if (session('info'))\r\n        <div class=\"alert alert-success\">\r\n            {{ session('info') }}\r\n        </div>\r\n    @endif\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::model($level, ['route' => ['admin.levels.update', $level], 'method' => 'put']) !!}\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('name', 'Nombre') !!}\r\n                    {!! Form::text('name', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el nombre del nivel']) !!}\r\n                    @error('name')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                {!! Form::submit('Actualizar categor\xeda', ['class' => 'btn btn-primary']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"show"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\levels\\show.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Coders Free</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <p>Welcome to this beautiful admin panel.</p>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar men\xfa de niveles en el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"adminlte"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\adminlte.php"',children:"// ...        \r\n['header' => 'OPCIONES DE CURSO'],\r\n[\r\n    'text' => 'Categor\xeda',\r\n    'route'  => 'admin.categories.index',\r\n    'icon' => 'fas fa-fw fa-cogs',\r\n],\r\n[\r\n    'text' => 'Niveles',\r\n    'route'  => 'admin.levels.index',\r\n    'icon' => 'fas fa-fw fa-chart-line',\r\n],\r\n// ...  \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-58-crud-de-precios",children:"Video 58. CRUD de precios"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"adminlte"})," para incluir el men\xfa precios:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\adminlte.php"',children:"// ...\r\n    ['header' => 'OPCIONES DE CURSO'],\r\n    [\r\n        'text' => 'Categor\xeda',\r\n        'route'  => 'admin.categories.index',\r\n        'icon' => 'fas fa-fw fa-cogs',\r\n    ],\r\n    [\r\n        'text' => 'Niveles',\r\n        'route'  => 'admin.levels.index',\r\n        'icon' => 'fas fa-fw fa-chart-line',\r\n    ],\r\n    [\r\n        'text' => 'Precios',\r\n        'route'  => 'admin.prices.index',\r\n        'icon' => 'fab fa-fw fa-cc-visa',\r\n    ],\r\n    [\r\n        'text' => 'Pendientes de aprobaci\xf3n',\r\n        'route'  => 'admin.courses.index',\r\n        'icon' => 'fas fa-fw fa-user',\r\n    ],\r\n],\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Menu Filters\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here we can modify the menu filters of the admin panel.\r\n|\r\n| For more detailed instructions you can look here:\r\n| https://github.com/jeroennoten/Laravel-AdminLTE/#83-custom-menu-filters\r\n|\r\n*/\r\n// ...  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para administrar CRUD de precios en ",(0,s.jsx)(r.strong,{children:"admin"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"Route::resource('prices', PriceController::class)->names('prices');  \n"})}),"\n","Importar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\admin.php"',children:"use App\\Http\\Controllers\\Admin\\PriceController;  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador para la ruta ",(0,s.jsx)(r.strong,{children:"prices"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller Admin\\PriceController -r  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador ",(0,s.jsx)(r.strong,{children:"PriceController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Admin\\PriceController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers\\Admin;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse App\\Models\\Price;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass PriceController extends Controller\r\n{\r\n    /**\r\n    * Display a listing of the resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function index()\r\n    {\r\n        $prices = Price::all();\r\n\r\n        return view('admin.prices.index', compact('prices'));\r\n    }\r\n\r\n    /**\r\n    * Show the form for creating a new resource.\r\n    *\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function create()\r\n    {\r\n        return view('admin.prices.create');\r\n    }\r\n\r\n    /**\r\n    * Store a newly created resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function store(Request $request)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|unique:prices',\r\n            'value' => 'required|numeric'\r\n        ]);\r\n\r\n        $price = Price::create($request->all());\r\n\r\n        return redirect()->route('admin.prices.edit', $price)->with('info','El precio se cre\xf3 con \xe9xito');\r\n    }\r\n\r\n    /**\r\n    * Display the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function show(Price $price)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n    * Show the form for editing the specified resource.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function edit(Price $price)\r\n    {\r\n        return view('admin.prices.edit', compact('price'));\r\n    }\r\n\r\n    /**\r\n    * Update the specified resource in storage.\r\n    *\r\n    * @param  \\Illuminate\\Http\\Request  $request\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function update(Request $request, Price $price)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|unique:prices,name,'.$price->id,\r\n            'value' => 'required|numeric'\r\n        ]);\r\n\r\n        $price->update($request->all());\r\n\r\n        return redirect()->route('admin.prices.edit', $price)->with('info','El precio se actualiz\xf3 con \xe9xito');\r\n    }\r\n\r\n    /**\r\n    * Remove the specified resource from storage.\r\n    *\r\n    * @param  int  $id\r\n    * @return \\Illuminate\\Http\\Response\r\n    */\r\n    public function destroy(Price $price)\r\n    {\r\n        $price->delete();\r\n        return redirect()->route('admin.prices.index')->with('info','El precio se elimin\xf3 con \xe9xito');\r\n    }\r\n}  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear las vistas para administrar precios:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"index"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\prices\\index.blade.php"',children:'@extends(\'adminlte::page\')\r\n\r\n@section(\'title\', \'Coders Free\')\r\n\r\n@section(\'content_header\')\r\n    <a class="btn btn-secondary btn-sm float-right" href="{{ route(\'admin.prices.create\') }}">Agregar precio</a>\r\n    <h1>Lista de precios</h1>\r\n@stop\r\n\r\n@section(\'content\')\r\n    @if (session(\'info\'))\r\n        <div class="alert alert-success">\r\n            {{ session(\'info\') }}\r\n        </div>\r\n    @endif\r\n    <div class="card">\r\n        <div class="card-body">\r\n            <table class="table table-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Nombre</th>\r\n                        <th>Valor</th>\r\n                        <th colspan="2"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    @foreach ($prices as $price)\r\n                        <tr>\r\n                            <td>\r\n                                {{ $price->id }}\r\n                            </td>\r\n                            <td>\r\n                                {{ $price->name }}\r\n                            </td>\r\n                            <td>\r\n                                {{ $price->value }}\r\n                            </td>\r\n                            <td width="10px">\r\n                                <a class="btn btn-primary btn-sm" href="{{ route(\'admin.prices.edit\', $price) }}">Editar</a>\r\n                            </td>\r\n                            <td width="10px">\r\n                                <form action="{{ route(\'admin.prices.destroy\', $price) }}" method="POST">\r\n                                    @csrf\r\n                                    @method(\'delete\')\r\n                                    <button class="btn btn-danger btn-sm" type="submit">Eliminar</button>\r\n                                </form>\r\n                            </td>\r\n                        </tr>   \r\n                    @endforeach\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section(\'css\')\r\n    <link rel="stylesheet" href="/css/admin_custom.css">\r\n@stop\r\n\r\n@section(\'js\')\r\n    <script> console.log(\'Hi!\'); <\/script>\r\n@stop  \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"create"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\prices\\create.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Agregar nuevo precio</h1>\r\n@stop\r\n\r\n@section('content')\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::open(['route' => 'admin.prices.store']) !!}\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('name', 'Nombre') !!}\r\n                    {!! Form::text('name', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el nombre del precio']) !!}\r\n                    @error('name')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('value', 'Valor') !!}\r\n                    {!! Form::number('value', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el valor del precio']) !!}\r\n                    @error('value')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                {!! Form::submit('Crear nuevo precio', ['class' => 'btn btn-primary']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"edit"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\admin\\prices\\edit.blade.php"',children:"@extends('adminlte::page')\r\n\r\n@section('title', 'Coders Free')\r\n\r\n@section('content_header')\r\n    <h1>Editar precio</h1>\r\n@stop\r\n\r\n@section('content')\r\n    @if (session('info'))\r\n        <div class=\"alert alert-success\">\r\n            {{ session('info') }}\r\n        </div>\r\n    @endif\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            {!! Form::model($price, ['route' => ['admin.prices.update', $price], 'method' => 'put']) !!}\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('name', 'Nombre') !!}\r\n                    {!! Form::text('name', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el nombre del precio']) !!}\r\n                    @error('name')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    {!! Form::label('value', 'Valor') !!}\r\n                    {!! Form::number('value', null, ['class' => 'form-control', 'placeholder' => 'Ingrese el valor del precio']) !!}\r\n                    @error('value')\r\n                        <span class=\"text-danger\">{{ $message }}</span>\r\n                    @enderror\r\n                </div>\r\n                {!! Form::submit('Actualizar precio', ['class' => 'btn btn-primary']) !!}\r\n            {!! Form::close() !!}\r\n        </div>\r\n    </div>\r\n@stop\r\n\r\n@section('css')\r\n    <link rel=\"stylesheet\" href=\"/css/admin_custom.css\">\r\n@stop\r\n\r\n@section('js')\r\n    <script> console.log('Hi!'); <\/script>\r\n@stop  \n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-59-rese\xf1as-del-curso",children:"Video 59. Rese\xf1as del curso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear factory para rese\xf1as:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:factory ReviewFactory  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el campo ",(0,s.jsx)(r.strong,{children:"definition"})," en el factory ",(0,s.jsx)(r.strong,{children:"database\\factories\\ReviewFactory.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"public function definition()\r\n{\r\n    return [\r\n        'comment' => $this->faker->text(),\r\n        'rating' => $this->faker->randomElement([3, 4, 5]),\r\n        'user_id' => User::all()->random()->id\r\n    ];\r\n}  \n"})}),"\n","Importar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use App\\Models\\User;  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"database\\seeders\\CourseSeeder.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"public function run()\r\n{\r\n    $courses = Course::factory(100)->create();\r\n\r\n    foreach ($courses as $course) {\r\n        Review::factory(5)->create([\r\n            'course_id' => $course->id\r\n        ]);\r\n        Image::factory(1)->create([\r\n            'imageable_id' => $course->id,\r\n            'imageable_type' => 'App\\Models\\Course'\r\n        ]);\r\n        // ...\r\n    }\r\n    // ...\r\n}\n"})}),"\n","Importar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"use App\\Models\\Review;  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reestablecer la base de datos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate:fresh --seed  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente de livewire para mostrar rese\xf1as:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:livewire CoursesReviews  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador del ",(0,s.jsx)(r.strong,{children:"componente app\\Http\\Livewire\\CoursesReviews.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title=""',children:"<?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Course;\r\nuse Livewire\\Component;\r\n\r\nclass CoursesReviews extends Component\r\n{\r\n    public $course_id, $comment;\r\n\r\n    public $rating = 5;\r\n\r\n    public function mount(Course $course){\r\n        $this->course_id = $course->id;\r\n    }\r\n\r\n    public function render()\r\n    {\r\n        $course = Course::find($this->course_id);\r\n        return view('livewire.courses-reviews', compact('course'));\r\n    }\r\n\r\n    public function store(){\r\n        $course = Course::find($this->course_id);\r\n        $course->reviews()->create([\r\n            'comment' => $this->comment,\r\n            'rating' => $this->rating,\r\n            'user_id' => auth()->user()->id\r\n        ]);\r\n    }\r\n}  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dise\xf1ar vista del componente ",(0,s.jsx)(r.strong,{children:"courses-reviews"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\courses-reviews.blade.php"',children:'<section class="mt-4">\r\n    <h1 class="font-bold text-3xl text-gray-800 mb-2">Valoraci\xf3n</h1>\r\n    @can(\'enrolled\', $course)\r\n        <article class="mb-4">\r\n            @can(\'valued\', $course)\r\n                <textarea wire:model="comment" class="form-input w-full" rows="3" placeholder="Ingrese una rese\xf1a del curso"></textarea>\r\n                <div class="flex">\r\n                    <button class="btn btn-primary mr-2" wire:click="store">Guardar</button>\r\n                    <ul class="flex items-center">\r\n                        <li class="mr-1 cursor-pointer" wire:click="$set(\'rating\', 1)">\r\n                            <i class="fas fa-star text-{{ $rating >= 1 ? \'yellow\' : \'gray\' }}-300"></i>\r\n                        </li>\r\n                        <li class="mr-1 cursor-pointer" wire:click="$set(\'rating\', 2)">\r\n                            <i class="fas fa-star text-{{ $rating >= 2 ? \'yellow\' : \'gray\' }}-300"></i>\r\n                        </li>\r\n                        <li class="mr-1 cursor-pointer" wire:click="$set(\'rating\', 3)">\r\n                            <i class="fas fa-star text-{{ $rating >= 3 ? \'yellow\' : \'gray\' }}-300"></i>\r\n                        </li>\r\n                        <li class="mr-1 cursor-pointer" wire:click="$set(\'rating\', 4)">\r\n                            <i class="fas fa-star text-{{ $rating >= 4 ? \'yellow\' : \'gray\' }}-300"></i>\r\n                        </li>\r\n                        <li class="mr-1 cursor-pointer" wire:click="$set(\'rating\', 5)">\r\n                            <i class="fas fa-star text-{{ $rating == 5 ? \'yellow\' : \'gray\' }}-300"></i>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            @else\r\n                <div class="flex items-center bg-blue-500 text-white text-sm font-bold px-4 py-3" role="alert">\r\n                    <svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"/></svg>\r\n                    <p>Usted ya ha valorado este curso</p>\r\n                </div>\r\n            @endcan\r\n        </article>\r\n    @endcan\r\n    <div class="card">\r\n        <div class="card-body">\r\n            <p class="text-gray-800 text-xl">{{ $course->reviews->count() }} valoraciones</p>\r\n            @foreach ($course->reviews as $review)\r\n                <article class="flex mb-4 text-gray-800">\r\n                    <figure class="mr-4">\r\n                        <img class="h-12 w-12 object-cover rounded-full shadow-lg" src="{{ $review->user->profile_photo_url }}" alt="">\r\n                    </figure>\r\n                    <div class="card flex-1">\r\n                        <div class="card-body bg-gray-100">\r\n                            <p><b>{{ $review->user->name }}</b> <i class="fas fa-star text-yellow-300"></i> ({{ $review->rating }})</p>\r\n                            {{ $review->comment }}\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            @endforeach\r\n        </div>\r\n    </div>\r\n</section>  \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"show"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\show.blade.php"',children:'\x3c!-- ... --\x3e\r\n    <section>\r\n        <h1 class="font-bold text-3xl text-gray-800">Requisitos</h1>\r\n        <ul class="list-disc list-inside">\r\n            @foreach ($course->requirements as $requirement)\r\n                <li class="text-gray-700">{{ $requirement->name }}</li>\r\n            @endforeach\r\n        </ul>\r\n    </section>\r\n    <section>\r\n        <h1 class="font-bold text-3xl text-gray-800">Descripci\xf3n</h1>\r\n        <div class="text-gray-700 text-base">\r\n            {!! $course->description !!}\r\n        </div>\r\n    </section>\r\n    @livewire(\'courses-reviews\', [\'course\' => $course])\r\n</div>\r\n\x3c!-- ... --\x3e \n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"valued"})," en ",(0,s.jsx)(r.strong,{children:"CoursePolicy"})," para evitar que un usuario realice m\xe1s de una rese\xf1a:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Policies\\CoursePolicy.php"',children:"public function valued(User $user, Course $course){\r\n    if(Review::where('user_id', $user->id)->where('course_id', $course->id)->count()){\r\n        return false;\r\n    }else{\r\n        return true;\r\n    }\r\n}  \n"})}),"\n","Importar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Policies\\CoursePolicy.php"',children:"use App\\Models\\Review;  \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-60-descargar-recursos",children:"Video 60. Descargar recursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"status"})," del controlador ",(0,s.jsx)(r.strong,{children:"CourseController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\Instructor\\CourseController.php"',children:"public function status(Course $course){\r\n    $course->status = 2;\r\n    $course->save();\r\n\r\n    if($course->observation){\r\n        $course->observation->delete();\r\n    }\r\n\r\n    return redirect()->route('instructor.courses.edit', $course);\r\n}  \n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista del componente livewire ",(0,s.jsx)(r.strong,{children:"course-status"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\livewire\\course-status.blade.php"',children:'\x3c!-- ... --\x3e\r\n<div class="flex justify-between mt-4">\r\n    {{-- MARCAR COMO CULMINADO --}}\r\n    <div class="flex items-center cursor-pointer" wire:click="completed">\r\n        @if ($current->completed)\r\n            <i class="fas fa-toggle-on text-2xl text-blue-600"></i>\r\n        @else\r\n            <i class="fas fa-toggle-off text-2xl text-gray-600"></i>\r\n        @endif\r\n        <p class="text-sm ml-2">Marcar esta unidad como culminada</p>\r\n    </div>\r\n    @if ($current->resource)\r\n        <div class="flex items-center text-gray-600 cursor-pointer" wire:click="download">\r\n            <i class="fas fa-download text-lg"></i>\r\n            <p class="text-sm ml-2">Descargar recurso</p>\r\n        </div> \r\n    @endif\r\n</div>\r\n\x3c!-- ... --\x3e\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"download"})," en el controlador del componente livewire ",(0,s.jsx)(r.strong,{children:"CourseStatus"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Livewire\\CourseStatus.php"',children:"public function download(){\r\n    return response()->download(storage_path('app/public/' . $this->current->resource->url));\r\n}  \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-9-metodo-de-pago",children:"Secci\xf3n 9: Metodo de pago"}),"\n",(0,s.jsx)(r.h3,{id:"video-61-parte-visual",children:"Video 61. Parte visual"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el componente ",(0,s.jsx)(r.strong,{children:"course-card"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\components\\course-card.blade.php"',children:'@props([\'course\'])\r\n\r\n<article class="card flex flex-col">\r\n    <img class="h-36 w-full object-cover" src="{{ Storage::url($course->image->url) }}" alt="">\r\n    <div class="card-body flex-1 flex flex-col">\r\n        <h1 class="card-title">{{ Str::limit($course->title, 40) }}</h1>\r\n        <p class="text-gray-500 text-sm mb-2 mt-auto">Prof. {{ $course->teacher->name }}</p>\r\n        <div class="flex">\r\n            <ul class="flex text-sm">\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 1 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 2 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 3 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating >= 4 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n                <li class="mr-1">\r\n                    <i class="fas fa-star text-{{ $course->rating == 5 ? \'yellow\' : \'gray\' }}-400"></i>\r\n                </li>\r\n            </ul>\r\n            <p class="text-sm text-gray-500 ml-auto">\r\n                <i class="fas fa-users"></i>\r\n                ({{ $course->students_count }})\r\n            </p>\r\n        </div>\r\n        @if ($course->price->value == 0)\r\n            <p class="my-2 text-green-700 font-bold">GRATIS</p>\r\n        @else\r\n            <p class="my-2 text-gray-500 font-bold">US$ {{ $course->price->value }}</p>\r\n        @endif\r\n        <a href="{{ route(\'courses.show\', $course) }}" class="btn btn-primary btn-block">\r\n            Mas informaci\xf3n\r\n        </a>\r\n    </div>\r\n</article>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"show.blade"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\courses\\show.blade.php"',children:'\x3c!-- ... --\x3e\r\n@can(\'enrolled\', $course)\r\n    <a class="btn btn-danger btn-block mt-4" href="{{ route(\'courses.status\', $course) }}">Continuar con curso</a>\r\n@else\r\n    @if ($course->price->value == 0)\r\n        <p class="text-2xl font-bold text-gray-500 mt-3 mb-2">GRATIS</p>\r\n        <form action="{{ route(\'courses.enrolled\', $course) }}" method="POST">\r\n            @csrf\r\n            <button class="btn btn-danger btn-block" type="submit">Llevar este curso</button>\r\n        </form>\r\n    @else\r\n        <p class="text-2xl font-bold text-gray-500 mt-3 mb-2">US$ {{ $course->price->value }}</p>\r\n        <a href="{{ route(\'payment.checkout\', $course) }}" class="btn btn-danger btn-block">Comprar este curso</a>\r\n    @endif\r\n@endcan\r\n\x3c!-- ... --\x3e\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear archivo de rutas ",(0,s.jsx)(r.strong,{children:"payment"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\payment.php"',children:"<?php\r\n\r\nuse App\\Http\\Controllers\\PaymentController;\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\nRoute::get('{course}/checkout',[PaymentController::class, 'checkout'])->name('checkout');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"boot"})," el provider ",(0,s.jsx)(r.strong,{children:"RouteServiceProvider"})," para que se reconozca ",(0,s.jsx)(r.strong,{children:"routes\\payment.php"})," como archivo de rutas:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Providers\\RouteServiceProvider.php"',children:"public function boot()\r\n{\r\n    $this->configureRateLimiting();\r\n\r\n    $this->routes(function () {\r\n        Route::prefix('api')\r\n            ->middleware('api')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/api.php'));\r\n\r\n        Route::middleware('web')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/web.php'));\r\n\r\n        Route::middleware('web', 'auth')\r\n            ->name('admin.')\r\n            ->prefix('admin')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/admin.php'));\r\n\r\n        Route::middleware('web', 'auth')\r\n            ->name('instructor.')\r\n            ->prefix('instructor')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/instructor.php'));\r\n\r\n        Route::middleware('web', 'auth')\r\n            ->name('payment.')\r\n            ->prefix('payment')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/payment.php'));\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador para administrar los pagos:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller PaymentController\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar el controlador ",(0,s.jsx)(r.strong,{children:"PaymentController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\PaymentController.php"',children:"<?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse App\\Models\\Course;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass PaymentController extends Controller\r\n{\r\n    public function checkout(Course $course){\r\n        return view('payment.checkout', compact('course'));\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"checkout"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\payment\\checkout.blade.php"',children:'<x-app-layout>\r\n    <div class="max-w-4xl mx-auto sm:px-6 lg:px-8 py-12">\r\n        <h1 class="text-gray-500 text-3xl font-bold">Detalle del pedido</h1>\r\n        <div class="card text-gray-600">\r\n            <div class="card-body">\r\n                <article class="flex items-center">\r\n                    <img class="h-12 w-12 object-cover" src="{{ Storage::url($course->image->url) }}" alt="">\r\n                    <h1 class="text-lg ml-2">{{ $course->title }}</h1>\r\n                    <p class="text-xl font-bold ml-auto">US$ {{ $course->price->value }}</p>\r\n                </article>\r\n                <div class="flex justify-end mt-2 mb-4">\r\n                    <a href="" class="btn btn-primary">Comprar este curso</a>\r\n                </div>\r\n                <hr>\r\n                <p class="text-sm mt-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis, blanditiis labore, quam ea maxime provident minima quaerat possimus tempora corrupti, consectetur error esse delectus autem ab corporis eveniet sint molestiae?\r\n                    <a class="text-red-500 font-bold" href="">Terminos y condiciones</a>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</x-app-layout>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"video-62-gestionar-pago",children:"Video 62. Gestionar pago"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Crear cuenta de PayPal para empresas."}),"\n",(0,s.jsxs)(r.li,{children:["Ir a ",(0,s.jsx)(r.a,{href:"https://developer.paypal.com/classic-home",children:"https://developer.paypal.com/classic-home"}),", iniciar sesi\xf3n e ir al Dashboard."]}),"\n",(0,s.jsxs)(r.li,{children:["Dar clic en ",(0,s.jsx)(r.strong,{children:"SANDBOX > Accounts"})," (",(0,s.jsx)(r.a,{href:"https://developer.paypal.com/developer/accounts/",children:"https://developer.paypal.com/developer/accounts/"}),") para generar las siguientes cuentas ficticias:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Account name\t                        Type\t    Country     Date created\r\nsb-6jp47b6555136@business.example.com   Business\tVE\t        19 Jun 2021     (Cuenta empresarial)\r\nsb-nqk47a6555696@personal.example.com   Personal\tVE\t        19 Jun 2021     (Cuenta personal)\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ir a ",(0,s.jsx)(r.a,{href:"https://sandbox.paypal.com",children:"https://sandbox.paypal.com"})," e ingresar con la cuenta personal ficticia.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Nota: para obtener password de la cuenta personal ir a ",(0,s.jsx)(r.strong,{children:"View/edit account"})," (En ",(0,s.jsx)(r.strong,{children:"Manage accounts"}),") y cambiar el password por 12345678."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En ",(0,s.jsx)(r.a,{href:"https://developer.paypal.com/developer/accounts/",children:"https://developer.paypal.com/developer/accounts/"})," ir a ",(0,s.jsx)(r.strong,{children:"DASHBOARD > My Apps & Credentials"})," y luego dar clic en ",(0,s.jsx)(r.strong,{children:"Create App"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Completar el formulario con la siguiente informaci\xf3n:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"App Name: CodersFree"}),"\n",(0,s.jsxs)(r.li,{children:["Sandbox Business Account: ",(0,s.jsx)(r.a,{href:"mailto:sb-6jp47b6555136@business.example.com",children:"sb-6jp47b6555136@business.example.com"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Dar clic en ",(0,s.jsx)(r.strong,{children:"Create App"})," para obtener las siguientes credenciales:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Sandbox account: ",(0,s.jsx)(r.a,{href:"mailto:sb-6jp47b6555136@business.example.com",children:"sb-6jp47b6555136@business.example.com"})]}),"\n",(0,s.jsx)(r.li,{children:"Client ID: ARXkrvWlwR0P3-Bu8UfKo2csv8Wa-7W6kNMP5TOWvX_W_baa5Bm18wuuUPEAsMf0e_PU5aMNACGgAQon"}),"\n",(0,s.jsx)(r.li,{children:"Secret: EPmmNZXEabxClPMHtIJaLAukamqgEHkLvmupjxfUxKSt_S_loD_mW12hu9QGcP3bpn6e-O0Tf0AVagaz"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar credenciales de ",(0,s.jsx)(r.strong,{children:"paypal"})," en el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"services"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="config\\services.php"',children:"<?php\r\n\r\nreturn [\r\n    // ...\r\n    'paypal' => [\r\n        'client_id' => env('PAYPAL_CLIENT_ID'),\r\n        'client_secret' => env('PAYPAL_CLIENT_SECRET'),\r\n    ],\r\n];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar credenciales de ",(0,s.jsx)(r.strong,{children:"paypal"})," en el archivo de variables de entorno ",(0,s.jsx)(r.strong,{children:".env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-env",children:"# ...\r\nPAYPAL_CLIENT_ID=ARXkrvWlwR0P3-Bu8UfKo2csv8Wa-7W6kNMP5TOWvX_W_baa5Bm18wuuUPEAsMf0e_PU5aMNACGgAQon\r\nPAYPAL_CLIENT_SECRET=EPmmNZXEabxClPMHtIJaLAukamqgEHkLvmupjxfUxKSt_S_loD_mW12hu9QGcP3bpn6e-O0Tf0AVagaz\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta de pago en ",(0,s.jsx)(r.strong,{children:"payment"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\payment.php"',children:"Route::get('{course}/pay',[PaymentController::class, 'pay'])->name('pay');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"pay"})," en el controlador ",(0,s.jsx)(r.strong,{children:"PaymentController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\PaymentController.php"',children:"public function pay(Course $course){\r\n    // After Step 1\r\n    $apiContext = new \\PayPal\\Rest\\ApiContext(\r\n        new \\PayPal\\Auth\\OAuthTokenCredential(\r\n            config('services.paypal.client_id'),     // ClientID\r\n            config('services.paypal.client_secret')      // ClientSecret\r\n        )\r\n    );\r\n\r\n    // After Step 2\r\n    $payer = new \\PayPal\\Api\\Payer();\r\n    $payer->setPaymentMethod('paypal');\r\n\r\n    $amount = new \\PayPal\\Api\\Amount();\r\n    $amount->setTotal($course->price->value);\r\n    $amount->setCurrency('USD');\r\n\r\n    $transaction = new \\PayPal\\Api\\Transaction();\r\n    $transaction->setAmount($amount);\r\n\r\n    $redirectUrls = new \\PayPal\\Api\\RedirectUrls();\r\n    $redirectUrls->setReturnUrl(route('payment.approved', $course))\r\n        ->setCancelUrl(route('payment.checkout', $course));\r\n\r\n    $payment = new \\PayPal\\Api\\Payment();\r\n    $payment->setIntent('sale')\r\n        ->setPayer($payer)\r\n        ->setTransactions(array($transaction))\r\n        ->setRedirectUrls($redirectUrls);\r\n\r\n    // After Step 3\r\n    try {\r\n        $payment->create($apiContext);\r\n        \r\n        return redirect()->away($payment->getApprovalLink());\r\n    }\r\n    catch (\\PayPal\\Exception\\PayPalConnectionException $ex) {\r\n        // This will print the detailed information on the exception.\r\n        //REALLY HELPFUL FOR DEBUGGING\r\n        echo $ex->getData();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar vista ",(0,s.jsx)(r.strong,{children:"checkout"})," para a\xf1adir ruta de pago:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="resources\\views\\payment\\checkout.blade.php"',children:'<x-app-layout>\r\n    <div class="max-w-4xl mx-auto sm:px-6 lg:px-8 py-12">\r\n        <h1 class="text-gray-500 text-3xl font-bold">Detalle del pedido</h1>\r\n        <div class="card text-gray-600">\r\n            <div class="card-body">\r\n                <article class="flex items-center">\r\n                    <img class="h-12 w-12 object-cover" src="{{ Storage::url($course->image->url) }}" alt="">\r\n                    <h1 class="text-lg ml-2">{{ $course->title }}</h1>\r\n                    <p class="text-xl font-bold ml-auto">US$ {{ $course->price->value }}</p>\r\n                </article>\r\n                <div class="flex justify-end mt-2 mb-4">\r\n                    <a href="{{ route(\'payment.pay\', $course) }}" class="btn btn-primary">Comprar este curso</a>\r\n                </div>\r\n                <hr>\r\n                <p class="text-sm mt-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis, blanditiis labore, quam ea maxime provident minima quaerat possimus tempora corrupti, consectetur error esse delectus autem ab corporis eveniet sint molestiae?\r\n                    <a class="text-red-500 font-bold" href="">Terminos y condiciones</a>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ir a ",(0,s.jsx)(r.a,{href:"https://github.com/paypal/PayPal-PHP-SDK",children:"https://github.com/paypal/PayPal-PHP-SDK"})," y:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Dar clic en la opci\xf3n ",(0,s.jsx)(r.strong,{children:"Wiki"})," (",(0,s.jsx)(r.a,{href:"https://github.com/paypal/PayPal-PHP-SDK/wiki",children:"https://github.com/paypal/PayPal-PHP-SDK/wiki"}),")."]}),"\n",(0,s.jsxs)(r.li,{children:["Dar clic en ",(0,s.jsx)(r.strong,{children:"Installation > Composer"})," (",(0,s.jsx)(r.a,{href:"https://github.com/paypal/PayPal-PHP-SDK/wiki/Installation-Composer",children:"https://github.com/paypal/PayPal-PHP-SDK/wiki/Installation-Composer"}),") para obtener la sentencia de instalaci\xf3n de ",(0,s.jsx)(r.strong,{children:"Package paypal"})," ($ composer require paypal/rest-api-sdk-php:*)."]}),"\n",(0,s.jsxs)(r.li,{children:["Dar clic en ",(0,s.jsx)(r.strong,{children:"Making Your First Call"})," (",(0,s.jsx)(r.a,{href:"https://github.com/paypal/PayPal-PHP-SDK/wiki/Making-First-Call",children:"https://github.com/paypal/PayPal-PHP-SDK/wiki/Making-First-Call"}),") para obtener el modelo de las credenciales a copiar en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"pay"})," del controlador ",(0,s.jsx)(r.strong,{children:"app\\Http\\Controllers\\PaymentController.php"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Instalar ",(0,s.jsx)(r.strong,{children:"Package paypal"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"composer require paypal/rest-api-sdk-php:*\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta de aprobaci\xf3n del pago en ",(0,s.jsx)(r.strong,{children:"payment"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="routes\\payment.php"',children:"Route::get('{course}/approved',[PaymentController::class, 'approved'])->name('approved');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"approved"})," en el controlador ",(0,s.jsx)(r.strong,{children:"PaymentController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",metastring:'title="app\\Http\\Controllers\\PaymentController.php"',children:"public function approved(Request $request, Course $course){\r\n    // After Step 1\r\n    $apiContext = new \\PayPal\\Rest\\ApiContext(\r\n        new \\PayPal\\Auth\\OAuthTokenCredential(\r\n            config('services.paypal.client_id'),     // ClientID\r\n            config('services.paypal.client_secret')      // ClientSecret\r\n        )\r\n    );\r\n\r\n    $paymentId = $_GET['paymentId'];\r\n    $payment = \\PayPal\\Api\\Payment::get($paymentId, $apiContext);\r\n\r\n    $execution = new \\PayPal\\Api\\PaymentExecution();\r\n    $execution->setPayerId($_GET['PayerID']);\r\n\r\n    $payment->execute($execution, $apiContext);\r\n\r\n    // Matricula al usuario en el curso\r\n    $course->students()->attach(auth()->user()->id);\r\n    return redirect()->route('courses.status', $course);\r\n}\n"})}),"\n","Ir a ",(0,s.jsx)(r.a,{href:"https://github.com/paypal/PayPal-PHP-SDK/blob/master/sample/payments/ExecutePayment.php",children:"https://github.com/paypal/PayPal-PHP-SDK/blob/master/sample/payments/ExecutePayment.php"})," para obtener c\xf3digo para procesar pago"]}),"\n",(0,s.jsxs)(r.li,{children:["Nota: Cuando se crea una aplicaci\xf3n en ",(0,s.jsx)(r.strong,{children:"paypal developer"})," se tiene que tener en cuenta:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Sendbox: para desarrollo."}),"\n",(0,s.jsx)(r.li,{children:"Live: para producci\xf3n."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-10-despedida-del-curso",children:"Secci\xf3n 10: Despedida del curso"}),"\n",(0,s.jsx)(r.h3,{id:"video-63-despedida-del-curso",children:"Video 63. Despedida del curso"})]})}function u(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>l});var s=n(6540);const i={},a=s.createContext(i);function t(e){const r=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(a.Provider,{value:r},e.children)}}}]);