"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[320],{667:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>t,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var s=n(4848),i=n(8453);const l={title:"Laravel API RESTful",sidebar_label:"Laravel API RESTful",sidebar_position:98},o="Aprende a crear una API RESTful con Laravel",a={id:"00laravel/cursos/apirestfull",title:"Laravel API RESTful",description:"+ URL Curso//www.udemy.com/course/aprende-a-crear-una-api-restful-con-laravel",source:"@site/docs/00laravel/cursos/apirestfull.md",sourceDirName:"00laravel/cursos",slug:"/00laravel/cursos/apirestfull",permalink:"/documentos2024/docs/00laravel/cursos/apirestfull",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/00laravel/cursos/apirestfull.md",tags:[],version:"current",sidebarPosition:98,frontMatter:{title:"Laravel API RESTful",sidebar_label:"Laravel API RESTful",sidebar_position:98},sidebar:"tutorialSidebar",previous:{title:"Cursos Laravel",permalink:"/documentos2024/docs/category/cursos-laravel"},next:{title:"Laravel 8 en AWS",permalink:"/documentos2024/docs/00laravel/cursos/laravel8_aws"}},t={},c=[{value:"Antes de iniciar:",id:"antes-de-iniciar",level:2},{value:"Secci\xf3n 01: Introducci\xf3n",id:"secci\xf3n-01-introducci\xf3n",level:2},{value:"Viedo 01. \xbfQu\xe9 es una API RESTful?",id:"viedo-01-qu\xe9-es-una-api-restful",level:3},{value:"Viedo 02. Programas necesarios",id:"viedo-02-programas-necesarios",level:3},{value:"Viedo 03. Repositorio del curso",id:"viedo-03-repositorio-del-curso",level:3},{value:"Secci\xf3n 02: Configuraci\xf3n",id:"secci\xf3n-02-configuraci\xf3n",level:2},{value:"Viedo 04. Creaci\xf3n del proyecto",id:"viedo-04-creaci\xf3n-del-proyecto",level:3},{value:"Viedo 05. Configurando archivo de rutas",id:"viedo-05-configurando-archivo-de-rutas",level:3},{value:"Viedo 06. Registro de usuarios",id:"viedo-06-registro-de-usuarios",level:3},{value:"Secci\xf3n 3: Estructura del proyecto",id:"secci\xf3n-3-estructura-del-proyecto",level:2},{value:"Viedo 07. Maquetar la bbdd",id:"viedo-07-maquetar-la-bbdd",level:3},{value:"Viedo 08. Crear el modelo f\xedsico",id:"viedo-08-crear-el-modelo-f\xedsico",level:3},{value:"Viedo 09. Generando relaciones",id:"viedo-09-generando-relaciones",level:3},{value:"Viedo 10. Introducir datos falsos",id:"viedo-10-introducir-datos-falsos",level:3},{value:"Viedo 11. Solucionando posible error con faker",id:"viedo-11-solucionando-posible-error-con-faker",level:3},{value:"Viedo 12. Generando endpoints para categorias",id:"viedo-12-generando-endpoints-para-categorias",level:3},{value:"Secci\xf3n 4: Query Scopes",id:"secci\xf3n-4-query-scopes",level:2},{value:"Viedo 13. Recibir peticiones y generar respuestas para el recurso Category",id:"viedo-13-recibir-peticiones-y-generar-respuestas-para-el-recurso-category",level:3},{value:"Viedo 14. Incluir relaciones de los recursos",id:"viedo-14-incluir-relaciones-de-los-recursos",level:3},{value:"Viedo 15. Filtrar recursos",id:"viedo-15-filtrar-recursos",level:3},{value:"Viedo 16. Ordenar recursos",id:"viedo-16-ordenar-recursos",level:3},{value:"Viedo 17. Paginar recursos",id:"viedo-17-paginar-recursos",level:3},{value:"Secci\xf3n 5: Transformar respuestas",id:"secci\xf3n-5-transformar-respuestas",level:2},{value:"Viedo 18. Crear clase de recurso",id:"viedo-18-crear-clase-de-recurso",level:3},{value:"Secci\xf3n 6: Recurso Posts",id:"secci\xf3n-6-recurso-posts",level:2},{value:"Viedo 19. Ampliar la funcionalidad con los query scopes con traits de PHP",id:"viedo-19-ampliar-la-funcionalidad-con-los-query-scopes-con-traits-de-php",level:3},{value:"Viedo 20. Recibir peticiones y generar respuestas para el recurso Post",id:"viedo-20-recibir-peticiones-y-generar-respuestas-para-el-recurso-post",level:3},{value:"Secci\xf3n 7: Laravel Passport",id:"secci\xf3n-7-laravel-passport",level:2},{value:"Viedo 21. Instalar Laravel Passport",id:"viedo-21-instalar-laravel-passport",level:3},{value:"Viedo 22. Instalar Laravel Passport II",id:"viedo-22-instalar-laravel-passport-ii",level:3},{value:"Secci\xf3n 8: Password grant client",id:"secci\xf3n-8-password-grant-client",level:2},{value:"Viedo 23. Solicitar un acces token desde postman",id:"viedo-23-solicitar-un-acces-token-desde-postman",level:3},{value:"Viedo 24. Instalar laravel breeze en el cliente",id:"viedo-24-instalar-laravel-breeze-en-el-cliente",level:3},{value:"Viedo 25. Crear endpoint para hacer login",id:"viedo-25-crear-endpoint-para-hacer-login",level:3},{value:"Viedo 26. Configurando el proyecto del cliente parahacer login",id:"viedo-26-configurando-el-proyecto-del-cliente-parahacer-login",level:3},{value:"Viedo 27. Iniciar sesi\xf3n desde el cliente",id:"viedo-27-iniciar-sesi\xf3n-desde-el-cliente",level:3},{value:"Viedo 28. Iniciar sesi\xf3n desde el cliente II",id:"viedo-28-iniciar-sesi\xf3n-desde-el-cliente-ii",level:3},{value:"Viedo 29. Registrar usuario desde el cliente",id:"viedo-29-registrar-usuario-desde-el-cliente",level:3},{value:"Viedo 30. Registrar usuario desde el cliente II",id:"viedo-30-registrar-usuario-desde-el-cliente-ii",level:3},{value:"Viedo 31. Proteger credenciales",id:"viedo-31-proteger-credenciales",level:3},{value:"Viedo 32. Trait para solicitar un acces token",id:"viedo-32-trait-para-solicitar-un-acces-token",level:3},{value:"Viedo 33. Mandar acces token en las peticiones",id:"viedo-33-mandar-acces-token-en-las-peticiones",level:3},{value:"Secci\xf3n 9: Gran type refresh token",id:"secci\xf3n-9-gran-type-refresh-token",level:2},{value:"Viedo 34. Solicitar nuevo token",id:"viedo-34-solicitar-nuevo-token",level:3},{value:"Viedo 35. Purgar tokens",id:"viedo-35-purgar-tokens",level:3},{value:"Secci\xf3n 10: Gran type authorization_code",id:"secci\xf3n-10-gran-type-authorization_code",level:2},{value:"Viedo 36. Instalar laravel breeze en nuestra api",id:"viedo-36-instalar-laravel-breeze-en-nuestra-api",level:3},{value:"Viedo 37. Crear formulario para crear nuevo cliente",id:"viedo-37-crear-formulario-para-crear-nuevo-cliente",level:3},{value:"Viedo 38. Volver formulario responsivo",id:"viedo-38-volver-formulario-responsivo",level:3},{value:"Viedo 39. Incluir vue y axios en nuestro proyecto",id:"viedo-39-incluir-vue-y-axios-en-nuestro-proyecto",level:3},{value:"Viedo 40. Registrar nuevos clientes",id:"viedo-40-registrar-nuevos-clientes",level:3},{value:"Viedo 41. Mostrar listado de clientes",id:"viedo-41-mostrar-listado-de-clientes",level:3},{value:"Viedo 42. Mostrar mensajes de error",id:"viedo-42-mostrar-mensajes-de-error",level:3},{value:"Viedo 43. Traducir Laravel",id:"viedo-43-traducir-laravel",level:3},{value:"Viedo 44. Eliminar cliente",id:"viedo-44-eliminar-cliente",level:3},{value:"Viedo 45. Editar cliente I",id:"viedo-45-editar-cliente-i",level:3},{value:"Viedo 46. Editar cliente II",id:"viedo-46-editar-cliente-ii",level:3},{value:"Viedo 47. Credenciales del cliente",id:"viedo-47-credenciales-del-cliente",level:3},{value:"Viedo 48. Crear nuevo proyecto para un cliente externo",id:"viedo-48-crear-nuevo-proyecto-para-un-cliente-externo",level:3},{value:"Viedo 49. Instalar laravel breeze en el cliente 2",id:"viedo-49-instalar-laravel-breeze-en-el-cliente-2",level:3},{value:"Viedo 50. Obtener c\xf3digo de autorizaci\xf3n",id:"viedo-50-obtener-c\xf3digo-de-autorizaci\xf3n",level:3},{value:"Viedo 51. Solicitar Acees Token",id:"viedo-51-solicitar-acees-token",level:3},{value:"Secci\xf3n 11: Personal Access Token",id:"secci\xf3n-11-personal-access-token",level:2},{value:"Viedo 52. Crear ruta",id:"viedo-52-crear-ruta",level:3},{value:"Viedo 53. Generar Access Token",id:"viedo-53-generar-access-token",level:3},{value:"Viedo 54. Mostrar Access Token",id:"viedo-54-mostrar-access-token",level:3},{value:"Viedo 55. Mostrar Acces token II",id:"viedo-55-mostrar-acces-token-ii",level:3},{value:"Secci\xf3n 12: Scopes",id:"secci\xf3n-12-scopes",level:2},{value:"Viedo 56. Proteger rutas por scopes",id:"viedo-56-proteger-rutas-por-scopes",level:3},{value:"Viedo 57. Asignar scopes a token I",id:"viedo-57-asignar-scopes-a-token-i",level:3},{value:"Viedo 58. Asignar scopes a token II",id:"viedo-58-asignar-scopes-a-token-ii",level:3},{value:"Secci\xf3n 13: Roles y permisos",id:"secci\xf3n-13-roles-y-permisos",level:2},{value:"Viedo 59. Instalar Laravel Permission",id:"viedo-59-instalar-laravel-permission",level:3},{value:"Viedo 60. Asignar roles y permisos",id:"viedo-60-asignar-roles-y-permisos",level:3},{value:"Viedo 61. Proteger rutas con roles y policies",id:"viedo-61-proteger-rutas-con-roles-y-policies",level:3},{value:"Viedo 62. Despedida del curso",id:"viedo-62-despedida-del-curso",level:3},{value:"Repositorios de interes:",id:"repositorios-de-interes",level:2},{value:"Para limpiar configuraci\xf3n y reestablecer el cache:",id:"para-limpiar-configuraci\xf3n-y-reestablecer-el-cache",level:2},{value:"En caso de no permitir compilar algo:",id:"en-caso-de-no-permitir-compilar-algo",level:2},{value:"Peticiones http que puede responder el proyecto api.restful:",id:"peticiones-http-que-puede-responder-el-proyecto-apirestful",level:2},{value:"Usuarios:",id:"usuarios",level:3},{value:"Registrar un usuario:",id:"registrar-un-usuario",level:4},{value:"Login a un usuario:",id:"login-a-un-usuario",level:4},{value:"Permisos de accesos:",id:"permisos-de-accesos",level:3},{value:"Obtener token para un usuario:",id:"obtener-token-para-un-usuario",level:4},{value:"Obtener autorizaci\xf3n por cliente tipo password:",id:"obtener-autorizaci\xf3n-por-cliente-tipo-password",level:4},{value:"Categor\xedas:",id:"categor\xedas",level:3},{value:"Obtener las categor\xedas:",id:"obtener-las-categor\xedas",level:4},{value:"Crear una categor\xeda:",id:"crear-una-categor\xeda",level:4},{value:"Obtener una categor\xeda:",id:"obtener-una-categor\xeda",level:4},{value:"Actualizar una categor\xeda:",id:"actualizar-una-categor\xeda",level:4},{value:"Eliminar una categor\xeda:",id:"eliminar-una-categor\xeda",level:4},{value:"Obtener las categor\xedas y su relaci\xf3n con los posts:",id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts",level:4},{value:"Obtener las categor\xedas y su relaci\xf3n con los posts y el autor del post:",id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",level:4},{value:"Obtener una categor\xeda y su relaci\xf3n con los posts:",id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts",level:4},{value:"Obtener una categor\xeda y su relaci\xf3n con los posts y el autor del post:",id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",level:4},{value:"Obtener las categor\xedas filtradas:",id:"obtener-las-categor\xedas-filtradas",level:4},{value:"Obtener las categor\xedas ordenadas:",id:"obtener-las-categor\xedas-ordenadas",level:4},{value:"Obtener las categor\xedas paginadas:",id:"obtener-las-categor\xedas-paginadas",level:4},{value:"Posts",id:"posts",level:3},{value:"Obtener los posts:",id:"obtener-los-posts",level:4},{value:"Registrar un post:",id:"registrar-un-post",level:4}];function d(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"aprende-a-crear-una-api-restful-con-laravel",children:"Aprende a crear una API RESTful con Laravel"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Curso"}),": ",(0,s.jsx)(r.a,{href:"https://www.udemy.com/course/aprende-a-crear-una-api-restful-con-laravel",children:"https://www.udemy.com/course/aprende-a-crear-una-api-restful-con-laravel"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Repositorio API"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/coders-free/api.codersfree",children:"https://github.com/coders-free/api.codersfree"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Repositorio Cliente"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/coders-free/cliente1",children:"https://github.com/coders-free/cliente1"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Repositorio General"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/petrix12/apirestful_laravel8",children:"https://github.com/petrix12/apirestful_laravel8"})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"antes-de-iniciar",children:"Antes de iniciar:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear proyecto en la p\xe1gina de ",(0,s.jsx)(r.a,{href:"https://github.com",children:"GitHub"})," con el nombre: ",(0,s.jsx)(r.strong,{children:"apirestful_laravel8"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Description"}),": Proyecto para seguir el curso de Aprende a crear una API RESTful con Laravel, de V\xedctor Arana en Udemy"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Public"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["En la ubicaci\xf3n ra\xedz del proyecto en la terminal de la m\xe1quina local:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git init"}),"\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 00: Antes de iniciar"'}),"\n",(0,s.jsx)(r.li,{children:"$ git branch -M main"}),"\n",(0,s.jsxs)(r.li,{children:["$ git remote add origin ",(0,s.jsx)(r.a,{href:"https://github.com/petrix12/apirestful_laravel8.git",children:"https://github.com/petrix12/apirestful_laravel8.git"})]}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-01-introducci\xf3n",children:"Secci\xf3n 01: Introducci\xf3n"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-01-qu\xe9-es-una-api-restful",children:"Viedo 01. \xbfQu\xe9 es una API RESTful?"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Contenido"}),": explicaci\xf3n de una API RESTful."]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Commit Video 01:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 01: \xbfQu\xe9 es una API RESTful?"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-02-programas-necesarios",children:"Viedo 02. Programas necesarios"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Programas requeridos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.apachefriends.org/es/download.html",children:"XAMPP"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://nodejs.org",children:"Node Js"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://getcomposer.org",children:"Composer"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://code.visualstudio.com/download",children:"Visual Studio Code"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://git-scm.com/downloads",children:"Git"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://dev.mysql.com/downloads/workbench",children:"MySQL Workbench"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Otra opci\xf3n podr\xeda ser Laragon ya que instala todos los programas mencionados anteriormente:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"https://laragon.org/download/index.html",children:"Laragon"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Laragon Full (64-bit): Apache 2.4, Nginx, MySQL 5.7, PHP 7.4, Redis, Memcached, Node.js 14, npm, git, bitmana\u2026"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Instalar el instalador de Laravel:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ composer global require laravel/installer"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 02:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 02: Programas necesarios"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-03-repositorio-del-curso",children:"Viedo 03. Repositorio del curso"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Repositorio"}),": api.codersfree: ",(0,s.jsx)(r.a,{href:"https://github.com/coders-free/api.codersfree",children:"https://github.com/coders-free/api.codersfree"})]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Commit Nota 03:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 03: Repositorio del curso"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-02-configuraci\xf3n",children:"Secci\xf3n 02: Configuraci\xf3n"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-04-creaci\xf3n-del-proyecto",children:"Viedo 04. Creaci\xf3n del proyecto"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL"}),": ",(0,s.jsx)(r.a,{href:"https://codersfree.com/blog/como-generar-un-dominio-local-en-windows-xampp",children:"https://codersfree.com/blog/como-generar-un-dominio-local-en-windows-xampp"})]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear proyecto para la API RESTful:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ laravel new api.codersfree"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el archivo: ",(0,s.jsx)(r.strong,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"})," como administrador y en la parte final del archivo escribir.","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"127.0.0.1     api.codersfree.test\n"})}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Guardar y cerrar."}),"\n",(0,s.jsxs)(r.li,{children:["Abri el archivo de texto plano de configuraci\xf3n de Apache ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Ir al final del archivo y anexar lo siguiente:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Si nunca has creado un virtual host agregar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conf",children:'<VirtualHost *>\r\n\tDocumentRoot "C:\\xampp\\htdocs"\r\n\tServerName localhost\r\n</VirtualHost>\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota"}),": Esta estructura se agrega una \xfanica vez."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Luego agregar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conf",children:'<VirtualHost *>\r\n\tDocumentRoot "C:\\xampp\\htdocs\\cursos\\24apirestful\\api.codersfree\\public"\r\n\tServerName api.codersfree.test\r\n\t<Directory "C:\\xampp\\htdocs\\cursos\\24apirestful\\api.codersfree\\public">\r\n\t\tOptions All\r\n\t\tAllowOverride All\r\n\t\tRequire all granted\r\n\t</Directory>\r\n</VirtualHost>\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Guardar y cerrar."}),"\n",(0,s.jsxs)(r.li,{children:["Reiniciar el servidor Apache.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota 1"}),": ahora podemos ejecutar nuestro proyecto local en el navegador introduciendo la siguiente direcci\xf3n: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test",children:"http://api.codersfree.test"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota 2"}),": En caso de que no funcione el enlace, cambiar en el archivo ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf"})," todos los segmentos de c\xf3digo:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conft",children:"<VirtualHost \\*>\n"})}),"\n","por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conf",children:"<VirtualHost *:80>\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 04:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 04: Creaci\xf3n del proyecto"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-05-configurando-archivo-de-rutas",children:"Viedo 05. Configurando archivo de rutas"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"boot"})," del provider ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Providers\\RouteServiceProvider.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function boot()\r\n{\r\n    $this->configureRateLimiting();\r\n\r\n    $this->routes(function () {\r\n        Route::prefix('v1')\r\n            ->middleware('api')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/api-v1.php'));\r\n\r\n        Route::middleware('web')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/web.php'));\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Renombrar el archivo de rutas ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api.php"})," a ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api-v1.php"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 05:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 05: Configurando archivo de rutas"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-06-registro-de-usuarios",children:"Viedo 06. Registro de usuarios"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar la ruta ",(0,s.jsxs)(r.strong,{children:["auth",":sanctum"]})," del archivo de rutas ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api-v1.php"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el controlador para registrar a los usuarios ",(0,s.jsx)(r.strong,{children:"RegisterController"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":controller"," Api/RegisterController"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta para el registro en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api-v1.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::post('register', [RegisterController::class, 'store'])->name('api.v1.register');\n"})}),"\n","Importar la definici\xf3n del controlador ",(0,s.jsx)(r.strong,{children:"RegisterController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\Api\\RegisterController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," en el controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\RegisterController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request){\r\n    $request->validate([\r\n        'name' => 'required|string|max:255',\r\n        'email' => 'required|string|email|max:255|unique:users',\r\n        'password' => 'required|string|min:8|confirmed'\r\n    ]);\r\n    $user = User::create($request->all());\r\n    return response($user, 200);\r\n}\n"})}),"\n","Importar la definici\xf3n del controlador ",(0,s.jsx)(r.strong,{children:"User"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\User;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear la base de datos ",(0,s.jsx)(r.strong,{children:"api.codersfree"})," en nuestro adiministrador de bases de datos."]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar las migraciones:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ php artisan migrate"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/register",children:"http://api.codersfree.test/v1/register"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Field name: name                      | Value: Pedro Baz\xf3"}),"\n",(0,s.jsxs)(r.li,{children:["Field name: email                     | Value: ",(0,s.jsx)(r.a,{href:"mailto:bazo.pedro@gmail.com",children:"bazo.pedro@gmail.com"})]}),"\n",(0,s.jsx)(r.li,{children:"Field name: password                  | Value: 12345678"}),"\n",(0,s.jsx)(r.li,{children:"Field name: password_confirmation     | Value: 12345678"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe enviar el registro a la tabla ",(0,s.jsx)(r.strong,{children:"users"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 06:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 06: Registro de usuarios"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-3-estructura-del-proyecto",children:"Secci\xf3n 3: Estructura del proyecto"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-07-maquetar-la-bbdd",children:"Viedo 07. Maquetar la bbdd"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear un nuevo modelo y un nuevo diagrama para el proyecto ",(0,s.jsx)(r.strong,{children:"api.restful"})," en MySQL Workbench."]}),"\n",(0,s.jsxs)(r.li,{children:["Guardar el archivo como ",(0,s.jsx)(r.strong,{children:"api.codersfree\\api.restful.mwb"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear la entidad ",(0,s.jsx)(r.strong,{children:"categories"})," con los campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id"}),"\n",(0,s.jsx)(r.li,{children:"name"}),"\n",(0,s.jsx)(r.li,{children:"slug"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear la entidad ",(0,s.jsx)(r.strong,{children:"posts"})," con los campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id"}),"\n",(0,s.jsx)(r.li,{children:"name"}),"\n",(0,s.jsx)(r.li,{children:"slug"}),"\n",(0,s.jsx)(r.li,{children:"extract"}),"\n",(0,s.jsx)(r.li,{children:"body"}),"\n",(0,s.jsx)(r.li,{children:"status"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear la entidad ",(0,s.jsx)(r.strong,{children:"users"})," con los campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id"}),"\n",(0,s.jsx)(r.li,{children:"name"}),"\n",(0,s.jsx)(r.li,{children:"email"}),"\n",(0,s.jsx)(r.li,{children:"password"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear la entidad ",(0,s.jsx)(r.strong,{children:"tags"})," con los campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id"}),"\n",(0,s.jsx)(r.li,{children:"name"}),"\n",(0,s.jsx)(r.li,{children:"slug"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar relaci\xf3n 1",":n"," entre ",(0,s.jsx)(r.strong,{children:"categories"})," y ",(0,s.jsx)(r.strong,{children:"posts"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Generar relaci\xf3n 1",":n"," entre ",(0,s.jsx)(r.strong,{children:"users"})," y ",(0,s.jsx)(r.strong,{children:"posts"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"post_tag"})," para generar una relaci\xf3n de n",":m"," entre ",(0,s.jsx)(r.strong,{children:"posts"})," y ",(0,s.jsx)(r.strong,{children:"tags"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Generar relaci\xf3n 1",":n"," entre ",(0,s.jsx)(r.strong,{children:"posts"})," y ",(0,s.jsx)(r.strong,{children:"post_tag"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Generar relaci\xf3n 1",":m"," entre ",(0,s.jsx)(r.strong,{children:"tags"})," y ",(0,s.jsx)(r.strong,{children:"post_tag"}),"."]}),"\n",(0,s.jsx)(r.li,{children:"Renombrar todas las llaves for\xe1neas para seguir las convenciones de Laravel."}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 07:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 07: Registro de usuarios"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-08-crear-el-modelo-f\xedsico",children:"Viedo 08. Crear el modelo f\xedsico"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear tabla ",(0,s.jsx)(r.strong,{children:"image"})," en el diagrama ",(0,s.jsx)(r.strong,{children:"api.codersfree\\api.restful.mwb"})," con los campos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"id"}),"\n",(0,s.jsx)(r.li,{children:"url"}),"\n",(0,s.jsx)(r.li,{children:"imageable_id"}),"\n",(0,s.jsx)(r.li,{children:"imageable_type"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el modelo ",(0,s.jsx)(r.strong,{children:"Category"})," con sus migraciones:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":model"," Category -m"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"up"})," de la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\migrations\\2021_09_18_202750_create_categories_table.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function up()\r\n{\r\n    Schema::create('categories', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->string('slug')->unique();\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el modelo ",(0,s.jsx)(r.strong,{children:"Post"})," con sus migraciones:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":model"," Post -m"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"up"})," de la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\migrations\\2021_09_18_221132_create_posts_table.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function up()\r\n{\r\n    Schema::create('posts', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->string('slug')->unique();\r\n        $table->text('extract');\r\n        $table->longText('body');\r\n        $table->enum('status', [Post::BORRADOR, Post::PUBLICADO])->default(Post::BORRADOR);\r\n        /* $table->unsignedBigInteger('category_id'); */\r\n        /* $table->foreign('category_id')->references('id')->on('categories')->onDelete('cascade'); */\r\n        // Esta instrucci\xf3n equivale a las dos comentadas anteriormente\r\n        // Ya que estamos siguiendo las convenciones de Laravel\r\n        $table->foreignId('category_id')->constrained()->onDelete('cascade');\r\n        $table->foreignId('user_id')->constrained()->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n","Importar la definici\xf3n del modelo ",(0,s.jsx)(r.strong,{children:"Post"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\Post;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir las constantes BORRADOR y PUBLICADO en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Post.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass Post extends Model\r\n{\r\n    \u2261\r\n    const BORRADOR = 1;\r\n    const PUBLICADO = 2;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el modelo ",(0,s.jsx)(r.strong,{children:"Tag"})," con sus migraciones:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":model"," Tag -m"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"up"})," de la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\migrations\\2021_09_18_221132_create_posts_table.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function up()\r\n{\r\n    Schema::create('tags', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->string('slug')->unique();\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear la migraci\xf3n para la tabla pivote (intermedia) ",(0,s.jsx)(r.strong,{children:"post_tag"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":migration"," create_post_tag_table"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"up"})," de la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\migrations\\2021_09_18_223511_create_post_tag_table.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function up()\r\n{\r\n    Schema::create('post_tag', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->foreignId('post_id')->constrained()->onDelete('cascade');\r\n        $table->foreignId('tag_id')->constrained()->onDelete('cascade');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el modelo ",(0,s.jsx)(r.strong,{children:"Image"})," con sus migraciones:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":model"," Image -m"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"up"})," de la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\migrations\\2021_09_18_223833_create_images_table.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function up()\r\n{\r\n    Schema::create('images', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('url');\r\n        /* $table->unsignedBigInteger('imageable_id'); */\r\n        /* $table->string('imageable_type'); */\r\n        // Esta instrucci\xf3n equivale a las dos comentadas anteriormente\r\n        // Ya que estamos siguiendo las convenciones de Laravel           \r\n        $table->morphs('imageable');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reestablecer la base de datos ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan migrate",":fresh"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 08:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 08: Crear el modelo f\xedscio"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-09-generando-relaciones",children:"Viedo 09. Generando relaciones"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar relaciones en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\User.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass User extends Authenticatable\r\n{\r\n    \u2261\r\n    // Relaci\xf3n 1:n entre **users** y **posts**\r\n    public function posts(){\r\n        return $this->hasMany(Post::class);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar relaciones en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Category.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass Category extends Model\r\n{\r\n    \u2261\r\n    // Relaci\xf3n 1:n entre **categories** y **posts**\r\n    public function posts(){\r\n        return $this->hasMany(Post::class);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar relaciones en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Post.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass Post extends Model\r\n{\r\n    \u2261\r\n    // Relaci\xf3n 1:n entre **users** y **posts** (inversa)\r\n    public function user(){\r\n        return $this->belongsTo(User::class);\r\n    }\r\n\r\n    // Relaci\xf3n 1:n entre **categories** y **posts** (inversa)\r\n    public function category(){\r\n        return $this->belongsTo(Category::class);\r\n    }\r\n\r\n    // Relaci\xf3n n:m entre **posts** y **tags**\r\n    public function tags(){\r\n        return $this->belongsToMany(Tag::class);\r\n    }\r\n\r\n    // Relaci\xf3n 1:n polimorfica 1:n entre **posts** y **images**\r\n    public function images(){\r\n        return $this->morphMany(Image::class, 'imageable');\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar relaciones en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Tag.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass Tag extends Model\r\n{\r\n    \u2261\r\n    // Relaci\xf3n n:m entre **tags** y **posts**\r\n    public function posts(){\r\n        return $this->belongsToMany(Post::class);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar relaciones en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Image.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass Image extends Model\r\n{\r\n    \u2261\r\n    // Relaci\xf3n polim\xf3rfica entre **images** y otros modelos\r\n    // El nombre de la funci\xf3n debe coincidir con el de su migraci\xf3n\r\n    public function imageable(){\r\n        return $this->morphTo();\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 09:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Commit 09: Generando relaciones"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-10-introducir-datos-falsos",children:"Viedo 10. Introducir datos falsos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear factory para los modelos ",(0,s.jsx)(r.strong,{children:"Category"}),", ",(0,s.jsx)(r.strong,{children:"Post"}),", ",(0,s.jsx)(r.strong,{children:"Tag"})," e ",(0,s.jsx)(r.strong,{children:"Image"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":factory"," CategoryFactory"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":factory"," PostFactory"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":factory"," TagFactory"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":factory"," ImageFactory"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," del factory ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\factories\\CategoryFactory.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function definition()\r\n{\r\n    $name = $this->faker->unique()->word(20);\r\n    return [\r\n        'name' => $name,\r\n        'slug' => Str::slug($name)\r\n    ];\r\n}\n"})}),"\n","Importar la definici\xf3n de ",(0,s.jsx)(r.strong,{children:"Str"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Str;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," del factory ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\factories\\PostFactory.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function definition()\r\n{\r\n    $name = $this->faker->unique()->word(20);\r\n    return [\r\n        'name' => $name,\r\n        'slug' => Str::slug($name),\r\n        'extract' => $this->faker->text(250),\r\n        'body' => $this->faker->text(2000),\r\n        'status' => $this->faker->randomElement([Post::BORRADOR, Post::PUBLICADO]),\r\n        'category_id' => Category::all()->random()->id,\r\n        'user_id' => User::all()->random()->id\r\n    ];\r\n}\n"})}),"\n","Importar las definiciones de ",(0,s.jsx)(r.strong,{children:"Str"})," y de los modelos ",(0,s.jsx)(r.strong,{children:"Category"})," y ",(0,s.jsx)(r.strong,{children:"User"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\Category;\r\nuse App\\Models\\User;\r\nuse Illuminate\\Support\\Str;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," del factory ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\factories\\TagFactory.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function definition()\r\n{\r\n    $name = $this->faker->unique()->word(20);\r\n    return [\r\n        'name' => $name,\r\n        'slug' => Str::slug($name)\r\n    ];\r\n}\n"})}),"\n","Importar la definici\xf3n de ",(0,s.jsx)(r.strong,{children:"Str"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Str;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"definition"})," del factory ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\factories\\ImageFactory.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function definition()\r\n{\r\n    return [\r\n        'url' => 'posts/' . $this->faker->image('public/storage/posts', 640, 480, null, false)\r\n    ];\r\n}\n"})}),"\n","Importar la definici\xf3n de ",(0,s.jsx)(r.strong,{children:"Str"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Str;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el valor de la siguiente variable de entorno del archivo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"FILESYSTEM_DRIVER=public\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar acceso directo a ",(0,s.jsx)(r.strong,{children:"api.codersfree\\storage\\app\\public"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan storage",":link"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear los seeders ",(0,s.jsx)(r.strong,{children:"UserSeeder"})," y ",(0,s.jsx)(r.strong,{children:"PostSeeder"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":seeder"," UserSeeder"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":seeder"," PostSeeder"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\seeders\\UserSeeder.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function run()\r\n{\r\n    $user = User::create([\r\n        'name' => 'Pedro Baz\xf3',\r\n        'email' => 'bazo.pedro@gmail.com',\r\n        'password' => bcrypt('12345678')\r\n    ]);\r\n    User::factory(99)->create();\r\n}\n"})}),"\n","Importar la definici\xf3n del modelo ",(0,s.jsx)(r.strong,{children:"User"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\User;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\seeders\\PostSeeder.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function run()\r\n{\r\n    Post::factory(100)->create()->each(function(Post $post){\r\n        Image::factory(4)->create([\r\n            'imageable_id' => $post->id,\r\n            'imageable_type' => Post::class\r\n        ]);\r\n\r\n        $post->tags()->attach([\r\n            rand(1, 4),\r\n            rand(5, 8)\r\n        ]);\r\n    });\r\n}\n"})}),"\n","Importar la definici\xf3n de los modelos ",(0,s.jsx)(r.strong,{children:"Image"})," y ",(0,s.jsx)(r.strong,{children:"Post"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\Image;\r\nuse App\\Models\\Post;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\seeders\\DatabaseSeeder.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function run()\r\n{\r\n    Storage::deleteDirectory('posts');\r\n    Storage::makeDirectory('posts');\r\n\r\n    $this->call(UserSeeder::class);\r\n\r\n    Category::factory(4)->create();\r\n    Tag::factory(8)->create();\r\n\r\n    $this->call(PostSeeder::class);\r\n}\n"})}),"\n","Importar la definici\xf3n de los modelos ",(0,s.jsx)(r.strong,{children:"Category"})," y ",(0,s.jsx)(r.strong,{children:"Tag"})," y el facade ",(0,s.jsx)(r.strong,{children:"Storage"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\Category;\r\nuse App\\Models\\Tag;\r\nuse Illuminate\\Support\\Facades\\Storage;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reestablecer la base de datos ",(0,s.jsx)(r.strong,{children:"api.codersfree"})," y ejecutar los seeders:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan migrate",":fresh"," --seed"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 10:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 10: Introducir datos falsos"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-11-solucionando-posible-error-con-faker",children:"Viedo 11. Solucionando posible error con faker"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"image"})," del provider ",(0,s.jsx)(r.strong,{children:"api.codersfree\\vendor\\fakerphp\\faker\\src\\Faker\\Provider\\Image.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public static function image(\r\n    \u2261\r\n) {\r\n    \u2261\r\n    if (function_exists('curl_exec')) {\r\n        \u2261\r\n        curl_setopt($ch, CURLOPT_FILE, $fp);\r\n        curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);    // Nueva l\xednea\r\n        curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);    // Nueva l\xednea\r\n        \u2261\r\n    } elseif (ini_get('allow_url_fopen')) {\r\n        \u2261\r\n    } else {\r\n        \u2261\r\n    }\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 11:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 11: Solucionando posible error con faker"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-12-generando-endpoints-para-categorias",children:"Viedo 12. Generando endpoints para categorias"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear controlador ",(0,s.jsx)(r.strong,{children:"CategoryController"})," con todos los m\xe9todos necesarios para administrarlo:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":controller"," Api\\CategoryController --api --model=Category"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo de rutas ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api-v1.php"})," para administrar las rutas del modelo ",(0,s.jsx)(r.strong,{children:"Category"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"/* Route::get('categories', [CategoryController::class, 'index'])->name('api.v1.categories.index'); */\r\n/* Route::post('categories', [CategoryController::class, 'store'])->name('api.v1.categories.store'); */\r\n/* Route::get('categories/{category}', [CategoryController::class, 'show'])->name('api.v1.categories.show'); */\r\n/* Route::put('categories/{category}', [CategoryController::class, 'update'])->name('api.v1.categories.update'); */\r\n/* Route::delete('categories/{category}', [CategoryController::class, 'delete'])->name('api.v1.categories.delete'); */\r\n// Esta isntrucci\xf3n equivale a las 5 comentadas anteriormente\r\nRoute::apiResource('categories', CategoryController::class)->names('api.v1.categories');\n"})}),"\n","Importar la definici\xf3n del controlador CategoryController:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\Api\\CategoryController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 12:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 12: Generando endpoints para categorias"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-4-query-scopes",children:"Secci\xf3n 4: Query Scopes"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-13-recibir-peticiones-y-generar-respuestas-para-el-recurso-category",children:"Viedo 13. Recibir peticiones y generar respuestas para el recurso Category"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index()\r\n{\r\n    $categories = Category::all();\r\n    return $categories;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request)\r\n{\r\n    $request->validate([\r\n        'name' => 'required|max:255',\r\n        'slug' => 'required|max:255|unique:categories',\r\n    ]);\r\n    $category = Category::create($request->all());\r\n    return $category;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Habilitar la asignaci\xf3n masiva en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Category.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass Category extends Model\r\n{\r\n    use HasFactory;\r\n\r\n    protected $fillable = ['name', 'slug'];\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories",children:"http://api.codersfree.test/v1/categories"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar todos los registros a la tabla ",(0,s.jsx)(r.strong,{children:"categories"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories",children:"http://api.codersfree.test/v1/categories"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Field name: name  | Value: Categor\xeda de prueba"}),"\n",(0,s.jsx)(r.li,{children:"Field name: slug  | Value: categoria-de-prueba"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe enviar el registro a la tabla ",(0,s.jsx)(r.strong,{children:"categories"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"show"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function show(Category $category)\r\n{\r\n    return $category;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/5",children:"http://api.codersfree.test/v1/categories/5"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar el registro con ",(0,s.jsx)(r.strong,{children:"id"})," = 5 de la tabla ",(0,s.jsx)(r.strong,{children:"categories"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"update"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function update(Request $request, Category $category)\r\n{\r\n    $request->validate([\r\n        'name' => 'required|max:255',\r\n        'slug' => 'required|max:255|unique:categories,slug,' . $category->id\r\n    ]);\r\n    $category->update($request->all());\r\n    return $category;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: PUT"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/5",children:"http://api.codersfree.test/v1/categories/5"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form-encode:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Field name: name  | Value: Categor\xeda de prueba actualizada"}),"\n",(0,s.jsx)(r.li,{children:"Field name: slug  | Value: categoria-de-prueba-actualizada"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe actualizar el registro de la tabla ",(0,s.jsx)(r.strong,{children:"categories"})," con ",(0,s.jsx)(r.strong,{children:"id"})," = 5."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"destroy"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function destroy(Category $category)\r\n{\r\n    $category->delete();\r\n    return $category;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: DELETE"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/5",children:"http://api.codersfree.test/v1/categories/5"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe eliminar el registro de la tabla ",(0,s.jsx)(r.strong,{children:"categories"})," con ",(0,s.jsx)(r.strong,{children:"id"})," = 5."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 13:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 13: Recibir peticiones y generar respuestas para el recurso Category"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-14-incluir-relaciones-de-los-recursos",children:"Viedo 14. Incluir relaciones de los recursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"show"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function show($id)\r\n{\r\n    $category = Category::included()->findOrFail($id);\r\n\r\n    // return CategoryResource::make($category);\r\n    return $category;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo Query Scope ",(0,s.jsx)(r.strong,{children:"scopeIncluded"})," en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Category.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function scopeIncluded(Builder $query){\r\n    if (empty($this->allowIncluded) || empty(request('included'))) {\r\n        return;\r\n    }\r\n\r\n    $relations = explode(',', request('included')); //['posts','relacion2']\r\n    $allowIncluded = collect($this->allowIncluded);\r\n\r\n    foreach ($relations as $key => $relationship) {\r\n        if (!$allowIncluded->contains($relationship)) {\r\n            unset($relations[$key]);\r\n        }\r\n    }\r\n    $query->with($relations);\r\n}\n"})}),"\n","Definir variable ",(0,s.jsx)(r.strong,{children:"allowIncluded"})," en la clase ",(0,s.jsx)(r.strong,{children:"Category"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"protected $allowIncluded = ['posts', 'posts.user'];\n"})}),"\n","Importar la definici\xf3n de la clase ",(0,s.jsx)(r.strong,{children:"Builder"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Database\\Eloquent\\Builder;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/1?included=posts",children:"http://api.codersfree.test/v1/categories/1?included=posts"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar el registro con ",(0,s.jsx)(r.strong,{children:"id"})," = 1 de la tabla ",(0,s.jsx)(r.strong,{children:"categories"})," y su relaci\xf3n con los registros de la tabla ",(0,s.jsx)(r.strong,{children:"posts"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/1?included=posts.user",children:"http://api.codersfree.test/v1/categories/1?included=posts.user"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar el registro con ",(0,s.jsx)(r.strong,{children:"id"})," = 1 de la tabla ",(0,s.jsx)(r.strong,{children:"categories"})," y su relaci\xf3n con los registros de la tabla ",(0,s.jsx)(r.strong,{children:"posts"})," y el usuario de la tabla ",(0,s.jsx)(r.strong,{children:"users"})," relacionado con el post."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 14:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 14: Incluir relaciones de los recursos"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-15-filtrar-recursos",children:"Viedo 15. Filtrar recursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index()\r\n{\r\n    $categories = Category::included()\r\n                    ->filter()\r\n                    ->get();\r\n    return $categories;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo Query Scope ",(0,s.jsx)(r.strong,{children:"scopeFilter"})," en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Category.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function scopeFilter(Builder $query){\r\n    if (empty($this->allowFilter) || empty(request('filter'))) {\r\n        return;\r\n    }\r\n\r\n    $filters = request('filter');\r\n    $allowFilter = collect($this->allowFilter);\r\n\r\n    foreach ($filters as $filter => $value) {\r\n        if ($allowFilter->contains($filter)) {\r\n            $query->where($filter, 'LIKE' , '%' . $value . '%');\r\n        }\r\n    }\r\n}\n"})}),"\n","Definir variable ",(0,s.jsx)(r.strong,{children:"allowFilter"})," en la clase ",(0,s.jsx)(r.strong,{children:"Category"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"protected $allowFilter = ['id', 'name', 'slug'];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?filter%5Bname%5D=ne&filter%5Bslug%5D=e",children:"http://api.codersfree.test/v1/categories?filter[name]=ne&filter[slug]=e"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar los registro de la tabla ",(0,s.jsx)(r.strong,{children:"categories"})," que contengan en el campo ",(0,s.jsx)(r.strong,{children:"name"})," el texto 'ne' y en el campo ",(0,s.jsx)(r.strong,{children:"slug"})," la letra 'n'."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 15:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 15: Filtrar recursos"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-16-ordenar-recursos",children:"Viedo 16. Ordenar recursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index()\r\n{\r\n    $categories = Category::included()\r\n                    ->filter()\r\n                    ->sort()\r\n                    ->get();\r\n    return $categories;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo Query Scope ",(0,s.jsx)(r.strong,{children:"scopeSort"})," en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Category.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function scopeSort(Builder $query){\r\n    if (empty($this->allowSort) || empty(request('sort'))) {\r\n        return;\r\n    }\r\n\r\n    $sortFields = explode(',', request('sort'));\r\n    $allowSort = collect($this->allowSort);\r\n\r\n    foreach ($sortFields as $sortField) {\r\n        \r\n        $direction = 'asc';\r\n\r\n        if (substr($sortField, 0, 1) == '-') {\r\n            $direction = 'desc';\r\n            $sortField = substr($sortField, 1);\r\n        }\r\n\r\n        if ($allowSort->contains($sortField)) {\r\n            $query->orderBy($sortField, $direction);\r\n        }\r\n    }\r\n}\n"})}),"\n","Definir variable ",(0,s.jsx)(r.strong,{children:"allowSort"})," en la clase ",(0,s.jsx)(r.strong,{children:"Category"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"protected $allowSort = ['id', 'name', 'slug'];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?sort=-name,id",children:"http://api.codersfree.test/v1/categories?sort=-name,id"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe ordenar los registro de la tabla ",(0,s.jsx)(r.strong,{children:"categories"})," por el campo ",(0,s.jsx)(r.strong,{children:"name"})," en forma descendente y luego por el campo ",(0,s.jsx)(r.strong,{children:"id"})," en forma ascendente."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 16:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 16: Ordenar recursos"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-17-paginar-recursos",children:"Viedo 17. Paginar recursos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index()\r\n{\r\n    $categories = Category::included()\r\n                    ->filter()\r\n                    ->sort()\r\n                    ->getOrPaginate();\r\n    return $categories;\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo Query Scope ",(0,s.jsx)(r.strong,{children:"scopeGetOrPaginate"})," en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Category.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function scopeGetOrPaginate(Builder $query){\r\n    if (request('perPage')) {\r\n        $perPage = intval(request('perPage'));\r\n        if ($perPage) {\r\n            return $query->paginate($perPage);\r\n        }\r\n    }\r\n    return $query->get();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?perPage=3&page=2",children:"http://api.codersfree.test/v1/categories?perPage=3&page=2"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar los registro de la tabla ",(0,s.jsx)(r.strong,{children:"categories"})," paginados de 3 en 3 y posicionado en la p\xe1gina 2."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 17:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 17: Paginar recursos"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-5-transformar-respuestas",children:"Secci\xf3n 5: Transformar respuestas"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-18-crear-clase-de-recurso",children:"Viedo 18. Crear clase de recurso"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear el recurso ",(0,s.jsx)(r.strong,{children:"CategoryResource"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":resource"," CategoryResource"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"show"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function show($id)\r\n{\r\n    $category = Category::included()->findOrFail($id);\r\n    return CategoryResource::make($category);\r\n}\n"})}),"\n","Importar la definici\xf3n del recuros ",(0,s.jsx)(r.strong,{children:"CategoryResource"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Resources\\CategoryResource;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Redefinir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"toArray"})," del recurso ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Resources\\CategoryResource.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function toArray($request)\r\n{\r\n    return [\r\n        'id' => $this->id,\r\n        'name' => $this->name,\r\n        'slug' => $this->slug,\r\n        'posts' => PostResource::collection($this->whenLoaded('posts'))\r\n    ];\r\n}\n"})}),"\n","Importar la definici\xf3n del recurso ",(0,s.jsx)(r.strong,{children:"PostResource"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Resources\\PostResource;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Redefinir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index()\r\n{\r\n    $categories = Category::included()\r\n                    ->filter()\r\n                    ->sort()\r\n                    ->getOrPaginate();\r\n    return CategoryResource::collection($categories);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el recurso ",(0,s.jsx)(r.strong,{children:"PostResource"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":resource"," PostResource"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Redefinir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"toArray"})," del recurso ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Resources\\PostResource.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function toArray($request)\r\n{\r\n    return [\r\n        'id' => $this->id,\r\n        'name' => $this->name,\r\n        'slug' => $this->slug,\r\n        'extract' => $this->extract,\r\n        'body' => $this->body,\r\n        'status' => $this->status == 1 ? 'BORRADOR' : 'PUBLICADO',\r\n        'user' => UserResource::make($this->whenLoaded('user')),\r\n        'category' => CategoryResource::make($this->whenLoaded('category')),\r\n    ];\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el recurso ",(0,s.jsx)(r.strong,{children:"UserResource"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":resource"," UserResource"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 18:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 18: Crear clase de recurso"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-6-recurso-posts",children:"Secci\xf3n 6: Recurso Posts"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-19-ampliar-la-funcionalidad-con-los-query-scopes-con-traits-de-php",children:"Viedo 19. Ampliar la funcionalidad con los query scopes con traits de PHP"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear el trait ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Traits\\ApiTrait.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Traits;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Builder;\r\n\r\ntrait ApiTrait{\r\n    public function scopeIncluded(Builder $query){\r\n        if (empty($this->allowIncluded) || empty(request('included'))) {\r\n            return;\r\n        }\r\n\r\n        $relations = explode(',', request('included')); //['posts','relacion2']\r\n        $allowIncluded = collect($this->allowIncluded);\r\n\r\n        foreach ($relations as $key => $relationship) {\r\n            if (!$allowIncluded->contains($relationship)) {\r\n                unset($relations[$key]);\r\n            }\r\n        }\r\n        $query->with($relations);\r\n    }\r\n\r\n    public function scopeFilter(Builder $query){\r\n        if (empty($this->allowFilter) || empty(request('filter'))) {\r\n            return;\r\n        }\r\n\r\n        $filters = request('filter');\r\n        $allowFilter = collect($this->allowFilter);\r\n\r\n        foreach ($filters as $filter => $value) {\r\n            if ($allowFilter->contains($filter)) {\r\n                $query->where($filter, 'LIKE' , '%' . $value . '%');\r\n            }\r\n        }\r\n    }\r\n\r\n    public function scopeSort(Builder $query){\r\n        if (empty($this->allowSort) || empty(request('sort'))) {\r\n            return;\r\n        }\r\n\r\n        $sortFields = explode(',', request('sort'));\r\n        $allowSort = collect($this->allowSort);\r\n\r\n        foreach ($sortFields as $sortField) {\r\n            \r\n            $direction = 'asc';\r\n\r\n            if (substr($sortField, 0, 1) == '-') {\r\n                $direction = 'desc';\r\n                $sortField = substr($sortField, 1);\r\n            }\r\n\r\n            if ($allowSort->contains($sortField)) {\r\n                $query->orderBy($sortField, $direction);\r\n            }\r\n        }\r\n    }\r\n\r\n    public function scopeGetOrPaginate(Builder $query){\r\n        if (request('perPage')) {\r\n            $perPage = intval(request('perPage'));\r\n            if ($perPage) {\r\n                return $query->paginate($perPage);\r\n            }\r\n        }\r\n        return $query->get();\r\n    }    \r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar todos los scope del modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Category.php"})," y la definici\xf3n de ",(0,s.jsx)(r.strong,{children:"Builder"}),", y en su lugar llamar al trait ",(0,s.jsx)(r.strong,{children:"ApiTrait"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Models;\r\n\r\nuse App\\Traits\\ApiTrait;\r\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Category extends Model\r\n{\r\n    use HasFactory, ApiTrait;\r\n\r\n    protected $fillable = ['name', 'slug'];\r\n\r\n    protected $allowIncluded = ['posts', 'posts.user'];\r\n    protected $allowFilter = ['id', 'name', 'slug'];\r\n    protected $allowSort = ['id', 'name', 'slug'];\r\n\r\n    // Relaci\xf3n 1:n entre **categories** y **posts**\r\n    public function posts(){\r\n        return $this->hasMany(Post::class);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar la definici\xf3n y el uso del trait ApiTrait en los modelos ",(0,s.jsx)(r.strong,{children:"Image"}),", ",(0,s.jsx)(r.strong,{children:"Post"}),", ",(0,s.jsx)(r.strong,{children:"Tag"})," y ",(0,s.jsx)(r.strong,{children:"User"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:" <?php\r\n\r\nnamespace App\\Models;\r\n\r\nuse App\\Traits\\ApiTrait;\r\n\u2261\r\nclass {MODELO} extends Model\r\n{\r\n    use ..., ApiTrait;\r\n\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar los m\xe9todos ",(0,s.jsx)(r.strong,{children:"store"}),", ",(0,s.jsx)(r.strong,{children:"update"})," y ",(0,s.jsx)(r.strong,{children:"destroy"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\CategoryController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass CategoryController extends Controller\r\n{\r\n    \u2261\r\n    public function store(Request $request)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|max:255',\r\n            'slug' => 'required|max:255|unique:categories',\r\n        ]);\r\n        $category = Category::create($request->all());\r\n\r\n        return CategoryResource::make($category);\r\n    }\r\n    \u2261\r\n    public function update(Request $request, Category $category)\r\n    {\r\n        $request->validate([\r\n            'name' => 'required|max:255',\r\n            'slug' => 'required|max:255|unique:categories,slug,' . $category->id\r\n        ]);\r\n\r\n        $category->update($request->all());\r\n\r\n        return CategoryResource::make($category);\r\n    }\r\n    \u2261\r\n    public function destroy(Category $category)\r\n    {\r\n        $category->delete();\r\n        return CategoryResource::make($category);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 19:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 19: Ampliar la funcionalidad con los query scopes con traits de PHP"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-20-recibir-peticiones-y-generar-respuestas-para-el-recurso-post",children:"Viedo 20. Recibir peticiones y generar respuestas para el recurso Post"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear el controlador ",(0,s.jsx)(r.strong,{children:"PostController"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":controller"," Api\\PostController --api --model=Post"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crar las rutas para ",(0,s.jsx)(r.strong,{children:"posts"})," en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api-v1.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::apiResource('posts', PostController::class)->names('api.v1.posts');\n"})}),"\n","Importar la definici\xf3n del controlador ",(0,s.jsx)(r.strong,{children:"dddd"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\Api\\PostController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index()\r\n{\r\n    $posts = Post::included()\r\n                    ->filter()\r\n                    ->sort()\r\n                    ->getOrPaginate();\r\n    return PostResource::collection($posts);\r\n}\n"})}),"\n","Importar la definici\xf3n del recurso ",(0,s.jsx)(r.strong,{children:"PostResource"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Resources\\PostResource;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/posts",children:"http://api.codersfree.test/v1/posts"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar los registro de la tabla ",(0,s.jsx)(r.strong,{children:"posts"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request)\r\n{\r\n    $request->validate([\r\n        'name' => 'required|max:255',\r\n        'slug' => 'required|max:255|unique:posts',\r\n        'extract' => 'required',\r\n        'body' => 'required',\r\n        'category_id' => 'required|exists:categories,id',\r\n        'user_id' => 'required|exists:users,id'\r\n    ]);\r\n    $post = Post::create($request->all());\r\n    return PostResource::make($post);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Habilitar asignaci\xf3n masiva en el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\Post.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass Post extends Model\r\n{\r\n    \u2261\r\n    const BORRADOR = 1;\r\n    const PUBLICADO = 2;\r\n\r\n    protected $fillable = ['name', 'slug', 'extract', 'body', 'status', 'category_id', 'user_id'];\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/posts",children:"http://api.codersfree.test/v1/posts"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Field name: name          | Value: T\xedtulo de prueba"}),"\n",(0,s.jsx)(r.li,{children:"Field name: slug          | Value: titulo-de-prueba"}),"\n",(0,s.jsx)(r.li,{children:"Field name: extract       | Value: Cualquier cosa"}),"\n",(0,s.jsx)(r.li,{children:"Field name: body          | Value: Cualquier cosa"}),"\n",(0,s.jsx)(r.li,{children:"Field name: category_id   | Value: 1"}),"\n",(0,s.jsx)(r.li,{children:"Field name: user_id       | Value: 1"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe registrar un post en la tabla ",(0,s.jsx)(r.strong,{children:"posts"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"show"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:" public function show($id)\r\n{\r\n    $post = Post::included()->findOrFail($id);\r\n    return PostResource::make($post);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/posts/2",children:"http://api.codersfree.test/v1/posts/2"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe mostrar el registro de la tabla ",(0,s.jsx)(r.strong,{children:"posts"})," con ",(0,s.jsx)(r.strong,{children:"id"})," = 2."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"update"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function update(Request $request, Post $post)\r\n{\r\n    $request->validate([\r\n        'name' => 'required|max:255',\r\n        'slug' => 'required|max:255|unique:posts,slug,' . $post->id,\r\n        'extract' => 'required',\r\n        'body' => 'required',\r\n        'category_id' => 'required|exists:categories,id',\r\n        'user_id' => 'required|exists:users,id'\r\n    ]);\r\n    $post->update($request->all());\r\n    return PostResource::make($post);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"destroy"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function destroy(Post $post)\r\n{\r\n    $post->delete();\r\n    return PostResource::make($post);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 20:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 20: Recibir peticiones y generar respuestas para el recurso Post"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-7-laravel-passport",children:"Secci\xf3n 7: Laravel Passport"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-21-instalar-laravel-passport",children:"Viedo 21. Instalar Laravel Passport"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Redefinir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request)\r\n{\r\n    $data = $request->validate([\r\n        'name' => 'required|max:255',\r\n        'slug' => 'required|max:255|unique:posts',\r\n        'extract' => 'required',\r\n        'body' => 'required',\r\n        'category_id' => 'required|exists:categories,id'\r\n    ]);\r\n    $user = auth()->user();\r\n    $data['user_id'] =  $user->id;\r\n    $post = Post::create($data);\r\n    return PostResource::make($post);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo constructo ",(0,s.jsx)(r.strong,{children:"__construct"})," en el controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function __construct(){\r\n    $this->middleware('auth:api')->except(['index', 'show']);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Instalar Laravel Passport:\r\n",(0,s.jsx)(r.strong,{children:"URL instalaci\xf3n"}),": ",(0,s.jsx)(r.a,{href:"https://laravel.com/docs/8.x/passport",children:"https://laravel.com/docs/8.x/passport"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ composer require laravel/passport"}),"\n",(0,s.jsx)(r.li,{children:"$ php artisan migrate"}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan passport",":install"," --uuids","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["In order to finish configuring client UUIDs, we need to rebuild the Passport database tables. Would you like to rollback and re-run your last migration? (yes/no) [no]: ",(0,s.jsx)(r.strong,{children:"yes"})]}),"\n",(0,s.jsxs)(r.li,{children:["Recuperar:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Personal access client created successfully.\r\nClient ID: 94716146-8579-4e6f-afcc-29b2da6d125c\r\nClient secret: zR4WpKIHlUs7tWYDS9bo1zmIey0DxMgmSR3qslAk\r\nPassword grant client created successfully.\r\nClient ID: 94716146-8d96-4e4f-9125-8e8a1d05ada0\r\nClient secret: ySeMR1eQaPMLzU1ZcU5ivy9iqcEob3iTzqTC5Cvr\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan migrate",":fresh"," --seed"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\User.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\n//use Laravel\\Sanctum\\HasApiTokens;\r\nuse Laravel\\Passport\\HasApiTokens;\r\n\r\nclass User extends Authenticatable\r\n{\r\n    use HasApiTokens, HasFactory, Notifiable, ApiTrait;\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el provider ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Providers\\AuthServiceProvider.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nuse Laravel\\Passport\\Passport;\r\n\r\nclass AuthServiceProvider extends ServiceProvider\r\n{\r\n    \u2261\r\n    public function boot()\r\n    {\r\n        $this->registerPolicies();\r\n        Passport::routes();\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(r.strong,{children:"Nota"}),": para ver todas las ruta generadas por passport:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan r",":l"," --name=passport"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\config\\auth.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\n'guards' => [\r\n    \u2261\r\n\r\n    'api' => [\r\n        'driver' => 'passport',\r\n        'provider' => 'users',\r\n        'hash' => false,\r\n    ],\r\n],\r\n\u2261\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 21:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 21: Instalar Laravel Passport"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-22-instalar-laravel-passport-ii",children:"Viedo 22. Instalar Laravel Passport II"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Formas de obtener las llaves en producci\xf3n:","\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Ejecutar en producci\xf3n:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan passport",":keys"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["P\xfablicar el archivo de configuraci\xf3n de passport:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan vendor",":publish"," --tag=passport-config"]}),"\n",(0,s.jsxs)(r.li,{children:["Este comando crear\xe1 el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\config\\passport.php"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Agragar las siguientes variables de entorno en ",(0,s.jsx)(r.strong,{children:"api.codersfree\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'PASSPORT_PRIVATE_KEY="{Contenido del archivo: api.codersfree\\storage\\oauth-private.key}"\r\nPASSPORT_PUBLIC_KEY="{Contenido del archivo: api.codersfree\\storage\\oauth-public.key}"\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 22:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 22: Instalar Laravel Passport II"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-8-password-grant-client",children:"Secci\xf3n 8: Password grant client"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-23-solicitar-un-acces-token-desde-postman",children:"Viedo 23. Solicitar un acces token desde postman"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear cliente tipo password:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan passport",":client"," --password","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"What should we name the password grant client? [Laravel Password Grant Client]: > [Presionar ENTER]"}),"\n",(0,s.jsxs)(r.li,{children:["Which user provider should this client use to retrieve users? [users]:\r\n[0] users","\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsx)(r.p,{children:"[Presionar ENTER]"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Recuperar las credenciales:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Password grant client created successfully.\r\nClient ID: 94717435-7f73-4d1a-a9e2-0b88b0401377\r\nClient secret: 5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/oauth/token",children:"http://api.codersfree.test/oauth/token"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Field name: grant_type    | Value: password"}),"\n",(0,s.jsx)(r.li,{children:"Field name: client_id     | Value: 94717435-7f73-4d1a-a9e2-0b88b0401377"}),"\n",(0,s.jsx)(r.li,{children:"Field name: client_secret | Value: 5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr"}),"\n",(0,s.jsxs)(r.li,{children:["Field name: username      | Value: ",(0,s.jsx)(r.a,{href:"mailto:bazo.pedro@gmail.com",children:"bazo.pedro@gmail.com"})]}),"\n",(0,s.jsx)(r.li,{children:"Field name: password      | Value: 12345678"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Obtiene un token para el usuario que corresponde con el campo ",(0,s.jsx)(r.strong,{children:"email"})," = ",(0,s.jsx)(r.a,{href:"mailto:bazo.pedro@gmail.com",children:"bazo.pedro@gmail.com"})," de la tabla ",(0,s.jsx)(r.strong,{children:"users"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Respuesta en formato JSON:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\r\n    "token_type": "Bearer",\r\n    "expires_in": 31536000,\r\n    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI5NDcxNzQzNS03ZjczLTRkMWEtYTllMi0wYjg4YjA0MDEzNzciLCJqdGkiOiJmMDBiZGYzOTFmNTIxMmU4ODUxNjQ0MGJlZGViNmYzMmE1NTVlN2JiMTBlZmY4ODcxZGNlZjkwYzllMjA4ZGFhODdiZGEyMzc0Y2RmZGJjYyIsImlhdCI6MTYzMjE1MTA5MS4xNDM2ODYsIm5iZiI6MTYzMjE1MTA5MS4xNDM2OTEsImV4cCI6MTY2MzY4NzA5MS4xMTUzNzMsInN1YiI6IjEiLCJzY29wZXMiOltdfQ.vghu8oPHHRayzHvzdc5zoIxjnGcnbEx9Tj79Cff71fafTW2IMCN0D-p5hESciYCBe2DmgeAbj-DaQmflBSEe3ips9agV1SJ9Mlm81MfpqtQ5pDS9VndLTof4Wgf99vdPv82tqpXx5914fxEYrp6pB6mSfDkotzJFRFohGoyGXl8I7UIFWO7Bz6qr5I8amo_nqigxhLQKHH8fJb_UpwzqZlppIf-K28gWv_MaaBGIjRguFV3U8uRZ71IBc87r8hRU1ax98_9WoWv-ahN1dUQC2tCzZY2t4rR-cWo7Jatfzx6jN7_opOSKQs_FpBdq9vImz1i7FlooBbQRWhEVqED3LTjlj8vlTMOFnEvhhg5s8y2fwqcOhsWLW3uwLX47NLVvVE18VbGmeBACkwo6k8Oh7wDMqtSId_jp4ifpJHWYVKF_-Fj5Y-MgI7jBsoeZ1mDgZLVy6-v5XF4VMKGXHldZrwdtHolwZJpRuyWqiSvwlgFdmJegx7BTVqVOO37xG7E5uNC2NtR2Vs1_WlS0Eun49uqER__vqS_vHNYmEvm6cn6tsxJygC3E6-_Ux-TeOKwWsQAiRB01zyeM3EQ5cfWOqnMBPBa7xGFpQO0UwWX2CLVxmKDXiBkpTw8DVLGddvi5vDQ1b_VRtS635Nl2OPH6o9DCyXrH2vrDwSuLeYopceM",\r\n    "refresh_token": "def50200465e686d738b5b2a9ecf1bbf855c44f33483b67f2fc612d19ed2eb45881bf852eb9e7745a942816a4151d76a637b7388f7af0658bd35fe0ef86c2ea55f13e5ea85df372c81014ae8416bcabb2ba909c250e578483c8e9f7b5505b6c7425d5fb16f4276c312b73d29e04e6e1a389296ea84070393f57727d76a1b67b0d81a2f81703e5da7cec4ef8393a194608e8a6c70c595f38b839dce8516f9d14c088b4d63e8aa6f90a215042d9ab358cd6dbb085914bbf357cb2e63bd9459f757e043a7e74b015ba33e785091490d2fa5053055e0887c5415579e132b6cd102a7fe42a5c2c619944b312843ccb9306351e361000b3007d3de043d701ada4de939417ef710ba2ea9ba01e1cb38c8756f6de461485d27c473aa783874db9aefc1e045200909bee41a74a276f22eb4a52c7a9d9dadd05d31fb9be4c214247c13d46d2b2f61f5265e46628469d171f6dedff4ba2948d2c24095807412b526bb7edd54819dd09556a2a9207278cba9b6768ff3027c33c8ebbb6a42664646eecca9276ba35d504f"\r\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/posts",children:"http://api.codersfree.test/v1/posts"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Field name: name          | Value: T\xedtulo de prueba 2"}),"\n",(0,s.jsx)(r.li,{children:"Field name: slug          | Value: titulo-de-prueba-2"}),"\n",(0,s.jsx)(r.li,{children:"Field name: extract       | Value: Cualquier cosa"}),"\n",(0,s.jsx)(r.li,{children:"Field name: body          | Value: Cualquier cosa"}),"\n",(0,s.jsx)(r.li,{children:"Field name: category_id   | Value: 1"}),"\n",(0,s.jsx)(r.li,{children:"Field name: user_id       | Value: 1"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n",(0,s.jsx)(r.li,{children:"Header: Authorization    | Value: Bearer + (un espacio) + (access_token de la petici\xf3n anterior sin las comillas dobles)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Obtenemos la autorizaci\xf3n para registrar un post en la tabla ",(0,s.jsx)(r.strong,{children:"posts"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 23:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 23: Solicitar un acces token desde postman"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-24-instalar-laravel-breeze-en-el-cliente",children:"Viedo 24. Instalar laravel breeze en el cliente"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Repositorio Cliente"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/coders-free/cliente1",children:"https://github.com/coders-free/cliente1"})]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear proyecto cliente para consumir la API RESTful:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ laravel new codersfree"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el archivo: ",(0,s.jsx)(r.strong,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"})," como administrador y en la parte final del archivo escribir.","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"127.0.0.1     codersfree.test\n"})}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Guardar y cerrar."}),"\n",(0,s.jsxs)(r.li,{children:["Abri el archivo de texto plano de configuraci\xf3n de Apache ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Ir al final del archivo y anexar lo siguiente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conf",children:'<VirtualHost *>\r\n    DocumentRoot "C:\\xampp\\htdocs\\cursos\\24apirestful\\codersfree\\public"\r\n    ServerName codersfree.test\r\n    <Directory "C:\\xampp\\htdocs\\cursos\\24apirestful\\codersfree\\public">\r\n        Options All\r\n        AllowOverride All\r\n        Require all granted\r\n    </Directory>\r\n</VirtualHost>\n'})}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Guardar y cerrar."}),"\n",(0,s.jsxs)(r.li,{children:["Reiniciar el servidor Apache.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota 1"}),": ahora podemos ejecutar nuestro proyecto local en el navegador introduciendo la siguiente direcci\xf3n: ",(0,s.jsx)(r.a,{href:"http://codersfree.test",children:"http://codersfree.test"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota 2"}),": En caso de que no funcione el enlace, cambiar en el archivo ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf"})," todos los segmentos de c\xf3digo:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conft",children:"<VirtualHost \\*>\n"})}),"\n","por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conf",children:"<VirtualHost *:80>\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear base de datos ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la siguiente variable de entorno del archivo ",(0,s.jsx)(r.strong,{children:"codersfree\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"APP_NAME=Codersfree\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Instalara Laravel Breeze:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Laravel Breeze"}),": ",(0,s.jsx)(r.a,{href:"https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS",children:"https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS"}),"."]}),"\n",(0,s.jsx)(r.li,{children:"$ composer require laravel/breeze --dev"}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan breeze",":install"]}),"\n",(0,s.jsx)(r.li,{children:"$ npm install"}),"\n",(0,s.jsx)(r.li,{children:"$ npm run dev"}),"\n",(0,s.jsx)(r.li,{children:"$ php artisan migrate"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 24:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 24: Instalar laravel breeze en el cliente"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-25-crear-endpoint-para-hacer-login",children:"Viedo 25. Crear endpoint para hacer login"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador LoginController:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["php artisan make",":controller"," Api\\Auth\\LoginController"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta tipo post para login en ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api-v1.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::post('login', [LoginController::class, 'store']);\n"})}),"\n","Importar la definici\xf3n del controlador ",(0,s.jsx)(r.strong,{children:"LoginController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\Api\\Auth\\LoginController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," en el controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\Auth\\LoginController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request){\r\n    $request->validate([\r\n        'email' => 'required|string|email',\r\n        'password' => 'required|string'\r\n    ]);\r\n\r\n    $user = User::where('email', $request->email)->firstOrFail();\r\n\r\n    if (Hash::check($request->password, $user->password)) {\r\n        return UserResource::make($user);\r\n    }else{\r\n        return response()->json(['message' => 'These credentials do not match our records.'], 404);\r\n    }       \r\n}\n"})}),"\n","Importar la definici\xf3n de recurso ",(0,s.jsx)(r.strong,{children:"UserResource"}),", el modelo ",(0,s.jsx)(r.strong,{children:"User"})," y el facade ",(0,s.jsx)(r.strong,{children:"Hash"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Resources\\UserResource;\r\nuse App\\Models\\User;\r\nuse Illuminate\\Support\\Facades\\Hash;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 25:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 25: Crear endpoint para hacer login"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-26-configurando-el-proyecto-del-cliente-parahacer-login",children:"Viedo 26. Configurando el proyecto del cliente parahacer login"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),":"]}),"\n",(0,s.jsxs)(r.li,{children:["Eliminar los campos ",(0,s.jsx)(r.strong,{children:"email_verified_at"})," y ",(0,s.jsx)(r.strong,{children:"password"})," del archivo de migraci\xf3n  ",(0,s.jsx)(r.strong,{children:"codersfree\\database\\migrations\\2014_10_12_000000_create_users_table.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function up()\r\n{\r\n    Schema::create('users', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->string('name');\r\n        $table->string('email')->unique();\r\n        $table->rememberToken();\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el modelo ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Models\\User.php"})," para eliminar las referencias al campo ",(0,s.jsx)(r.strong,{children:"password"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass User extends Authenticatable\r\n{\r\n    \u2261\r\n    protected $fillable = [\r\n        'name',\r\n        'email',\r\n    ];\r\n    \u2261\r\n    protected $hidden = [\r\n        'remember_token',\r\n    ];\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el modelo AccessToken con su migraci\xf3n:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":model"," AccessToken -m"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo up de la migraci\xf3n ",(0,s.jsx)(r.strong,{children:"codersfree\\database\\migrations\\2021_09_20_195913_create_access_tokens_table.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function up()\r\n{\r\n    Schema::create('access_tokens', function (Blueprint $table) {\r\n        $table->id();\r\n        $table->foreignId('user_id')->constrained();    // id del usuario en el cliente\r\n        $table->unsignedInteger('service_id');          // id del usuario en la API\r\n        $table->text('access_token');\r\n        $table->text('refresh_token');\r\n        $table->dateTime('expires_at');\r\n        $table->timestamps();\r\n    });\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Habilitar la asignaci\xf3n masiva en el modelo ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Models\\AccessToken.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass AccessToken extends Model\r\n{\r\n    \u2261\r\n    protected $fillable = ['user_id', 'service_id', 'access_token', 'refresh_token', 'expires_at'];\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Establecer relaci\xf3n en el modelo ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Models\\User.php"})," con el modelo ",(0,s.jsx)(r.strong,{children:"AccessToken"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"//Relacion 1:1 con el modelo AccessToken\r\npublic function accessToken(){\r\n    return $this->hasOne(AccessToken::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reestablecer la base de datos del cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan migrate",":fresh"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 26:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 26: Configurando el proyecto del cliente parahacer login"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-27-iniciar-sesi\xf3n-desde-el-cliente",children:"Viedo 27. Iniciar sesi\xf3n desde el cliente"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\AuthenticatedSessionController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(LoginRequest $request)\r\n{\r\n    $request->validate([\r\n        'email' => 'required|string|email',\r\n        'password' => 'required|string'\r\n    ]);\r\n\r\n    $response = Http::withHeaders([\r\n        'Accept' => 'application/json'\r\n    ])->post('http://api.codersfree.test/v1/login', [\r\n        'email' => $request->email,\r\n        'password' => $request->password\r\n    ]);\r\n\r\n    $service = $response->json();\r\n\r\n    $user = User::updateOrcreate([\r\n        'email' => $request->email\r\n    ], $service['data']);\r\n\r\n    return $user;\r\n}\n"})}),"\n","Importar la definici\xf3n del model ",(0,s.jsx)(r.strong,{children:"User"})," y del facade ",(0,s.jsx)(r.strong,{children:"Http"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Models\\User;\r\nuse Illuminate\\Support\\Facades\\Http;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para solventar problemas al ejecutar m\xe1s de un proyecto Laravel en el mismo servidor local, ejecutar en el proyecto cliente:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":cache"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para probar la aplicaci\xf3n intentar acceder al endpoint de la aplicaci\xf3n API a trav\xe9s del login en la aplicaci\xf3n cliente:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Email: ",(0,s.jsx)(r.a,{href:"mailto:bazo.pedro@gmail.com",children:"bazo.pedro@gmail.com"})]}),"\n",(0,s.jsx)(r.li,{children:"Password: 12345678"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 27:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 27: Iniciar sesi\xf3n desde el cliente"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-28-iniciar-sesi\xf3n-desde-el-cliente-ii",children:"Viedo 28. Iniciar sesi\xf3n desde el cliente II"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\AuthenticatedSessionController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(LoginRequest $request)\r\n{\r\n    $request->validate([\r\n        'email' => 'required|string|email',\r\n        'password' => 'required|string'\r\n    ]);\r\n\r\n    $response = Http::withHeaders([\r\n        'Accept' => 'application/json'\r\n    ])->post('http://api.codersfree.test/v1/login', [\r\n        'email' => $request->email,\r\n        'password' => $request->password\r\n    ]);\r\n\r\n    if ($response->status() == 404) {\r\n        return back()->withErrors('These credentials do not match our records.');\r\n    }\r\n\r\n    $service = $response->json();\r\n\r\n    $user = User::updateOrcreate([\r\n        'email' => $request->email\r\n    ], $service['data']);\r\n\r\n    if (!$user->accessToken) {\r\n        $response = Http::withHeaders([\r\n            'Accept' => 'application/json'\r\n        ])->post('http://api.codersfree.test/oauth/token', [\r\n            'grant_type' => 'password',\r\n            'client_id' => '94717435-7f73-4d1a-a9e2-0b88b0401377',\r\n            'client_secret' => '5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr',\r\n            'username' => $request->email,\r\n            'password' => $request->password\r\n        ]);\r\n\r\n        $access_token = $response->json();\r\n\r\n        $user->accessToken()->create([\r\n            'service_id' => $service['data']['id'],\r\n            'access_token' => $access_token['access_token'],\r\n            'refresh_token' => $access_token['refresh_token'],\r\n            'expires_at' => now()->addSecond($access_token['expires_in'])\r\n        ]);\r\n    }\r\n    Auth::login($user, $request->remember);\r\n    return redirect()->intended(RouteServiceProvider::HOME);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 28:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 28: Iniciar sesi\xf3n desde el cliente II"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-29-registrar-usuario-desde-el-cliente",children:"Viedo 29. Registrar usuario desde el cliente"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Mover el controlador ",(0,s.jsx)(r.strong,{children:"RegisterController.php"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"De: api.codersfree\\app\\Http\\Controllers\\Api"}),"\n",(0,s.jsx)(r.li,{children:"A: api.codersfree\\app\\Http\\Controllers\\Api\\Auth"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar namespace del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\Auth\\RegisterController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"namespace App\\Http\\Controllers\\Api\\Auth;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Cambiar la importaci\xf3n de la definici\xf3n de ",(0,s.jsx)(r.strong,{children:"RegisterController"})," en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\api-v1.php"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"De:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\Api\\RegisterController;\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"A:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\Api\\Auth\\RegisterController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\Auth\\RegisterController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request){\r\n    $request->validate([\r\n        'name' => 'required|string|max:255',\r\n        'email' => 'required|string|email|max:255|unique:users',\r\n        'password' => 'required|string|min:8|confirmed'\r\n    ]);\r\n    $user = User::create([\r\n        'name' => $request->name,\r\n        'email' => $request->email,\r\n        'password' => bcrypt($request->password)\r\n    ]);\r\n    return UserResource::make($user);\r\n}\n"})}),"\n","Importar la definici\xf3n del recurso ",(0,s.jsx)(r.strong,{children:"UserResource"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Resources\\UserResource;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Realizar petici\xf3n http para probar endpoint:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/register",children:"http://api.codersfree.test/v1/register"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Field name: name                      | Value: Fulanito De Tal"}),"\n",(0,s.jsxs)(r.li,{children:["Field name: email                     | Value: ",(0,s.jsx)(r.a,{href:"mailto:fulanito@gmail.com",children:"fulanito@gmail.com"})]}),"\n",(0,s.jsx)(r.li,{children:"Field name: password                  | Value: 12345678"}),"\n",(0,s.jsx)(r.li,{children:"Field name: password_confirmation     | Value: 12345678"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Header: Accept    | Value: application/json"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Acci\xf3n: Debe enviar el registro a la tabla ",(0,s.jsx)(r.strong,{children:"users"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 29:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 29: Registrar usuario desde el cliente"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-30-registrar-usuario-desde-el-cliente-ii",children:"Viedo 30. Registrar usuario desde el cliente II"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo store del controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\RegisteredUserController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request)\r\n{\r\n    $request->validate([\r\n        'name' => 'required|string|max:255',\r\n        'email' => 'required|string|email|max:255|unique:users',\r\n        'password' => ['required', 'confirmed', Rules\\Password::defaults()],\r\n    ]);\r\n\r\n    $response = Http::withHeaders([\r\n        'Accept' => 'application/json'\r\n    ])->post('http://api.codersfree.test/v1/register', $request->all());\r\n\r\n    if ($response->status() == 422) {\r\n        return back()->withErrors($response->json()['errors']);\r\n    }\r\n\r\n    $service = $response->json();\r\n\r\n    $user = User::create([\r\n        'name' => $request->name,\r\n        'email' => $request->email\r\n    ]);\r\n    \r\n    $response = Http::withHeaders([\r\n        'Accept' => 'application/json'\r\n    ])->post('http://api.codersfree.test/oauth/token', [\r\n        'grant_type' => 'password',\r\n        'client_id' => '94717435-7f73-4d1a-a9e2-0b88b0401377',\r\n        'client_secret' => '5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr',\r\n        'username' => $request->email,\r\n        'password' => $request->password\r\n    ]);\r\n\r\n    $access_token = $response->json();\r\n\r\n    $user->accessToken()->create([\r\n        'service_id' => $service['data']['id'],\r\n        'access_token' => $access_token['access_token'],\r\n        'refresh_token' => $access_token['refresh_token'],\r\n        'expires_at' => now()->addSecond($access_token['expires_in'])\r\n    ]);\r\n    \r\n    event(new Registered($user));\r\n    Auth::login($user);\r\n    return redirect(RouteServiceProvider::HOME);\r\n}\n"})}),"\n","Importar la definici\xf3n del facade ",(0,s.jsx)(r.strong,{children:"Http"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\Http;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 30:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 30: Registrar usuario desde el cliente II"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-31-proteger-credenciales",children:"Viedo 31. Proteger credenciales"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear servicio ",(0,s.jsx)(r.strong,{children:"codersfree"})," en el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"codersfree\\config\\services.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"return [\r\n    \u2261\r\n    'codersfree' => [\r\n        'client_id' => env('CODERSFREE_CLIENT_ID'),\r\n        'client_secret' => env('CODERSFREE_CLIENT_SECRET')\r\n    ],\r\n];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear variables de entorno para almacenar las llaves del cliente tipo password en ",(0,s.jsx)(r.strong,{children:"codersfree\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'CODERSFREE_CLIENT_ID="94717435-7f73-4d1a-a9e2-0b88b0401377"\r\nCODERSFREE_CLIENT_SECRET="5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr"\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para cachear el servicio ",(0,s.jsx)(r.strong,{children:"codersfree"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":clear"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":cache"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la instrucci\xf3n con la informaci\xf3n de las llaves clientes tipo password en los controladores ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\RegisteredUserController.php"})," y ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\AuthenticatedSessionController.php"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Cambiar de:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"'client_id' => '94717435-7f73-4d1a-a9e2-0b88b0401377',\r\n'client_secret' => '5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr',\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"A:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"'client_id' => config('services.codersfree.client_id'),\r\n'client_secret' => config('services.codersfree.client_secret'),\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 31:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 31: Proteger credenciales"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-32-trait-para-solicitar-un-acces-token",children:"Viedo 32. Trait para solicitar un acces token"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear treit ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Traits\\token.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Traits;\r\n\r\nuse Illuminate\\Support\\Facades\\Http;\r\n\r\ntrait Token{\r\n\r\n    public function setAccessToken($user, $service){\r\n        $response = Http::withHeaders([\r\n            'Accept' => 'application/json'\r\n        ])->post('http://api.codersfree.test/oauth/token', [\r\n            'grant_type' => 'password',\r\n            'client_id' => config('services.codersfree.client_id'),\r\n            'client_secret' => config('services.codersfree.client_secret'),\r\n            'username' => request('email'),\r\n            'password' => request('password'),\r\n        ]);\r\n\r\n        $access_token = $response->json();\r\n\r\n        $user->accessToken()->create([\r\n            'service_id' => $service['data']['id'],\r\n            'access_token' => $access_token['access_token'],\r\n            'refresh_token' => $access_token['refresh_token'],\r\n            'expires_at' => now()->addSecond($access_token['expires_in'])\r\n        ]);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Importar y usar el trait Token a los controladores ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\RegisteredUserController.php"})," y ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\AuthenticatedSessionController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nuse App\\Traits\\Token;\r\n\r\nclass {Nombre del controlador} extends Controller\r\n{\r\n    use Token;\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\RegisteredUserController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(Request $request)\r\n{\r\n    \u2261    \r\n    $this->setAccessToken($user, $service);\r\n    \r\n    event(new Registered($user));\r\n    Auth::login($user);\r\n    return redirect(RouteServiceProvider::HOME);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Auth\\AuthenticatedSessionController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(LoginRequest $request)\r\n{\r\n    \u2261\r\n    if (!$user->accessToken) {\r\n        $this->setAccessToken($user, $service);\r\n    }\r\n\r\n    Auth::login($user, $request->remember);\r\n    return redirect()->intended(RouteServiceProvider::HOME);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reestablecer la base de datos cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan migrate",":fresh"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 32:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 32: Trait para solicitar un acces token"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-33-mandar-acces-token-en-las-peticiones",children:"Viedo 33. Mandar acces token en las peticiones"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto client ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el controlador ",(0,s.jsx)(r.strong,{children:"PostController"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":controller"," PostController"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta get posts en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"codersfree\\routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('posts', [PostController::class, 'store'])->middleware('auth');\n"})}),"\n","Importar la definici\xf3n del controlador  ",(0,s.jsx)(r.strong,{children:"PostController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\PostController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," en el controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(){\r\n    $response = Http::withHeaders([\r\n        'Accept'    => 'application/json',\r\n        'Authorization' => 'Bearer ' . auth()->user()->accessToken->access_token\r\n    ])->post('http://api.codersfree.test/v1/posts', [\r\n        'name' => 'Este es un nombre de prueba',\r\n        'slug' => 'esto-esun-nombre-de-prueba',\r\n        'extract' => 'sdsdsds',\r\n        'body' => 'asdasdasdasdas',\r\n        'category_id' => 1\r\n    ]);\r\n    return $response->json();\r\n}\n"})}),"\n","Importar la definici\xf3n del facade ",(0,s.jsx)(r.strong,{children:"Http"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\Http;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 33:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 33: Mandar acces token en las peticiones"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-9-gran-type-refresh-token",children:"Secci\xf3n 9: Gran type refresh token"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-34-solicitar-nuevo-token",children:"Viedo 34. Solicitar nuevo token"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"tokensExpireIn"})," de la clase ",(0,s.jsx)(r.strong,{children:"Passport"})," en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"boot"})," del provider ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Providers\\AuthServiceProvider.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function boot()\r\n{\r\n    $this->registerPolicies();\r\n    Passport::routes();\r\n    Passport::tokensExpireIn(now()->addSeconds(60));\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto client ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"store"})," del controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function store(){\r\n    $this->resolveAuthorization();\r\n\r\n    $response = Http::withHeaders([\r\n        'Accept'    => 'application/json',\r\n        'Authorization' => 'Bearer ' . auth()->user()->accessToken->access_token\r\n    ])->post('http://api.codersfree.test/v1/posts', [\r\n        'name' => 'Este es un nombre de prueba',\r\n        'slug' => 'esto-esun-nombre-de-prueba',\r\n        'extract' => 'sdsdsds',\r\n        'body' => 'asdasdasdasdas',\r\n        'category_id' => 1\r\n    ]);\r\n\r\n    return $response->json();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear m\xe9todo resolveAuthorization en el controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Controller.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"// Verifica si el token esta caducado para solicitar otro\r\npublic function resolveAuthorization(){\r\n    if(auth()->user()->accessToken->expires_at <= now()){\r\n        $response = Http::withHeaders([\r\n            'Accept' => 'application/json'\r\n        ])->post('http://api.codersfree.test/oauth/token', [\r\n            'grant_type' => 'refresh_token',\r\n            'refresh_token' => auth()->user()->accessToken->refresh_token,\r\n            'client_id' => config('services.codersfree.client_id'),\r\n            'client_secret' => config('services.codersfree.client_secret')\r\n        ]);\r\n\r\n        $access_token = $response->json();\r\n\r\n        auth()->user()->accessToken->update([\r\n            'access_token' => $access_token['access_token'],\r\n            'refresh_token' => $access_token['refresh_token'],\r\n            'expires_at' => now()->addSecond($access_token['expires_in'])\r\n        ]);           \r\n    }\r\n}\n"})}),"\n","Importar la definici\xf3n del facade ",(0,s.jsx)(r.strong,{children:"Http"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\Http;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 34:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 34: Solicitar nuevo token"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-35-purgar-tokens",children:"Viedo 35. Purgar tokens"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Para purgar de la base de datos los access tokens caducos:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan passport",":purge"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Programar tarea para purgar tokens caducos en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"schedule"})," del kernel ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Console\\Kernel.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"protected function schedule(Schedule $schedule)\r\n{\r\n    // Para usar en desarrollo\r\n    $schedule->command('passport:purge')->everyMinute();\r\n    // Para usar en producci\xf3n\r\n    // $schedule->command('passport:purge')->daily();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para que se ejecute el comando programado anteriormente cada minuto en nuestra m\xe1quina local:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan schedule",":work"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 35:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 35: Purgar tokens"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-10-gran-type-authorization_code",children:"Secci\xf3n 10: Gran type authorization_code"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-36-instalar-laravel-breeze-en-nuestra-api",children:"Viedo 36. Instalar laravel breeze en nuestra api"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"URL Documentaci\xf3n Laravel Breeze"}),": ",(0,s.jsx)(r.a,{href:"https://laravel.com/docs/8.x/starter-kits",children:"https://laravel.com/docs/8.x/starter-kits"})]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Instalara Laravel Breeze:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ composer require laravel/breeze --dev"}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan breeze",":install"]}),"\n",(0,s.jsx)(r.li,{children:"$ npm install"}),"\n",(0,s.jsx)(r.li,{children:"$ npm run dev"}),"\n",(0,s.jsx)(r.li,{children:"$ php artisan migrate"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador ",(0,s.jsx)(r.strong,{children:"ClientController"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":controller"," ClientController"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar ruta get clients en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('clients', [ClientController::class, 'index'])->name('clients.index');\n"})}),"\n","Importar la definci\xf3n del controlador ",(0,s.jsx)(r.strong,{children:"ClientController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\ClientController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\ClientController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index(){\r\n    return view('clients.index');\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    <x-slot name="header">\r\n        <h2 class="font-semibold text-xl text-gray-800 leading-tight">\r\n            Clientes\r\n        </h2>\r\n    </x-slot>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar componente ",(0,s.jsx)(r.strong,{children:"Clientes"})," al dropdown de la plantilla ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\layouts\\navigation.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'\u2261\r\n\x3c!-- Settings Dropdown --\x3e\r\n<div class="hidden sm:flex sm:items-center sm:ml-6">\r\n    <x-dropdown align="right" width="48">\r\n        \u2261\r\n        <x-slot name="content">\r\n            {{-- Clientes --}}\r\n            <x-dropdown-link :href="route(\'clients.index\')">\r\n                Clientes\r\n            </x-dropdown-link>\r\n\r\n            \x3c!-- Authentication --\x3e\r\n            \u2261\r\n        </x-slot>\r\n    </x-dropdown>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 36:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 36: Instalar laravel breeze en nuestra api"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-37-crear-formulario-para-crear-nuevo-cliente",children:"Viedo 37. Crear formulario para crear nuevo cliente"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el componente ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\components\\container.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<div {{$attributes->merge(["class" => "max-w-7xl mx-auto sm:px-6 lg:px-8"])}}>\r\n    {{$slot}}\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el componente ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\components\\form-section.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<div {{$attributes->merge(["class" => "grid grid-cols-3 gap-6"])}}>\r\n    <div class="px-4">\r\n        <h3 class="text-lg font-medium text-gray-900">\r\n            {{$title}}\r\n        </h3>\r\n\r\n        <p class="mt-1 text-sm text-gray-600">\r\n            {{$description}}\r\n        </p>\r\n    </div>\r\n\r\n    <div class="col-span-2">\r\n        <div>\r\n            <div class="px-4 py-5 sm:p-6 bg-white shadow sm:rounded-tl-md rounded-tr-md">\r\n                {{$slot}}\r\n            </div>\r\n            @isset($actions)\r\n                <div class="px-6 py-3 bg-gray-100 shadow flex justify-end items-center rounded-bl-md rounded-br-md">\r\n                    {{$actions}}\r\n                </div>\r\n            @endisset    \r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    <x-slot name="header">\r\n        <h2 class="font-semibold text-xl text-gray-800 leading-tight">\r\n            Clientes\r\n        </h2>\r\n    </x-slot>\r\n\r\n    <x-container class="py-8">\r\n        <x-form-section>\r\n            <x-slot name="title">\r\n                Crea un nuevo cliente\r\n            </x-slot> \r\n            <x-slot name="description">\r\n                Ingrese los datos solicitados para poder crear un nuevo cliente\r\n            </x-slot>\r\n            <x-slot name="actions">\r\n                <x-button>\r\n                    Crear\r\n                </x-button>\r\n            </x-slot>          \r\n        </x-form-section>\r\n    </x-container>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 37:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 37: Crear formulario para crear nuevo cliente"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-38-volver-formulario-responsivo",children:"Viedo 38. Volver formulario responsivo"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Convertir en responsivo el componente ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\components\\form-section.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<div {{$attributes->merge(["class" => "md:grid md:grid-cols-3 md:gap-6"])}}>\r\n    <div class="px-4 sm:px-0">\r\n        <h3 class="text-lg font-medium text-gray-900">\r\n            {{$title}}\r\n        </h3>\r\n\r\n        <p class="mt-1 text-sm text-gray-600">\r\n            {{$description}}\r\n        </p>\r\n    </div>\r\n\r\n    <div class="mt-5 md:mt-0 md:col-span-2">\r\n        <div>\r\n            <div class="px-4 py-5 sm:p-6 bg-white shadow {{ isset($actions) ? \'sm:rounded-tl-md sm:rounded-tr-md\' : \'sm:rounded-md\' }}">\r\n                {{$slot}}\r\n            </div>\r\n            @isset($actions)\r\n                <div class="px-6 py-3 bg-gray-100 shadow flex justify-end items-center sm:rounded-bl-md sm:rounded-br-md">\r\n                    {{$actions}}\r\n                </div>\r\n            @endisset    \r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 38:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 38: Volver formulario responsivo"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-39-incluir-vue-y-axios-en-nuestro-proyecto",children:"Viedo 39. Incluir vue y axios en nuestro proyecto"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    <x-slot name="header">\r\n        <h2 class="font-semibold text-xl text-gray-800 leading-tight">\r\n            Clientes\r\n        </h2>\r\n    </x-slot>\r\n\r\n    <x-container class="py-8">\r\n        <x-form-section>\r\n            <x-slot name="title">\r\n                Crea un nuevo cliente\r\n            </x-slot> \r\n            <x-slot name="description">\r\n                Ingrese los datos solicitados para poder crear un nuevo cliente\r\n            </x-slot>\r\n\r\n            <div class="grid grid-cols-6 gap-6">\r\n                <div class="col-span-6 sm:col-span-4">\r\n                    <x-label>Nombre</x-label>\r\n                    <x-input type="text" class="w-full mt-1"></x-input> \r\n                </div>\r\n                <div class="col-span-6 sm:col-span-4">\r\n                    <x-label>URL de redirecci\xf3n</x-label>\r\n                    <x-input type="text" class="w-full mt-1"></x-input> \r\n                </div>\r\n            </div>\r\n                \r\n            <x-slot name="actions">\r\n                <x-button>\r\n                    Crear\r\n                </x-button>\r\n            </x-slot>          \r\n        </x-form-section>\r\n    </x-container>\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar los CDN's de ",(0,s.jsx)(r.strong,{children:"VUE"}),", ",(0,s.jsx)(r.strong,{children:"Axios"})," y  ",(0,s.jsx)(r.strong,{children:"sweetalert2"})," en la plantilla ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\layouts\\app.blade.php"})," para poder extender sus funcionalidades a todas las vistas:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'\u2261\r\n<head>\r\n    \u2261\r\n    \x3c!-- VUE --\x3e\r\n    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"><\/script>\r\n\r\n    \x3c!-- Axios --\x3e\r\n    <script src="https://unpkg.com/axios/dist/axios.min.js"><\/script>\r\n\r\n    \x3c!-- sweetalert2 --\x3e\r\n    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"><\/script>\r\n</head>\r\n\u2261\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL CDN de VUE"}),": ",(0,s.jsx)(r.a,{href:"https://vuejs.org/v2/guide/installation.html",children:"https://vuejs.org/v2/guide/installation.html"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL CDN de Axios"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/axios/axios",children:"https://github.com/axios/axios"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL CDN de sweetalert2"}),": ",(0,s.jsx)(r.a,{href:"https://sweetalert2.github.io/#download",children:"https://sweetalert2.github.io/#download"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 39:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 39: Incluir vue y axios en nuestro proyecto"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-40-registrar-nuevos-clientes",children:"Viedo 40. Registrar nuevos clientes"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    <x-slot name="header">\r\n        <h2 class="font-semibold text-xl text-gray-800 leading-tight">\r\n            Clientes\r\n        </h2>\r\n    </x-slot>\r\n\r\n    <x-container id="app" class="py-8">\r\n        <x-form-section>\r\n            <x-slot name="title">\r\n                Crea un nuevo cliente\r\n            </x-slot> \r\n            <x-slot name="description">\r\n                Ingrese los datos solicitados para poder crear un nuevo cliente\r\n            </x-slot>\r\n\r\n            <div class="grid grid-cols-6 gap-6">\r\n                <div class="col-span-6 sm:col-span-4">\r\n                    <x-label>Nombre</x-label>\r\n                    <x-input v-model="createForm.name" type="text" class="w-full mt-1"></x-input> \r\n                </div>\r\n                <div class="col-span-6 sm:col-span-4">\r\n                    <x-label>URL de redirecci\xf3n</x-label>\r\n                    <x-input v-model="createForm.redirect" type="text" class="w-full mt-1"></x-input> \r\n                </div>\r\n            </div>\r\n                \r\n            <x-slot name="actions">\r\n                <x-button v-on:click="store">\r\n                    Crear\r\n                </x-button>\r\n            </x-slot>          \r\n        </x-form-section>\r\n    </x-container>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data:{\r\n                    createForm:{\r\n                        errors: [],\r\n                        name: null,\r\n                        redirect: null,\r\n                    }\r\n                },\r\n                methods:{\r\n                    store(){\r\n                        axios.post(\'/oauth/clients\', this.createForm)\r\n                            .then(response => {\r\n                                this.createForm.name=null;\r\n                                this.createForm.redirect=null;\r\n                                Swal.fire(\r\n                                    \'Deleted!\',\r\n                                    \'Your file has been deleted.\',\r\n                                    \'success\'\r\n                                )\r\n                            }).catch(error => {\r\n                                alert(\'No has completado los datos correspondientes\')\r\n                            })\r\n                    }\r\n                }\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir un stack en la plantilla ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\layouts\\app.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\n<body class=\"font-sans antialiased\">\r\n    \u2261\r\n    @stack('js')\r\n</body>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 40:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 40: Registrar nuevos clientes"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-41-mostrar-listado-de-clientes",children:"Viedo 41. Mostrar listado de clientes"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <x-container id="app" class="py-8">\r\n        <x-form-section class="mb-12">\r\n            \u2261         \r\n        </x-form-section>\r\n\r\n        <x-form-section>\r\n            <x-slot name="title">\r\n                Lista de clientes\r\n            </x-slot> \r\n            <x-slot name="description">\r\n                Aqu\xed podr\xe1s encontrar todos los clientes que has agregado\r\n            </x-slot>\r\n\r\n            <div>\r\n                <table class="text-gray-600">\r\n                    <thead class="border-b border-gray-300">\r\n                        <tr class="text-left">\r\n                            <th class="py-2 w-full">Nombre</th>\r\n                            <th class="py-2">Acci\xf3n</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody class="divide-y divide-gray-300">\r\n                        <tr v-for="client in clients">\r\n                            <td class=" y-2">\r\n                                @{{ client.name }}  {{-- El @ se escribe para evitar conflicto entre Blade y VUE --}}\r\n                            </td>\r\n                            <td class="flex divide-x divide-gray-300 py-2">\r\n                                <a class="pr-2 hover:text-blue-600 font-semibold cursor-pointer">Editar</a>\r\n                                <a class="pl-2 hover:text-red-600 font-semibold cursor-pointer">Eliminar</a>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>          \r\n        </x-form-section>\r\n    </x-container>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data:{\r\n                    clients: [],\r\n                    createForm:{\r\n                        errors: [],\r\n                        name: null,\r\n                        redirect: null,\r\n                    }\r\n                },\r\n                mounted(){\r\n                    this.getClients();\r\n                },\r\n                methods:{\r\n                    getClients(){\r\n                        axios.get(\'/oauth/clients\')\r\n                            .then(response =>{\r\n                                this.clients = response.data\r\n                            })\r\n                    },\r\n                    store(){\r\n                        axios.post(\'/oauth/clients\', this.createForm)\r\n                            .then(response => {\r\n                                this.createForm.name=null;\r\n                                this.createForm.redirect=null;\r\n                                Swal.fire(\r\n                                    \'Deleted!\',\r\n                                    \'Your file has been deleted.\',\r\n                                    \'success\'\r\n                                )\r\n                            }).catch(error => {\r\n                                alert(\'No has completado los datos correspondientes\')\r\n                            })\r\n                    }\r\n                }\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 41:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 41: Mostrar listado de clientes"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-42-mostrar-mensajes-de-error",children:"Viedo 42. Mostrar mensajes de error"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <x-container id="app" class="py-8">\r\n        <x-form-section class="mb-12">\r\n            \u2261\r\n            <div class="grid grid-cols-6 gap-6">\r\n                <div class="col-span-6 sm:col-span-4">\r\n                    <div v-if="createForm.errors.length > 0">\r\n                        <div class="mb-4 bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded">\r\n                            <strong class="font-bold">Whoops!</strong>\r\n                            <span>\xa1Algo salio mal!</span>\r\n                            <ul>\r\n                                <li v-for="error in createForm.errors">\r\n                                    @{{error}}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <x-label>Nombre</x-label>\r\n                    <x-input v-model="createForm.name" type="text" class="w-full mt-1"></x-input> \r\n                </div>\r\n                <div class="col-span-6 sm:col-span-4">\r\n                    <x-label>URL de redirecci\xf3n</x-label>\r\n                    <x-input v-model="createForm.redirect" type="text" class="w-full mt-1"></x-input> \r\n                </div>\r\n            </div>\r\n                \r\n            <x-slot name="actions">\r\n                <x-button v-on:click="store" v-bind:disabled="createForm.disabled">\r\n                    Crear\r\n                </x-button>\r\n            </x-slot>          \r\n        </x-form-section>\r\n\r\n        <x-form-section v-if="clients.length > 0">\r\n            \u2261          \r\n        </x-form-section>\r\n    </x-container>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data:{\r\n                    clients: [],\r\n                    createForm:{\r\n                        disabled: false,\r\n                        errors: [],\r\n                        name: null,\r\n                        redirect: null,\r\n                    }\r\n                },\r\n                mounted(){\r\n                    this.getClients();\r\n                },\r\n                methods:{\r\n                    getClients(){\r\n                        axios.get(\'/oauth/clients\')\r\n                            .then(response =>{\r\n                                this.clients = response.data\r\n                            })\r\n                    },\r\n                    store(){\r\n                        this.createForm.disabled = true;\r\n                        axios.post(\'/oauth/clients\', this.createForm)\r\n                            .then(response => {\r\n                                this.createForm.name=null;\r\n                                this.createForm.redirect=null;\r\n                                Swal.fire(\r\n                                    \'Creado con \xe9xito!\',\r\n                                    \'El cliente se cre\xf3 satisfactoriamente.\',\r\n                                    \'success\'\r\n                                )\r\n                                this.getClients();\r\n                                this.createForm.disabled = false;\r\n                            }).catch(error => {\r\n                                this.createForm.errors = _.flatten(_.toArray(error.response.data.errors));\r\n                                this.createForm.disabled = false;\r\n                            })\r\n                    }\r\n                }\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 42:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 42: Mostrar mensajes de error"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-43-traducir-laravel",children:"Viedo 43. Traducir Laravel"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar en la consola del proyecto:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ composer require laraveles/spanish"}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan vendor",":publish"," --tag=lang"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo de configuraci\xf3n ",(0,s.jsx)(r.strong,{children:"api.codersfree\\config\\app.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nreturn [\r\n    \u2261\r\n    'locale' => 'es',\r\n    \u2261\r\n];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el archivo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\lang\\es\\validation.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nreturn [\r\n    \u2261\r\n    'attributes' => [\r\n        'name' => 'nombre',\r\n        'redirect' => 'redirecci\xf3n'\r\n    ],\r\n\r\n];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 43:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 43: Traducir Laravel"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-44-eliminar-cliente",children:"Viedo 44. Eliminar cliente"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <x-container id="app" class="py-8">\r\n        \u2261\r\n        <x-form-section v-if="clients.length > 0">\r\n            \u2261\r\n            <div>\r\n                <table class="text-gray-600">\r\n                    \u2261\r\n                    <tbody class="divide-y divide-gray-300">\r\n                        <tr v-for="client in clients">\r\n                            \u2261\r\n                            <td class="flex divide-x divide-gray-300 py-2">\r\n                                <a class="pr-2 hover:text-blue-600 font-semibold cursor-pointer">Editar</a>\r\n                                <a class="pl-2 hover:text-red-600 font-semibold cursor-pointer" v-on:click="destroy(client)">Eliminar</a>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>          \r\n        </x-form-section>\r\n    </x-container>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                \u2261\r\n                methods:{\r\n                    \u2261\r\n                    destroy(client){\r\n                        Swal.fire({\r\n                            title: \'Are you sure?\',\r\n                            text: "You won\'t be able to revert this!",\r\n                            icon: \'warning\',\r\n                            showCancelButton: true,\r\n                            confirmButtonColor: \'#3085d6\',\r\n                            cancelButtonColor: \'#d33\',\r\n                            confirmButtonText: \'Yes, delete it!\'\r\n                            }).then((result) => {\r\n                            if (result.isConfirmed) {\r\n\r\n                                axios.delete(\'/oauth/clients/\' + client.id)\r\n                                    .then(response => {\r\n                                        this.getClients();\r\n                                    });\r\n\r\n                                Swal.fire(\r\n                                \'Deleted!\',\r\n                                \'Your file has been deleted.\',\r\n                                \'success\'\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL sweetalert2"}),": ",(0,s.jsx)(r.a,{href:"https://sweetalert2.github.io",children:"https://sweetalert2.github.io"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 44:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 44: Eliminar cliente"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-45-editar-cliente-i",children:"Viedo 45. Editar cliente I"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    <x-slot name="header">\r\n        <h2 class="font-semibold text-xl text-gray-800 leading-tight">\r\n            Clientes\r\n        </h2>\r\n    </x-slot>\r\n\r\n    <div id="app" >\r\n        <x-container class="py-8">\r\n            {{-- Crear cliente --}}\r\n            <x-form-section class="mb-12">\r\n                <x-slot name="title">\r\n                    Crea un nuevo cliente\r\n                </x-slot> \r\n                <x-slot name="description">\r\n                    Ingrese los datos solicitados para poder crear un nuevo cliente\r\n                </x-slot>\r\n\r\n            <div class="grid grid-cols-6 gap-6">\r\n                    <div class="col-span-6 sm:col-span-4">\r\n                        <div v-if="createForm.errors.length > 0">\r\n                            <div class="mb-4 bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded">\r\n                                <strong class="font-bold">Whoops!</strong>\r\n                                <span>\xa1Algo salio mal!</span>\r\n                                <ul>\r\n                                    <li v-for="error in createForm.errors">\r\n                                        @{{error}}\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <x-label>Nombre</x-label>\r\n                        <x-input v-model="createForm.name" type="text" class="w-full mt-1"></x-input> \r\n                    </div>\r\n                    <div class="col-span-6 sm:col-span-4">\r\n                        <x-label>URL de redirecci\xf3n</x-label>\r\n                        <x-input v-model="createForm.redirect" type="text" class="w-full mt-1"></x-input> \r\n                    </div>\r\n                </div>\r\n                    \r\n                <x-slot name="actions">\r\n                    <x-button v-on:click="store" v-bind:disabled="createForm.disabled">\r\n                        Crear\r\n                    </x-button>\r\n                </x-slot>          \r\n            </x-form-section>\r\n\r\n            {{-- Mostrar clientes --}}\r\n            <x-form-section v-if="clients.length > 0">\r\n                <x-slot name="title">\r\n                    Lista de clientes\r\n                </x-slot> \r\n                <x-slot name="description">\r\n                    Aqu\xed podr\xe1s encontrar todos los clientes que has agregado\r\n                </x-slot>\r\n\r\n                <div>\r\n                    <table class="text-gray-600">\r\n                        <thead class="border-b border-gray-300">\r\n                            <tr class="text-left">\r\n                                <th class="py-2 w-full">Nombre</th>\r\n                                <th class="py-2">Acci\xf3n</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class="divide-y divide-gray-300">\r\n                            <tr v-for="client in clients">\r\n                                <td class=" y-2">\r\n                                    @{{ client.name }}  {{-- El @ se escribe para evitar conflicto entre Blade y VUE --}}\r\n                                </td>\r\n                                <td class="flex divide-x divide-gray-300 py-2">\r\n                                    <a class="pr-2 hover:text-blue-600 font-semibold cursor-pointer" v-on:click="edit(client)">Editar</a>\r\n                                    <a class="pl-2 hover:text-red-600 font-semibold cursor-pointer" v-on:click="destroy(client)">Eliminar</a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>          \r\n            </x-form-section>\r\n        </x-container>\r\n\r\n        {{-- Modal --}}\r\n        <x-dialog-modal modal="editForm.open">\r\n            <x-slot name="title">\r\n                Editar cliente\r\n            </x-slot>\r\n            <x-slot name="content">\r\n                <div class="space-y-6">\r\n                    <div v-if="editForm.errors.length > 0">\r\n                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded">\r\n                            <strong class="font-bold">Whoops!</strong>\r\n                            <span>\xa1Algo salio mal!</span>\r\n                            <ul>\r\n                                <li v-for="error in editForm.errors">\r\n                                    @{{error}}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="">\r\n                        <x-label>Nombre</x-label>\r\n                        <x-input v-model="editForm.name" type="text" class="w-full mt-1"></x-input> \r\n                    </div>\r\n                    <div class="">\r\n                        <x-label>URL de redirecci\xf3n</x-label>\r\n                        <x-input v-model="editForm.redirect" type="text" class="w-full mt-1"></x-input> \r\n                    </div>\r\n                </div>\r\n            </x-slot>\r\n            <x-slot name="footer">\r\n                <button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm">\r\n                    Actualizar\r\n                </button>\r\n                <button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">\r\n                    Cancelar\r\n                </button>\r\n            </x-slot>\r\n        </x-dialog-modal>\r\n    </div>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data:{\r\n                    clients: [],\r\n                    createForm:{\r\n                        disabled: false,\r\n                        errors: [],\r\n                        name: null,\r\n                        redirect: null,\r\n                    },\r\n                    editForm:{\r\n                        open: false,\r\n                        disabled: false,\r\n                        errors: [],\r\n                        name: null,\r\n                        redirect: null,\r\n                    }\r\n                },\r\n                mounted(){\r\n                    this.getClients();\r\n                },\r\n                methods:{\r\n                    getClients(){\r\n                        axios.get(\'/oauth/clients\')\r\n                            .then(response =>{\r\n                                this.clients = response.data\r\n                            })\r\n                    },\r\n                    store(){\r\n                        this.createForm.disabled = true;\r\n                        axios.post(\'/oauth/clients\', this.createForm)\r\n                            .then(response => {\r\n                                this.createForm.name=null;\r\n                                this.createForm.redirect=null;\r\n                                this.createForm.errors=[];\r\n                                Swal.fire(\r\n                                    \'Creado con \xe9xito!\',\r\n                                    \'El cliente se cre\xf3 satisfactoriamente.\',\r\n                                    \'success\'\r\n                                )\r\n                                this.getClients();\r\n                                this.createForm.disabled = false;\r\n                            }).catch(error => {\r\n                                this.createForm.errors = _.flatten(_.toArray(error.response.data.errors));\r\n                                this.createForm.disabled = false;\r\n                            })\r\n                    },\r\n                    edit(client){\r\n                        this.editForm.open = true;\r\n                    },\r\n                    destroy(client){\r\n                        Swal.fire({\r\n                            title: \'Are you sure?\',\r\n                            text: "You won\'t be able to revert this!",\r\n                            icon: \'warning\',\r\n                            showCancelButton: true,\r\n                            confirmButtonColor: \'#3085d6\',\r\n                            cancelButtonColor: \'#d33\',\r\n                            confirmButtonText: \'Yes, delete it!\'\r\n                            }).then((result) => {\r\n                            if (result.isConfirmed) {\r\n\r\n                                axios.delete(\'/oauth/clients/\' + client.id)\r\n                                    .then(response => {\r\n                                        this.getClients();\r\n                                    });\r\n\r\n                                Swal.fire(\r\n                                \'Deleted!\',\r\n                                \'Your file has been deleted.\',\r\n                                \'success\'\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear componente ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\components\\dialog-modal.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'@props([\'modal\'])\r\n\r\n<div v-show="{{$modal}}" class="fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">\r\n    <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">\r\n        <div v-on:click="{{$modal}} = false" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>\r\n    \r\n        \x3c!-- This element is to trick the browser into centering the modal contents. --\x3e\r\n        <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>\r\n    \r\n        <div class="w-full inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">\r\n            <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">\r\n                <div class="sm:flex sm:items-start">\r\n                    <div class="w-full text-center sm:text-left">\r\n                        <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">\r\n                            {{$title}}\r\n                        </h3>\r\n                        <div class="mt-2">\r\n                            {{$content}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">\r\n                {{$footer}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["URL Tailwind Modals: ",(0,s.jsx)(r.a,{href:"https://tailwindui.com/components/application-ui/overlays/modals",children:"https://tailwindui.com/components/application-ui/overlays/modals"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 45:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 45: Editar cliente I"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-46-editar-cliente-ii",children:"Viedo 46. Editar cliente II"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <div id="app" >\r\n        <x-container class="py-8">\r\n            \u2261\r\n        </x-container>\r\n\r\n        {{-- Modal --}}\r\n        <x-dialog-modal modal="editForm.open">\r\n            <x-slot name="title">\r\n                Editar cliente\r\n            </x-slot>\r\n            <x-slot name="content">\r\n                <div class="space-y-6">\r\n                    <div v-if="editForm.errors.length > 0">\r\n                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded">\r\n                            <strong class="font-bold">Whoops!</strong>\r\n                            <span>\xa1Algo salio mal!</span>\r\n                            <ul>\r\n                                <li v-for="error in editForm.errors">\r\n                                    @{{error}}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="">\r\n                        <x-label>Nombre</x-label>\r\n                        <x-input v-model="editForm.name" type="text" class="w-full mt-1"></x-input> \r\n                    </div>\r\n                    <div class="">\r\n                        <x-label>URL de redirecci\xf3n</x-label>\r\n                        <x-input v-model="editForm.redirect" type="text" class="w-full mt-1"></x-input> \r\n                    </div>\r\n                </div>\r\n            </x-slot>\r\n            <x-slot name="footer">\r\n                <button type="button"\r\n                    v-on:click="update()"\r\n                    v-bind:disabled="editForm.disabled"\r\n                    class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50">\r\n                    Actualizar\r\n                </button>\r\n                <button v-on:click="editForm.open = false" type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">\r\n                    Cancelar\r\n                </button>\r\n            </x-slot>\r\n        </x-dialog-modal>\r\n    </div>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data:{\r\n                    clients: [],\r\n                    createForm:{\r\n                        \u2261\r\n                    },\r\n                    editForm:{\r\n                        open: false,\r\n                        disabled: false,\r\n                        errors: [],\r\n                        id: null,\r\n                        name: null,\r\n                        redirect: null,\r\n                    }\r\n                },\r\n                mounted(){\r\n                    this.getClients();\r\n                },\r\n                methods:{\r\n                    \u2261\r\n                    store(){\r\n                        \u2261\r\n                    },\r\n                    edit(client){\r\n                        this.editForm.open = true;\r\n                        this.editForm.errors = [];\r\n                        this.editForm.id = client.id;\r\n                        this.editForm.name = client.name;\r\n                        this.editForm.redirect = client.redirect;\r\n                    },\r\n                    update(){\r\n                        this.editForm.disabled = true;\r\n                        axios.put(\'/oauth/clients/\' + this.editForm.id, this.editForm)\r\n                            .then(response => {\r\n                                this.editForm.open = false;\r\n                                this.editForm.disabled = false;\r\n                                this.editForm.name = null;\r\n                                this.editForm.redirect = null;\r\n                                this.editForm.errors = [];\r\n                                Swal.fire(\r\n                                    \'\xa1Actualizado con \xe9xito!\',\r\n                                    \'El cliente se actualiz\xf3 satisfactoriamente.\',\r\n                                    \'success\'\r\n                                );\r\n                                this.getClients();\r\n                                \r\n                            }).catch(error => {\r\n                                this.editForm.errors = _.flatten(_.toArray(error.response.data.errors));\r\n                                this.editForm.disabled = false;\r\n                            })\r\n                    },\r\n                    destroy(client){\r\n                        \u2261\r\n                    }\r\n                }\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 46:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 46: Editar cliente II"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-47-credenciales-del-cliente",children:"Viedo 47. Credenciales del cliente"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\clients\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <div id="app" >\r\n        <x-container class="py-8">\r\n            {{-- Crear cliente --}}\r\n            <x-form-section class="mb-12">\r\n                \u2261          \r\n            </x-form-section>\r\n\r\n            {{-- Mostrar clientes --}}\r\n            <x-form-section v-if="clients.length > 0">\r\n                \u2261          \r\n            </x-form-section>\r\n        </x-container>\r\n\r\n        {{-- Modal edit --}}\r\n        <x-dialog-modal modal="editForm.open">\r\n            \u2261\r\n        </x-dialog-modal>\r\n\r\n        {{-- Modal show --}}\r\n        <x-dialog-modal modal="showClient.open">\r\n            <x-slot name="title">\r\n                Mostrar credenciales\r\n            </x-slot>\r\n\r\n            <x-slot name="content">\r\n                <div class="space-y-2">\r\n                <p>\r\n                    <span class="font-semibold">CLIENTE:</span>\r\n                    <span v-text="showClient.name"></span>\r\n                </p>\r\n                <p>\r\n                    <span class="font-semibold">CLIENTE_ID:</span>\r\n                    <span v-text="showClient.id"></span>\r\n                </p>\r\n                <p>\r\n                    <span class="font-semibold">CLIENTE_SECRET:</span>\r\n                    <span v-text="showClient.secret"></span>\r\n                </p>\r\n                </div>\r\n            </x-slot>\r\n\r\n            <x-slot name="footer">\r\n                <button v-on:click="showClient.open = false" type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50">\r\n                    Cancelar\r\n                </button>\r\n            </x-slot>\r\n        </x-dialog-modal>\r\n    </div>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data:{\r\n                    clients: [],\r\n                    showClient:{\r\n                        open: false,\r\n                        name: null,\r\n                        id: null,\r\n                        secret: null,\r\n                    },\r\n                    \u2261\r\n                },\r\n                mounted(){\r\n                    this.getClients();\r\n                },\r\n                methods:{\r\n                    getClients(){\r\n                        \u2261\r\n                    },            \r\n                    show(client){\r\n                        this.showClient.open = true;\r\n                        this.showClient.name = client.name;\r\n                        this.showClient.id = client.id;\r\n                        this.showClient.secret = client.secret;\r\n                    },\r\n                    store(){\r\n                        this.createForm.disabled = true;\r\n                        axios.post(\'/oauth/clients\', this.createForm)\r\n                            .then(response => {\r\n                                this.createForm.name=null;\r\n                                this.createForm.redirect=null;\r\n                                this.createForm.errors=[];\r\n                                /* Swal.fire(\r\n                                    \'Creado con \xe9xito!\',\r\n                                    \'El cliente se cre\xf3 satisfactoriamente.\',\r\n                                    \'success\'\r\n                                ) */\r\n                                this.show(response.data);\r\n                                this.getClients();\r\n                                this.createForm.disabled = false;\r\n                            }).catch(error => {\r\n                                this.createForm.errors = _.flatten(_.toArray(error.response.data.errors));\r\n                                this.createForm.disabled = false;\r\n                            })\r\n                    },\r\n                    \u2261\r\n                }\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 47:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 47: Credenciales del cliente"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-48-crear-nuevo-proyecto-para-un-cliente-externo",children:"Viedo 48. Crear nuevo proyecto para un cliente externo"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Crear nuevo proyecto Laravel:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ laravel new cliente2"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el archivo: ",(0,s.jsx)(r.strong,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"})," como administrador y en la parte final del archivo escribir.","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"127.0.0.1     cliente2.test\n"})}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Guardar y cerrar."}),"\n",(0,s.jsxs)(r.li,{children:["Abri el archivo de texto plano de configuraci\xf3n de Apache ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Ir al final del archivo y anexar lo siguiente:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conf",children:'<VirtualHost *>\r\n    DocumentRoot "C:\\xampp\\htdocs\\cursos\\24apirestful\\cliente2\\public"\r\n    ServerName cliente2.test\r\n    <Directory "C:\\xampp\\htdocs\\cursos\\24apirestful\\cliente2\\public">\r\n        Options All\r\n        AllowOverride All\r\n        Require all granted\r\n    </Directory>\r\n</VirtualHost>\n'})}),"\n"]}),"\n",(0,s.jsx)(r.li,{children:"Guardar y cerrar."}),"\n",(0,s.jsxs)(r.li,{children:["Reiniciar el servidor Apache.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota 1"}),": ahora podemos ejecutar nuestro proyecto local en el navegador introduciendo la siguiente direcci\xf3n: ",(0,s.jsx)(r.a,{href:"http://cliente2.test",children:"http://cliente2.test"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota 2"}),": En caso de que no funcione el enlace, cambiar en el archivo ",(0,s.jsx)(r.strong,{children:"C:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf"})," todos los segmentos de c\xf3digo:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conft",children:"<VirtualHost \\*>\n"})}),"\n","por:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-conf",children:"<VirtualHost *:80>\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el servicio ",(0,s.jsx)(r.strong,{children:"codersfree"})," en ",(0,s.jsx)(r.strong,{children:"cliente2\\config\\services.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nreturn [\r\n    \u2261\r\n    'codersfree' => [\r\n        'client_id' => env('CODERSFREE_CLIENT_ID'),\r\n        'client_secret' => env('CODERSFREE_CLIENT_SECRET')\r\n    ],\r\n];\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir las variables del servicio ",(0,s.jsx)(r.strong,{children:"codersfree"})," al final del archivo de variables de entorno ",(0,s.jsx)(r.strong,{children:"cliente2\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"CODERSFREE_CLIENT_ID=\r\nCODERSFREE_CLIENT_SECRET=\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"})," y crear el cliente:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Nombre: Cliente2"}),"\n",(0,s.jsxs)(r.li,{children:["URL de redirecci\xf3n: ",(0,s.jsx)(r.a,{href:"http://cliente2.test/callback",children:"http://cliente2.test/callback"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Copiar las credenciales de ",(0,s.jsx)(r.strong,{children:"Cliente2"})," y volver al nuevo proyecto ",(0,s.jsx)(r.strong,{children:"cliente2"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Pegar las credenciales que acabamos de copiar en las correspondiente al servicio ",(0,s.jsx)(r.strong,{children:"codersfree"})," en ",(0,s.jsx)(r.strong,{children:"cliente2\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"CODERSFREE_CLIENT_ID=94753fa7-3c7a-4aa6-a71a-5ec8bf202215\r\nCODERSFREE_CLIENT_SECRET=KL61T3ypp5qjE6iqaSFb2Vixvt1CmzhocuygziyS\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Para solventar problemas al ejecutar m\xe1s de un proyecto Laravel en el mismo servidor local, ejecutar en el proyecto ",(0,s.jsx)(r.strong,{children:"cliente2"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":cache"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 48:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 48: Crear nuevo proyecto para un cliente externo"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-49-instalar-laravel-breeze-en-el-cliente-2",children:"Viedo 49. Instalar laravel breeze en el cliente 2"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"cliente2"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear base de datos ",(0,s.jsx)(r.strong,{children:"cliente2"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la siguiente variable de entorno del archivo ",(0,s.jsx)(r.strong,{children:"cliente2\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"APP_NAME=Cliente2\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Instalara Laravel Breeze:\r\n",(0,s.jsx)(r.strong,{children:"URL Laravel Breeze"}),": ",(0,s.jsx)(r.a,{href:"https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS",children:"https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ composer require laravel/breeze --dev"}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan breeze",":install"]}),"\n",(0,s.jsx)(r.li,{children:"$ npm install"}),"\n",(0,s.jsx)(r.li,{children:"$ npm run dev"}),"\n",(0,s.jsx)(r.li,{children:"$ php artisan migrate"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"cliente2\\resources\\views\\dashboard.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    <x-slot name="header">\r\n        <h2 class="font-semibold text-xl text-gray-800 leading-tight">\r\n            {{ __(\'Dashboard\') }}\r\n        </h2>\r\n    </x-slot>\r\n\r\n    <div class="py-12">\r\n        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">\r\n            <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg">\r\n                <div class="p-6 bg-white border-b border-gray-200">\r\n                    Solicitar permisos\r\n                    <a href="{{route(\'redirect\')}}" class="ml-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">\r\n                        Redirigir\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</x-app-layout>\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Buttons Tailwind"}),": ",(0,s.jsx)(r.a,{href:"https://v1.tailwindcss.com/components/buttons",children:"https://v1.tailwindcss.com/components/buttons"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta ",(0,s.jsx)(r.strong,{children:"redirect"})," tipo ",(0,s.jsx)(r.strong,{children:"get"})," en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"cliente2\\routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('redirect', function () {\r\n    return \"Te has redirigido\";\r\n})->name('redirect');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 49:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 49: Instalar laravel breeze en el cliente 2"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-50-obtener-c\xf3digo-de-autorizaci\xf3n",children:"Viedo 50. Obtener c\xf3digo de autorizaci\xf3n"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"URL Documentaci\xf3n Laravel Passport"}),": ",(0,s.jsx)(r.a,{href:"https://laravel.com/docs/8.x/passport",children:"https://laravel.com/docs/8.x/passport"})]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"cliente2"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear controlador ",(0,s.jsx)(r.strong,{children:"OauthController"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":controller"," OauthController"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la ruta ",(0,s.jsx)(r.strong,{children:"redirect"})," tipo ",(0,s.jsx)(r.strong,{children:"get"})," en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"cliente2\\routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('redirect', [OauthController::class, 'redirect'])->name('redirect');\n"})}),"\n","Importar la definici\xf3n del controlador ",(0,s.jsx)(r.strong,{children:"OauthController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\OauthController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"redirect"})," en el controlador ",(0,s.jsx)(r.strong,{children:"cliente2\\app\\Http\\Controllers\\OauthController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function redirect(Request $request){\r\n    $request->session()->put('state', $state = Str::random(40));\r\n\r\n    $query = http_build_query([\r\n        'client_id' => config('services.codersfree.client_id'),\r\n        'redirect_uri' => route('callback'),\r\n        'response_type' => 'code',\r\n        'scope' => '',\r\n        'state' => $state,\r\n    ]);\r\n\r\n    return redirect('http://api.codersfree.test/oauth/authorize?'.$query);        \r\n}\n"})}),"\n","Importar la definici\xf3n del soporte ",(0,s.jsx)(r.strong,{children:"Str"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Str;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta ",(0,s.jsx)(r.strong,{children:"callback"})," tipo ",(0,s.jsx)(r.strong,{children:"get"})," en el archivo de rutas ",(0,s.jsx)(r.strong,{children:"cliente2\\routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('callback', [OauthController::class, 'callback'])->name('callback');\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Definir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"callback"})," en el controlador ",(0,s.jsx)(r.strong,{children:"cliente2\\app\\Http\\Controllers\\OauthController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function callback(Request $request){\r\n    return $request->all();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Publicar vistas de Laravel Passport:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan vendor",":publish"," --tag=passport-views"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\vendor\\passport\\authorize.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n    \u2261\r\n    <title>{{ config(\'app.name\') }} - Authorization</title>\r\n\r\n    \x3c!-- Styles --\x3e\r\n    {{-- <link href="{{ asset(\'/css/app.css\') }}" rel="stylesheet"> --}}\r\n    \x3c!-- CSS only --\x3e\r\n    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">\r\n\r\n    <style>\r\n        \u2261\r\n    </style>\r\n</head>\r\n<body class="passport-authorize">\r\n    \u2261\r\n</body>\r\n</html>\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL CDN Bootstrap"}),": ",(0,s.jsx)(r.a,{href:"https://getbootstrap.com",children:"https://getbootstrap.com"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 50:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 50: Obtener c\xf3digo de autorizaci\xf3n"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-51-solicitar-acees-token",children:"Viedo 51. Solicitar Acees Token"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"cliente2"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Redifinir el m\xe9todo ",(0,s.jsx)(r.strong,{children:"callback"})," en el controlador ",(0,s.jsx)(r.strong,{children:"cliente2\\app\\Http\\Controllers\\OauthController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function callback(Request $request){\r\n    $state = $request->session()->pull('state');\r\n\r\n    throw_unless(\r\n        strlen($state) > 0 && $state === $request->state,\r\n        InvalidArgumentException::class\r\n    );\r\n\r\n    $response = Http::asForm()->post('http://api.codersfree.test/oauth/token', [\r\n        'grant_type' => 'authorization_code',\r\n        'client_id' => config('services.codersfree.client_id'),\r\n        'client_secret' => config('services.codersfree.client_secret'),\r\n        'redirect_uri' => route('callback'),\r\n        'code' => $request->code,\r\n    ]);\r\n    return $response->json();\r\n}\n"})}),"\n","Importar la definici\xf3n del facade ",(0,s.jsx)(r.strong,{children:"Http"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\Http;\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Documentaci\xf3n Laravel Passport"}),": ",(0,s.jsx)(r.a,{href:"https://laravel.com/docs/8.x/passport",children:"https://laravel.com/docs/8.x/passport"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 51:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 51: Solicitar Acees Token"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-11-personal-access-token",children:"Secci\xf3n 11: Personal Access Token"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-52-crear-ruta",children:"Viedo 52. Crear ruta"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el controlador ",(0,s.jsx)(r.strong,{children:"TokenController"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":controller"," TokenController"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear ruta get api-tokens en ",(0,s.jsx)(r.strong,{children:"api.codersfree\\routes\\web.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('api-tokens', [TokenController::class, 'index'])->name('tokens.index');\n"})}),"\n","Importar el controlador ",(0,s.jsx)(r.strong,{children:"TokenController"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use App\\Http\\Controllers\\TokenController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el m\xe9todo ",(0,s.jsx)(r.strong,{children:"index"})," en el controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\TokenController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index(){\r\n    return view('tokens.index');\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear vista api.codersfree\\resources\\views\\tokens\\index.blade.php:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    <x-slot name="header">\r\n        <h2 class="font-semibold text-xl text-gray-800 leading-tight">\r\n            Api Tokens\r\n        </h2>\r\n    </x-slot>   \r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Agregar el men\xfa Api Tokens en la plantilla ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\layouts\\navigation.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<nav x-data="{ open: false }" class="bg-white border-b border-gray-100">\r\n    \x3c!-- Primary Navigation Menu --\x3e\r\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\r\n        <div class="flex justify-between h-16">\r\n            \u2261\r\n            \x3c!-- Settings Dropdown --\x3e\r\n            <div class="hidden sm:flex sm:items-center sm:ml-6">\r\n                <x-dropdown align="right" width="48">\r\n                    \u2261\r\n                    <x-slot name="content">\r\n                        {{-- Clientes --}}\r\n                        <x-dropdown-link :href="route(\'clients.index\')">\r\n                            Clientes\r\n                        </x-dropdown-link>\r\n\r\n                        {{-- Api Tokens --}}\r\n                        <x-dropdown-link :href="route(\'tokens.index\')">\r\n                            Api Tokens\r\n                        </x-dropdown-link>\r\n\r\n                        \x3c!-- Authentication --\x3e\r\n                        \u2261\r\n                    </x-slot>\r\n                </x-dropdown>\r\n            </div>\r\n\r\n            \x3c!-- Hamburger --\x3e\r\n            \u2261\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- Responsive Navigation Menu --\x3e\r\n    <div :class="{\'block\': open, \'hidden\': ! open}" class="hidden sm:hidden">\r\n        \u2261\r\n        \x3c!-- Responsive Settings Options --\x3e\r\n        <div class="pt-4 pb-1 border-t border-gray-200">\r\n            \u2261\r\n            <div class="mt-3 space-y-1">\r\n                {{-- Clientes --}}\r\n                <x-responsive-nav-link :href="route(\'clients.index\')">\r\n                    Clientes\r\n                </x-responsive-nav-link>\r\n                \r\n                {{-- Api Tokens --}}\r\n                <x-responsive-nav-link :href="route(\'tokens.index\')">\r\n                    Api Tokens\r\n                </x-responsive-nav-link>\r\n\r\n                \x3c!-- Authentication --\x3e\r\n                \u2261\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nav>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 52:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 52: Crear ruta"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-53-generar-access-token",children:"Viedo 53. Generar Access Token"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\tokens\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <div id="app">\r\n        <x-container class="py-8">\r\n            <x-form-section class="mb-12">\r\n                <x-slot name="title">\r\n                    Access Token\r\n                </x-slot>\r\n                <x-slot name="description">\r\n                    Aqu\xed podr\xe1s generar un Access Token\r\n                </x-slot>\r\n\r\n                <div class="grid grid-cols-6 gap-6">\r\n                    <div class="col-span-6 sm:cok-span-4">                        \r\n                        <div v-if="form.errors.length > 0"\r\n                            class="mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">\r\n                            <strong class="font-bold">Whoops!</strong>\r\n                            <span>\xa1Algo salio mal!</span>\r\n                            <ul>\r\n                                <li v-for="error in form.errors">\r\n                                    @{{ error }}\r\n                                </li>\r\n                            </ul>\r\n                        </div>                       \r\n                        <x-label>\r\n                            Nombre\r\n                        </x-label>\r\n                        <x-input v-model="form.name" type="text" class="w-full mt-1"/>\r\n                    </div>\r\n                </div>\r\n\r\n                <x-slot name="actions">\r\n                    <x-button v-on:click="store" v-bind:disabled="form.disabled">\r\n                        Crear\r\n                    </x-button>\r\n                </x-slot>\r\n            </x-form-section>\r\n        </x-container>\r\n    </div>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data: {\r\n                    form: {\r\n                        name: \'\',\r\n                        errors: [],\r\n                        disabled: false,\r\n                    },\r\n                },\r\n                methods: {\r\n                    store(){\r\n                        this.form.disabled = true;\r\n                        axios.post(\'/oauth/personal-access-tokens\', this.form)\r\n                            .then(response => {\r\n                                this.form.name = \'\';\r\n                                this.form.errors = [];\r\n                                this.form.disabled = false;\r\n                            }).catch(error => {\r\n                                this.form.errors = _.flatten(_.toArray(error.response.data.errors));\r\n                                this.form.disabled = false;\r\n                            })\r\n                    }\r\n                },\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar un cliente de tipo personal:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan passport",":client"," --personal","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["What should we name the personal access client? [Laravel Personal Access Client]: ",(0,s.jsx)(r.strong,{children:"(ENTER)"})]}),"\n",(0,s.jsx)(r.li,{children:"Recuperar las credenciales:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Personal access client created successfully.\r\nClient ID: 94774625-6389-4b9d-9889-bc36d32fe1f8\r\nClient secret: rL74WnIH8UX7YUzmEZbPe6nu1B9eWyu4Cj6Kj2iE\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota"}),": No es estrictamente necesario almacenar estas credenciales, ya que el proyecto las tomar\xe1 por defecto."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 53:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 53: Generar Access Token"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-54-mostrar-access-token",children:"Viedo 54. Mostrar Access Token"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\tokens\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <div id="app">\r\n        <x-container class="py-8">\r\n            {{-- Crear Access Token --}}\r\n            <x-form-section class="mb-12">\r\n                \u2261\r\n            </x-form-section>\r\n\r\n            {{-- Mostrar Access Token --}}\r\n            <x-form-section v-if="tokens.length > 0">\r\n\r\n                <x-slot name="title">\r\n                    Lista de Access Token\r\n                </x-slot>\r\n\r\n                <x-slot name="description">\r\n                    Aqu\xed podr\xe1s encontrar todos los Access Token creados\r\n                </x-slot>\r\n\r\n                <div>\r\n                    <table class="text-gray-600">\r\n                        <thead class="border-b border-gray-300">\r\n                            <tr class="text-left">\r\n                                <th class="py-2 w-full">Nombre</th>\r\n                                <th class="py-2">Acci\xf3n</th>\r\n                            </tr>\r\n                        </thead>\r\n\r\n                        <tbody class="divide-y divide-gray-300">\r\n                            <tr v-for="token in tokens">\r\n                                <td class="py-2">\r\n                                    @{{ token.name }}\r\n                                </td>\r\n\r\n                                <td class="flex divide-x divide-gray-300 py-2">\r\n                                    <a v-on:click="{{-- show(token) --}}" class="pr-2 hover:text-green-600 font-semibold cursor-pointer">\r\n                                        Ver\r\n                                    </a>\r\n\r\n                                    <a v-on:click="{{-- edit(token) --}}" class="px-2 hover:text-blue-600 font-semibold cursor-pointer">\r\n                                        Editar\r\n                                    </a>\r\n\r\n                                    <a class="pl-2 hover:text-red-600 font-semibold cursor-pointer"\r\n                                        v-on:click="revoke(token)">\r\n                                        Eliminar\r\n                                    </a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </x-form-section>\r\n        </x-container>\r\n    </div>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data: {\r\n                    tokens: [],\r\n                    form: {\r\n                        name: \'\',\r\n                        errors: [],\r\n                        disabled: false,\r\n                    },\r\n                },\r\n                mounted(){\r\n                    this.getTokens();\r\n                },\r\n                methods: {\r\n                    getTokens(){\r\n                        \u2261\r\n                    },\r\n                    store(){\r\n                        this.form.disabled = true;\r\n                        axios.post(\'/oauth/personal-access-tokens\', this.form)\r\n                            .then(response => {\r\n                                this.form.name = \'\';\r\n                                this.form.errors = [];\r\n                                this.form.disabled = false;\r\n                                this.getTokens();\r\n                            }).catch(error => {\r\n                                this.form.errors = _.flatten(_.toArray(error.response.data.errors));\r\n                                this.form.disabled = false;\r\n                            })\r\n                    },\r\n                    revoke(token){\r\n                        Swal.fire({\r\n                            title: \'Are you sure?\',\r\n                            text: "You won\'t be able to revert this!",\r\n                            icon: \'warning\',\r\n                            showCancelButton: true,\r\n                            confirmButtonColor: \'#3085d6\',\r\n                            cancelButtonColor: \'#d33\',\r\n                            confirmButtonText: \'Yes, delete it!\'\r\n                        }).then((result) => {\r\n                            if (result.isConfirmed) {\r\n                                axios.delete(\'/oauth/personal-access-tokens/\' + token.id)\r\n                                    .then(response => {\r\n                                        this.getTokens();\r\n                                    });\r\n                                Swal.fire(\r\n                                    \'Deleted!\',\r\n                                    \'Your file has been deleted.\',\r\n                                    \'success\'\r\n                                )\r\n                            }\r\n                        })\r\n                    },\r\n                },\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 54:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 54: Mostrar Access Token"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-55-mostrar-acces-token-ii",children:"Viedo 55. Mostrar Acces token II"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\tokens\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <div id="app">\r\n        <x-container class="py-8">\r\n            {{-- Crear Access Token --}}\r\n            <x-form-section class="mb-12">\r\n                \u2261\r\n            </x-form-section>\r\n\r\n            {{-- Mostrar Access Token --}}\r\n            <x-form-section v-if="tokens.length > 0">\r\n\r\n                <x-slot name="title">\r\n                    Lista de Access Token\r\n                </x-slot>\r\n\r\n                <x-slot name="description">\r\n                    Aqu\xed podr\xe1s encontrar todos los Access Token creados\r\n                </x-slot>\r\n\r\n                <div>\r\n                    <table class="text-gray-600">\r\n                        <thead class="border-b border-gray-300">\r\n                            <tr class="text-left">\r\n                                <th class="py-2 w-full">Nombre</th>\r\n                                <th class="py-2">Acci\xf3n</th>\r\n                            </tr>\r\n                        </thead>\r\n\r\n                        <tbody class="divide-y divide-gray-300">\r\n                            <tr v-for="token in tokens">\r\n                                <td class="py-2">\r\n                                    @{{ token.name }}\r\n                                </td>\r\n\r\n                                <td class="flex divide-x divide-gray-300 py-2">\r\n                                    <a v-on:click="show(token)" class="pr-2 hover:text-green-600 font-semibold cursor-pointer">\r\n                                        Ver\r\n                                    </a>\r\n\r\n                                    <a class="pl-2 hover:text-red-600 font-semibold cursor-pointer"\r\n                                        v-on:click="revoke(token)">\r\n                                        Eliminar\r\n                                    </a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </x-form-section>\r\n        </x-container>\r\n\r\n        {{-- Modal show --}}\r\n        <x-dialog-modal modal="showToken.open">\r\n            <x-slot name="title">\r\n                Mostrar access token\r\n            </x-slot>\r\n\r\n            <x-slot name="content">\r\n                <div class="space-y-2 overflow-auto">\r\n                    <p>\r\n                        <span class="font-semibold">Access Token: </span>\r\n                        <span v-text="showToken.id"></span>\r\n                    </p>         \r\n                </div>\r\n            </x-slot>\r\n\r\n            <x-slot name="footer">\r\n                <button v-on:click="showToken.open = false" type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50">\r\n                    Cancelar\r\n                </button>\r\n            </x-slot>\r\n        </x-dialog-modal>\r\n    </div>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data: {\r\n                    \u2261\r\n                    showToken: {\r\n                        open: false,\r\n                        id: \'\'\r\n                    }\r\n                },\r\n                mounted(){\r\n                    this.getTokens();\r\n                },\r\n                methods: {\r\n                    getTokens(){\r\n                        \u2261\r\n                    },\r\n                    show(token){\r\n                        this.showToken.open = true;\r\n                        this.showToken.id = token.id;\r\n                    },\r\n                    store(){\r\n                        \u2261\r\n                    },\r\n                    revoke(token){\r\n                       \u2261\r\n                    },\r\n                },\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 55:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 55: Mostrar Acces token II"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-12-scopes",children:"Secci\xf3n 12: Scopes"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-56-proteger-rutas-por-scopes",children:"Viedo 56. Proteger rutas por scopes"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"boot"})," del provider ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Providers\\AuthServiceProvider.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function boot()\r\n{\r\n    \u2261\r\n    // Establecer los permisos de los tokens\r\n    Passport::tokensCan([\r\n        'create-post' => 'Crear un post',\r\n        'read-post' => 'Leer un post',\r\n        'update-post' => 'Actualziar un post',\r\n        'delete-post' => 'Eliminar un post'\r\n    ]);\r\n\r\n    // Permitir lectura a los post por defecto en todos los permisos\r\n    Passport::setDefaultScope([\r\n        'read-post'\r\n    ]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Con la intenci\xf3n de proteger las rutas, registrar los middelware de Laravel Passport en el kernel ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Kernel.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nuse Laravel\\Passport\\Http\\Middleware\\CheckScopes;\r\nuse Laravel\\Passport\\Http\\Middleware\\CheckForAnyScope;\r\n\r\nclass Kernel extends HttpKernel\r\n{\r\n    \u2261\r\n    protected $routeMiddleware = [\r\n        \u2261\r\n        'scopes' => CheckScopes::class,\r\n        'scope' => CheckForAnyScope::class,\r\n    ];\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Proteger las rutas en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"__construct"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function __construct(){\r\n    $this->middleware('auth:api')->except(['index', 'show']);\r\n    $this->middleware('scopes:read-post')->only(['index', 'show']);\r\n    $this->middleware('scopes:create-post')->only(['store']);\r\n    $this->middleware('scopes:update-post')->only(['update']);\r\n    $this->middleware('scopes:delete-post')->only(['destroy']);\r\n}\r\n\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 56:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 56: Proteger rutas por scopes"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-57-asignar-scopes-a-token-i",children:"Viedo 57. Asignar scopes a token I"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar la vista ",(0,s.jsx)(r.strong,{children:"api.codersfree\\resources\\views\\tokens\\index.blade.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<x-app-layout>\r\n    \u2261\r\n    <div id="app">\r\n        <x-container class="py-8">\r\n            {{-- Crear Access Token --}}\r\n            <x-form-section class="mb-12">\r\n                \u2261\r\n                <div class="grid grid-cols-6 gap-6">\r\n                    <div class="col-span-6 sm:cok-span-4">                        \r\n                        <div v-if="form.errors.length > 0"\r\n                            class="mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">\r\n                            <strong class="font-bold">Whoops!</strong>\r\n                            <span>\xa1Algo salio mal!</span>\r\n                            <ul>\r\n                                <li v-for="error in form.errors">\r\n                                    @{{ error }}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <x-label>\r\n                                Nombre\r\n                            </x-label>\r\n                            <x-input v-model="form.name" type="text" class="w-full mt-1"/>\r\n                        </div>\r\n                        <div v-if="scopes.length > 0">\r\n                            <x-label>Scopes</x-label>\r\n                            <div v-for="scope in scopes">\r\n                                <input type="checkbox" name="scopes" :value="scope.id" v-model="form.scopes">@{{scope.id}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \u2261\r\n            </x-form-section>\r\n\r\n            {{-- @{{form.scopes}} --}}\r\n\r\n            {{-- Mostrar Access Token --}}\r\n            <x-form-section v-if="tokens.length > 0">\r\n                \u2261\r\n            </x-form-section>\r\n        </x-container>\r\n\r\n        {{-- Modal show --}}\r\n        <x-dialog-modal modal="showToken.open">\r\n            \u2261\r\n        </x-dialog-modal>\r\n    </div>\r\n\r\n    @push(\'js\')\r\n        <script>\r\n            new Vue({\r\n                el: "#app",\r\n                data: {\r\n                    tokens: [],\r\n                    scopes: [],\r\n                    form: {\r\n                        name: \'\',\r\n                        scopes: [],\r\n                        errors: [],\r\n                        disabled: false,\r\n                    },\r\n                    \u2261\r\n                },\r\n                mounted(){\r\n                    this.getTokens();\r\n                    this.getScopes();\r\n                },\r\n                methods: {\r\n                    getScopes(){\r\n                        axios.get(\'/oauth/scopes\')\r\n                            .then(response => {\r\n                                this.scopes = response.data;\r\n                            });\r\n                    },\r\n                    getTokens(){\r\n                        \u2261\r\n                    },\r\n                    show(token){\r\n                        \u2261\r\n                    },\r\n                    store(){\r\n                        this.form.disabled = true;\r\n                        axios.post(\'/oauth/personal-access-tokens\', this.form)\r\n                            .then(response => {\r\n                                this.form.name = \'\';\r\n                                this.form.errors = [];\r\n                                this.form.scopes = [];\r\n                                this.form.disabled = false;\r\n                                this.getTokens();\r\n                            }).catch(error => {\r\n                                this.form.errors = _.flatten(_.toArray(error.response.data.errors));\r\n                                this.form.disabled = false;\r\n                            })\r\n                    },\r\n                    revoke(token){\r\n                        \u2261\r\n                    },\r\n                },\r\n            });\r\n        <\/script>\r\n    @endpush\r\n</x-app-layout>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 57:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 57: Asignar scopes a token I"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-58-asignar-scopes-a-token-ii",children:"Viedo 58. Asignar scopes a token II"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto cliente ",(0,s.jsx)(r.strong,{children:"codersfree"}),":"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"setAccessToken"})," del trait ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Traits\\token.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function setAccessToken($user, $service){\r\n    $response = Http::withHeaders([\r\n        'Accept' => 'application/json'\r\n    ])->post('http://api.codersfree.test/oauth/token', [\r\n        'grant_type' => 'password',\r\n        'client_id' => config('services.codersfree.client_id'),\r\n        'client_secret' => config('services.codersfree.client_secret'),\r\n        'username' => request('email'),\r\n        'password' => request('password'),\r\n        /* 'scope' => 'create-post read-post update-post delete-post' */\r\n        /* Como en la l\xednea comentada anteriormente incluimos todos los alcances del scope */\r\n        /* la l\xednea siguiente es equivalente a la anterior comentada */\r\n        'scope' => '*'\r\n    ]);\r\n\r\n    $access_token = $response->json();\r\n\r\n    $user->accessToken()->create([\r\n        'service_id' => $service['data']['id'],\r\n        'access_token' => $access_token['access_token'],\r\n        'refresh_token' => $access_token['refresh_token'],\r\n        'expires_at' => now()->addSecond($access_token['expires_in'])\r\n    ]);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar el m\xe9tod ",(0,s.jsx)(r.strong,{children:"resolveAuthorization"})," del controlador ",(0,s.jsx)(r.strong,{children:"codersfree\\app\\Http\\Controllers\\Controller.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function resolveAuthorization(){\r\n    if(auth()->user()->accessToken->expires_at <= now()){\r\n        $response = Http::withHeaders([\r\n            'Accept' => 'application/json'\r\n        ])->post('http://api.codersfree.test/oauth/token', [\r\n            'grant_type' => 'refresh_token',\r\n            'refresh_token' => auth()->user()->accessToken->refresh_token,\r\n            'client_id' => config('services.codersfree.client_id'),\r\n            'client_secret' => config('services.codersfree.client_secret'),\r\n            'scope' => 'create-post read-post update-post delete-post'\r\n        ]);\r\n\r\n        $access_token = $response->json();\r\n\r\n        auth()->user()->accessToken->update([\r\n            'access_token' => $access_token['access_token'],\r\n            'refresh_token' => $access_token['refresh_token'],\r\n            'expires_at' => now()->addSecond($access_token['expires_in'])\r\n        ]);           \r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"cliente2"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Modificar le m\xe9todo ",(0,s.jsx)(r.strong,{children:"redirect"})," del controlador ",(0,s.jsx)(r.strong,{children:"cliente2\\app\\Http\\Controllers\\OauthController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function redirect(Request $request){\r\n    \r\n    $request->session()->put('state', $state = Str::random(40));\r\n\r\n    $query = http_build_query([\r\n        'client_id' => config('services.codersfree.client_id'),\r\n        'redirect_uri' => route('callback'),\r\n        'response_type' => 'code',\r\n        'scope' => 'create-post read-post update-post delete-post',\r\n        'state' => $state,\r\n    ]);\r\n    return redirect('http://api.codersfree.test/oauth/authorize?'.$query);        \r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 58:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 58: Asignar scopes a token II"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"secci\xf3n-13-roles-y-permisos",children:"Secci\xf3n 13: Roles y permisos"}),"\n",(0,s.jsx)(r.h3,{id:"viedo-59-instalar-laravel-permission",children:"Viedo 59. Instalar Laravel Permission"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL Documentaci\xf3n Laravel Permission"}),": ",(0,s.jsx)(r.a,{href:"https://spatie.be/docs/laravel-permission/v4/introduction",children:"https://spatie.be/docs/laravel-permission/v4/introduction"})]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Instalar Laravel Permission:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ composer require spatie/laravel-permission"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Publicar la configuraci\xf3n y las migraciones de Laravel Permission:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan vendor",":publish",' --provider="Spatie\\Permission\\PermissionServiceProvider"']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Limpiar la configuraci\xf3n del cache:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan optimize",":clear","\r\n\xf3"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":clear"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar las migraciones:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ php artisan migrate"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Incorporar el trait HasRoles al modelo ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Models\\User.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\u2261\r\nuse Spatie\\Permission\\Traits\\HasRoles;\r\n\r\nclass User extends Authenticatable\r\n{\r\n    use HasApiTokens, HasFactory, Notifiable, ApiTrait, HasRoles;\r\n    \u2261\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 59:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 59: Instalar Laravel Permission"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-60-asignar-roles-y-permisos",children:"Viedo 60. Asignar roles y permisos"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Crear seeder ",(0,s.jsx)(r.strong,{children:"RoleSeeder"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":seeder"," RoleSeeder"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Implementar el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\seeders\\RoleSeeder.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function run()\r\n{\r\n    $admin = Role::create(['name' => 'admin']);\r\n\r\n    $create_post = Permission::create(['name' => 'create posts']);\r\n    $edit_post = Permission::create(['name' => 'edit posts']);\r\n    $delete_post = Permission::create(['name' => 'delete posts']);\r\n\r\n    $admin->syncPermissions([\r\n        $create_post,\r\n        $edit_post,\r\n        $delete_post\r\n    ]);\r\n}\n"})}),"\n","Importar los modelos ",(0,s.jsx)(r.strong,{children:"Role"})," y ",(0,s.jsx)(r.strong,{children:"Permission"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Spatie\\Permission\\Models\\Role;\r\nuse Spatie\\Permission\\Models\\Permission;\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Asignar rol ",(0,s.jsx)(r.strong,{children:"admin"})," al usuario principal en el m\xe9todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\seeders\\UserSeeder.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function run()\r\n{\r\n    $user = User::create([\r\n        'name' => 'Pedro Baz\xf3',\r\n        'email' => 'bazo.pedro@gmail.com',\r\n        'password' => bcrypt('12345678')\r\n    ]);\r\n\r\n    $user->assignRole('admin');\r\n    User::factory(99)->create();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Incluir el seeder ",(0,s.jsx)(r.strong,{children:"RoleSeeder"})," en el m\xe8todo ",(0,s.jsx)(r.strong,{children:"run"})," del seeder ",(0,s.jsx)(r.strong,{children:"api.codersfree\\database\\seeders\\DatabaseSeeder.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function run()\r\n{\r\n    Storage::deleteDirectory('posts');\r\n    Storage::makeDirectory('posts');\r\n\r\n    $this->call(RoleSeeder::class);\r\n    $this->call(UserSeeder::class);\r\n\r\n    Category::factory(4)->create();\r\n    Tag::factory(8)->create();\r\n\r\n    $this->call(PostSeeder::class);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Ejecutar nuevamente las migraciones junto a los seeders:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan migrate",":fresh"," --seed"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota"}),": al generar nuevamente las migraciones, el cliente tipo ",(0,s.jsx)(r.strong,{children:"password"})," y el cliente tipo ",(0,s.jsx)(r.strong,{children:"personal"})," ya no existen, por tal motivo se tendr\xe1n que crear nuevamente."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar nuevamente el cliente tipo ",(0,s.jsx)(r.strong,{children:"password"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan passport",":client"," --password"]}),"\n",(0,s.jsxs)(r.li,{children:["What should we name the password grant client? [Laravel Password Grant Client]: ",(0,s.jsx)(r.strong,{children:"(ENTER)"})]}),"\n",(0,s.jsxs)(r.li,{children:["Which user provider should this client use to retrieve users? [users]:\r\n[0] users: ",(0,s.jsx)(r.strong,{children:"(ENTER)"})]}),"\n",(0,s.jsxs)(r.li,{children:["Credenciales:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Password grant client created successfully.\r\nClient ID: 9477eda1-dc56-4076-a5ec-104ac46e8a65\r\nClient secret: 5qLzeZgFi6pDr8GMAUvriYVVaFTnoQe7Gz0rvXdQ\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Pasar las credenciales al proyecto ",(0,s.jsx)(r.strong,{children:"codersfree"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Reemplazar las credenciales del archivo de variables de entorno ",(0,s.jsx)(r.strong,{children:"codersfree\\.env"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'CODERSFREE_CLIENT_ID="9477eda1-dc56-4076-a5ec-104ac46e8a65"\r\nCODERSFREE_CLIENT_SECRET="5qLzeZgFi6pDr8GMAUvriYVVaFTnoQe7Gz0rvXdQ"\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Poner en cache los datos de configuraci\xf3n:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":cache"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Reestablecer las migraciones:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan migrate",":fresh"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Generar nuevamente el cliente tipo ",(0,s.jsx)(r.strong,{children:"personal"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan passport",":client"," --personal"]}),"\n",(0,s.jsxs)(r.li,{children:["What should we name the personal access client? [Laravel Personal Access Client]: ",(0,s.jsx)(r.strong,{children:"(ENTER)"})]}),"\n",(0,s.jsxs)(r.li,{children:["Credenciales:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Personal access client created successfully.\r\nClient ID: 9477f0e3-bbc5-417b-896b-485e2eba2196\r\nClient secret: MkZvYFoijbDZRma7HcpDeO0ukOARnYgQTQhSjddo\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota"}),": No es estrictamente necesario almacenar estas credenciales, ya que el proyecto las tomar\xe1 por defecto."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 60:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 60: Asignar roles y permisos"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-61-proteger-rutas-con-roles-y-policies",children:"Viedo 61. Proteger rutas con roles y policies"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Abrir el proyecto ",(0,s.jsx)(r.strong,{children:"api.codersfree"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Con la finalidad de proteger las rutas modificar el m\xe9tdo ",(0,s.jsx)(r.strong,{children:"__construct"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function __construct(){\r\n    $this->middleware('auth:api')->except(['index', 'show']);\r\n    $this->middleware('scopes:read-post')->only(['index', 'show']);\r\n    $this->middleware(['scopes:create-post', 'can:create posts'])->only(['store']);\r\n    $this->middleware(['scopes:update-post', 'can:edit posts'])->only(['update']);\r\n    $this->middleware(['scopes:delete-post', 'can:delete posts'])->only(['destroy']);\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Crear el policy ",(0,s.jsx)(r.strong,{children:"PostPolicy"})," para el modelo ",(0,s.jsx)(r.strong,{children:"Post"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan make",":policy"," PostPolicy --model=Post"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Redefinir el policy ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Policies\\PostPolicy.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n\r\nnamespace App\\Policies;\r\n\r\nuse App\\Models\\Post;\r\nuse App\\Models\\User;\r\nuse Illuminate\\Auth\\Access\\HandlesAuthorization;\r\n\r\nclass PostPolicy\r\n{\r\n    use HandlesAuthorization;\r\n\r\n    public function author(User $user, Post $post)\r\n    {\r\n        if ($post->user_id == $user->id) {\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Proteger los m\xe9todos ",(0,s.jsx)(r.strong,{children:"update"})," y ",(0,s.jsx)(r.strong,{children:"destroy"})," del controlador ",(0,s.jsx)(r.strong,{children:"api.codersfree\\app\\Http\\Controllers\\Api\\PostController.php"}),":","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"\u2261\r\nclass PostController extends Controller\r\n{\r\n    \u2261\r\n    public function update(Request $request, Post $post)\r\n    {\r\n        // Para proteger esta ruta se invoca al m\xe9todo authorize y se le\r\n        // pasa como par\xe1metros el nombre del policy y la instancia del post\r\n        $this->authorize('authos', $post);\r\n\r\n        $request->validate([\r\n            'name' => 'required|max:255',\r\n            'slug' => 'required|max:255|unique:posts,slug,' . $post->id,\r\n            'extract' => 'required',\r\n            'body' => 'required',\r\n            'category_id' => 'required|exists:categories,id',\r\n            'user_id' => 'required|exists:users,id'\r\n        ]);\r\n        $post->update($request->all());\r\n        return PostResource::make($post);\r\n    }\r\n    \u2261\r\n    public function destroy(Post $post)\r\n    {\r\n        // Para proteger esta ruta se invoca al m\xe9todo authorize y se le\r\n        // pasa como par\xe1metros el nombre del policy y la instancia del post\r\n        $this->authorize('authos', $post);\r\n        \r\n        $post->delete();\r\n        return PostResource::make($post);\r\n    }\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Commit Video 61:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 61: Proteger rutas con roles y policies"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"viedo-62-despedida-del-curso",children:"Viedo 62. Despedida del curso"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Contenido"}),": comentarios de lo aprendido durante el curso."]}),"\n"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Commit Video 62:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ git add ."}),"\n",(0,s.jsx)(r.li,{children:'$ git commit -m "Video 62: Despedida del curso"'}),"\n",(0,s.jsx)(r.li,{children:"$ git push -u origin main"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"repositorios-de-interes",children:"Repositorios de interes:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/coders-free/api.codersfree",children:"https://github.com/coders-free/api.codersfree"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/coders-free/cliente1",children:"https://github.com/coders-free/cliente1"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"para-limpiar-configuraci\xf3n-y-reestablecer-el-cache",children:"Para limpiar configuraci\xf3n y reestablecer el cache:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":clear"]}),"\n",(0,s.jsxs)(r.li,{children:["$ php artisan config",":cache"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"en-caso-de-no-permitir-compilar-algo",children:"En caso de no permitir compilar algo:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"$ php artisan clear-compiled"}),"\n",(0,s.jsx)(r.li,{children:"$ composer dumpautoload"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"peticiones-http-que-puede-responder-el-proyecto-apirestful",children:"Peticiones http que puede responder el proyecto api.restful:"}),"\n",(0,s.jsx)(r.h3,{id:"usuarios",children:"Usuarios:"}),"\n",(0,s.jsx)(r.h4,{id:"registrar-un-usuario",children:"Registrar un usuario:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/register",children:"http://api.codersfree.test/v1/register"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Field name: name                      | Value: Pedro Baz\xf3\r\nField name: email                     | Value: bazo.pedro@gmail.com\r\nField name: password                  | Value: 12345678\r\nField name: password_confirmation     | Value: 12345678\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"login-a-un-usuario",children:"Login a un usuario:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/login",children:"http://api.codersfree.test/v1/login"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Field name: email       | Value: bazo.pedro@gmail.com\r\nField name: password    | Value: 12345678\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"permisos-de-accesos",children:"Permisos de accesos:"}),"\n",(0,s.jsx)(r.h4,{id:"obtener-token-para-un-usuario",children:"Obtener token para un usuario:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/oauth/token",children:"http://api.codersfree.test/oauth/token"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Field name: grant_type      | Value: password\r\nField name: client_id       | Value: {Client ID del cliente tipo password}\r\nField name: client_secret   | Value: {Client secret del cliente tipo password}\r\nField name: username        | Value: {email del usuario a autorizar}\r\nField name: password        | Value: {clave del usuario}\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-autorizaci\xf3n-por-cliente-tipo-password",children:"Obtener autorizaci\xf3n por cliente tipo password:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept          | Value: application/json\r\nHeader: Authorization   | Value: Bearer + (un espacio) + (access_token de la petici\xf3n anterior sin las comillas dobles)\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"categor\xedas",children:"Categor\xedas:"}),"\n",(0,s.jsx)(r.h4,{id:"obtener-las-categor\xedas",children:"Obtener las categor\xedas:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories",children:"http://api.codersfree.test/v1/categories"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"crear-una-categor\xeda",children:"Crear una categor\xeda:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories",children:"http://api.codersfree.test/v1/categories"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Field name: name    | Value: Categor\xeda de prueba\r\nField name: slug    | Value: categoria-de-prueba\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-una-categor\xeda",children:"Obtener una categor\xeda:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/%7Bid%7D",children:"http://api.codersfree.test/v1/categories/{id}"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"actualizar-una-categor\xeda",children:"Actualizar una categor\xeda:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: PUT"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/%7Bid%7D",children:"http://api.codersfree.test/v1/categories/{id}"})]}),"\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form-encode:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Field name: name  | Value: Categor\xeda de prueba actualizada\r\nField name: slug  | Value: categoria-de-prueba-actualizada\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"eliminar-una-categor\xeda",children:"Eliminar una categor\xeda:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: DELETE"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/%7Bid%7D",children:"http://api.codersfree.test/v1/categories/{id}"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts",children:"Obtener las categor\xedas y su relaci\xf3n con los posts:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?included=posts",children:"http://api.codersfree.test/v1/categories?included=posts"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",children:"Obtener las categor\xedas y su relaci\xf3n con los posts y el autor del post:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?included=posts.user",children:"http://api.codersfree.test/v1/categories?included=posts.user"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts",children:"Obtener una categor\xeda y su relaci\xf3n con los posts:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/%7Bid%7D?included=posts",children:"http://api.codersfree.test/v1/categories/{id}?included=posts"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",children:"Obtener una categor\xeda y su relaci\xf3n con los posts y el autor del post:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories/1?included=posts.user",children:"http://api.codersfree.test/v1/categories/1?included=posts.user"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-las-categor\xedas-filtradas",children:"Obtener las categor\xedas filtradas:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?filter%5B%7BCampo1%7D%5D=%7BValor1%7D&filter%5B%7BCampo2%7D%5D=%7BValor2%7D",children:"http://api.codersfree.test/v1/categories?filter[{Campo1}]={Valor1}&filter[{Campo2}]={Valor2}"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-las-categor\xedas-ordenadas",children:"Obtener las categor\xedas ordenadas:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?sort=%7BCampo1,Campo2%7D",children:"http://api.codersfree.test/v1/categories?sort={Campo1,Campo2}"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Nota"}),": Las categor\xedas se ordenaran en orden ascendente, si se desea que se ordenen de manera descendente el campo debe ser precedido por el signo menos (-)."]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"obtener-las-categor\xedas-paginadas",children:"Obtener las categor\xedas paginadas:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/categories?perPage%7BRegistrosPorP%C3%A1gina%7D&page=%7BP%C3%A1gina%7D",children:"http://api.codersfree.test/v1/categories?perPage{RegistrosPorP\xe1gina}&page={P\xe1gina}"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"posts",children:"Posts"}),"\n",(0,s.jsx)(r.h4,{id:"obtener-los-posts",children:"Obtener los posts:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/posts",children:"http://api.codersfree.test/v1/posts"})]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Nota"}),": para relacionar, ordenar, filtrar y paginar es an\xe1logo a como se hace para las categor\xedas."]}),"\n",(0,s.jsx)(r.h4,{id:"registrar-un-post",children:"Registrar un post:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(r.li,{children:["URL: ",(0,s.jsx)(r.a,{href:"http://api.codersfree.test/v1/posts",children:"http://api.codersfree.test/v1/posts"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Body:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Form:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Field name: name        | Value: T\xedtulo de prueba\r\nField name: slug        | Value: titulo-de-prueba\r\nField name: extract     | Value: Cualquier cosa\r\nField name: body        | Value: Cualquier cosa\r\nField name: category_id | Value: 1\r\nField name: user_id     | Value: 1\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Headers:","\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>a});var s=n(6540);const i={},l=s.createContext(i);function o(e){const r=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(l.Provider,{value:r},e.children)}}}]);