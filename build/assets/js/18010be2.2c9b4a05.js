"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[4714],{6262:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var s=r(4848),a=r(8453);const i={title:"Laravel 8 - Laravel Passort",sidebar_label:"Laravel 8 - Laravel Passort",sidebar_position:97},l="Crear una API RESTful con Laravel Passport",o={id:"00laravel/cursos/laravel_passport",title:"Laravel 8 - Laravel Passort",description:"+ Documentaci\xf3n Laravel Passport",source:"@site/docs/00laravel/cursos/laravel_passport.md",sourceDirName:"00laravel/cursos",slug:"/00laravel/cursos/laravel_passport",permalink:"/documentos2024/docs/00laravel/cursos/laravel_passport",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/00laravel/cursos/laravel_passport.md",tags:[],version:"current",sidebarPosition:97,frontMatter:{title:"Laravel 8 - Laravel Passort",sidebar_label:"Laravel 8 - Laravel Passort",sidebar_position:97},sidebar:"tutorialSidebar",previous:{title:"Cursos Laravel",permalink:"/documentos2024/docs/category/cursos-laravel"},next:{title:"Laravel API RESTful",permalink:"/documentos2024/docs/00laravel/cursos/apirestfull"}},c={},d=[{value:"Creaci\xf3n del proyecto paso a paso:",id:"creaci\xf3n-del-proyecto-paso-a-paso",level:2},{value:"Fase de pruebas:",id:"fase-de-pruebas",level:2},{value:"Peticiones http que puede responder el proyecto api.restful:",id:"peticiones-http-que-puede-responder-el-proyecto-apirestful",level:2},{value:"Usuarios:",id:"usuarios",level:3},{value:"Registrar un usuario:",id:"registrar-un-usuario",level:4},{value:"Login a un usuario:",id:"login-a-un-usuario",level:4},{value:"Permisos de accesos:",id:"permisos-de-accesos",level:3},{value:"Obtener token para un usuario:",id:"obtener-token-para-un-usuario",level:4},{value:"Obtener autorizaci\xf3n por cliente tipo password:",id:"obtener-autorizaci\xf3n-por-cliente-tipo-password",level:4},{value:"Categor\xedas:",id:"categor\xedas",level:3},{value:"Obtener las categor\xedas:",id:"obtener-las-categor\xedas",level:4},{value:"Crear una categor\xeda:",id:"crear-una-categor\xeda",level:4},{value:"Obtener una categor\xeda:",id:"obtener-una-categor\xeda",level:4},{value:"Actualizar una categor\xeda:",id:"actualizar-una-categor\xeda",level:4},{value:"Eliminar una categor\xeda:",id:"eliminar-una-categor\xeda",level:4},{value:"Obtener las categor\xedas y su relaci\xf3n con los posts:",id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts",level:4},{value:"Obtener las categor\xedas y su relaci\xf3n con los posts y el autor del post:",id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",level:4},{value:"Obtener una categor\xeda y su relaci\xf3n con los posts:",id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts",level:4},{value:"Obtener una categor\xeda y su relaci\xf3n con los posts y el autor del post:",id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",level:4},{value:"Obtener las categor\xedas filtradas:",id:"obtener-las-categor\xedas-filtradas",level:4},{value:"Obtener las categor\xedas ordenadas:",id:"obtener-las-categor\xedas-ordenadas",level:4},{value:"Obtener las categor\xedas paginadas:",id:"obtener-las-categor\xedas-paginadas",level:4},{value:"Posts",id:"posts",level:3},{value:"Obtener los posts:",id:"obtener-los-posts",level:4},{value:"Registrar un post:",id:"registrar-un-post",level:4},{value:"Estandar para la entrega de endpoints en API RESTful",id:"estandar-para-la-entrega-de-endpoints-en-api-restful",level:2},{value:"Acceder a un recurso:",id:"acceder-a-un-recurso",level:3},{value:"Acceder a los recursos de un recurso:",id:"acceder-a-los-recursos-de-un-recurso",level:3},{value:"Usar versonamiento:",id:"usar-versonamiento",level:3},{value:"Uso de QueryString:",id:"uso-de-querystring",level:3},{value:"Header:",id:"header",level:3},{value:"Body:",id:"body",level:3},{value:"C\xf3digo de estado:",id:"c\xf3digo-de-estado",level:3},{value:"Uso de los m\xe9todos:",id:"uso-de-los-m\xe9todos",level:3}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"crear-una-api-restful-con-laravel-passport",children:"Crear una API RESTful con Laravel Passport"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://laravel.com/docs/8.x/passport",children:"Documentaci\xf3n Laravel Passport"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/petrix12/api_laravel_passport.git",children:"Repositorio"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"creaci\xf3n-del-proyecto-paso-a-paso",children:"Creaci\xf3n del proyecto paso a paso:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Crear proyecto en la p\xe1gina de ",(0,s.jsx)(n.a,{href:"https://github.com",children:"GitHub"})," con el nombre: ",(0,s.jsx)(n.strong,{children:"api_laravel_passport"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Ejemplo de la creaci\xf3n de una API en Laravel 8 usando Laravel Passport."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Public"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Crear proyecto para la API RESTful:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"laravel new 09api_laravel_passport\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"En la ubicaci\xf3n ra\xedz del proyecto en la terminal de la m\xe1quina local:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'git init\r\ngit add .\r\ngit commit -m "Proyecto en blanco"\r\ngit branch -M main\r\ngit remote add origin https://github.com/petrix12/api_laravel_passport.git\r\ngit push -u origin main\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Configurar las siguientes varialbles de entorno en ",(0,s.jsx)(n.strong,{children:".env"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:'APP_NAME="Ejemplo de API con Laravel Passport"\r\nAPP_URL=http://127.0.0.1:8000\r\nDB_DATABASE=pruebas_api\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Crear base de datos ",(0,s.jsx)(n.strong,{children:"pruebas_api"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Instalar Laravel Passport:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"composer require laravel/passport\r\nphp artisan migrate\r\nphp artisan passport:install\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Recuperar credenciales:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txt",children:"Personal access client created successfully.\r\nClient ID: 1\r\nClient secret: NDwt133ICMA9nS6IBNq0SQdFnVcu6bZ4pRecS5wo\r\nPassword grant client created successfully.\r\nClient ID: 2\r\nClient secret: GopgvFkvIBt5pJ0j4HJ9vxJWblMij4AL15mP3Gxb\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Agregar el trait ",(0,s.jsx)(n.strong,{children:"HasApiTokens"})," en el modelo ",(0,s.jsx)(n.strong,{children:"User"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"\u2261\r\nuse Laravel\\Passport\\HasApiTokens;\r\n\r\nclass User extends Authenticatable\r\n{\r\n    use ..., HasApiTokens;\r\n    \u2261\r\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nota"}),": en caso de estar presente en el modelo user la definici\xf3n de:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"use Laravel\\Sanctum\\HasApiTokens"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Reemplazar por la de Laravel Passport:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"use Laravel\\Passport\\HasApiTokens;"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Registrar ",(0,s.jsx)(n.strong,{children:"Laravel Passport"})," en el m\xe9todo ",(0,s.jsx)(n.strong,{children:"boot"})," del provider ",(0,s.jsx)(n.strong,{children:"AuthServiceProvider"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function boot()\r\n{\r\n    \u2261\r\n    if (! $this->app->routesAreCached()) {\r\n        Passport::routes();\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Importar la definici\xf3n de la clase ",(0,s.jsx)(n.strong,{children:"Passport"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use Laravel\\Passport\\Passport;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Modificar el archivo de configuraci\xf3n ",(0,s.jsx)(n.strong,{children:"config\\auth.php"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"\u2261\r\n'guards' => [\r\n    \u2261\r\n    'api' => [\r\n        'driver' => 'passport',\r\n        'provider' => 'users',\r\n    ],\r\n],\r\n\u2261\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Mover el archivo de rutas para API:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"De:   routes\\api.php"}),"\n",(0,s.jsx)(n.li,{children:"A:    routes\\api\\v1\\api.php"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Versionar la API modificando el m\xe9todo ",(0,s.jsx)(n.strong,{children:"boot"})," del provider ",(0,s.jsx)(n.strong,{children:"RouteServiceProvider"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function boot()\r\n{\r\n    \u2261\r\n    $this->routes(function () {\r\n        Route::prefix('api/v1')\r\n            ->middleware('api')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/api/v1/api.php'));\r\n        \u2261\r\n    });\r\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Cuando se cree la versi\xf3n ",(0,s.jsx)(n.strong,{children:"n"})," codificar as\xed:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function boot()\r\n{\r\n    \u2261\r\n    $this->routes(function () {\r\n        Route::prefix('api/v1')\r\n            ->middleware('api')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/api/v1/api.php'));\r\n        \u2261\r\n        Route::prefix('api/vn')\r\n            ->middleware('api')\r\n            ->namespace($this->namespace)\r\n            ->group(base_path('routes/api/vn/api.php'));\r\n        \u2261\r\n    });\r\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nota"}),": el archivo de rutas debe ubicarse en: routes\\api\\vn\\api.php"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Crear los siguientes controladores:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan make:controller LoginController\r\nphp artisan make:controller UserController\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Definir el m\xe9todo ",(0,s.jsx)(n.strong,{children:"login"})," del controlador ",(0,s.jsx)(n.strong,{children:"LoginController"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"***\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Importar la definici\xf3n del facade ",(0,s.jsx)(n.strong,{children:"Auth"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\Auth;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Definir el m\xe9todo ",(0,s.jsx)(n.strong,{children:"index"})," del controlador ",(0,s.jsx)(n.strong,{children:"UserController"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"***\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Importar la definici\xf3n del modelo ",(0,s.jsx)(n.strong,{children:"User"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use App\\Models\\User;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Para proteger nuestras rutas, modificar el archivo de rutas ",(0,s.jsx)(n.strong,{children:"routes\\api\\v1\\api.php"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"***\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Importar las siguientes definciones de controladores:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use App\\Http\\Controllers\\LoginController;\r\nuse App\\Http\\Controllers\\UserController;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"NO ESTA CULMINADO"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"***\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Commit Video 01:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'git add .\r\ngit commit -m "Actualizaci\xf3n X"\r\ngit push -u origin main\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"fase-de-pruebas",children:"Fase de pruebas:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Descomentar la instrucci\xf3n por defecto que trae el m\xe9todo ",(0,s.jsx)(n.strong,{children:"run"})," de ",(0,s.jsx)(n.strong,{children:"database\\seeders\\DatabaseSeeder.php"})," para crear 10 usuarios de prueba:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function run()\r\n{\r\n    \\App\\Models\\User::factory(10)->create();\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Correr las migraciones junto a los seeders:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate --seed\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Realizar petici\xf3n HTTP:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://127.0.0.1:8000/api/v1/users/login",children:"http://127.0.0.1:8000/api/v1/users/login"})]}),"\n",(0,s.jsxs)(n.li,{children:["Body:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n    "email": "hhammes@example.com",\r\n    "password": "password"\r\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Respuesta para usuario autenticado"}),":","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n    "user": {\r\n        "id": 1,\r\n        "name": "Romaine Runte",\r\n        "email": "hhammes@example.com",\r\n        "email_verified_at": "2021-09-27T20:34:10.000000Z",\r\n        "created_at": "2021-09-27T20:34:10.000000Z",\r\n        "updated_at": "2021-09-27T20:34:10.000000Z"\r\n    },\r\n    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIxIiwianRpIjoiYjM0ODE0ZjU2NDgzYTQ2Mjg4NzNhNjYzNDk2OGNjMGVjN2JkNWQ0MGEzM2RlNDkxYTIwZjE3Y2NkYWJjNzVhNjhjMjAzNzNhZTJiY2ViYzMiLCJpYXQiOjE2MzI3NzU3MjQuMTUyNDIzLCJuYmYiOjE2MzI3NzU3MjQuMTUyNDI4LCJleHAiOjE2NjQzMTE3MjQuMTQxMjA3LCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.D-PRgxvLgAR7TbuDxsoODPu_JkkRH6-F2-wYCVp48kevBIfm1d9GoGZs5R1MncpOHlPwoJiA8qSowJc-m62JmehTO16Xpui_CCzV3pxyhtxcHz2-_a3kZkBwtVESbpvV1oMlEQj85XpJDROj8DkCX9FwlnzdyB-BqcgEloKxsQII6OXjZ5Z0A-b-I-V02QxvhUZ2U4t8Ryq-fpOijDAT1FML0RxaqWJ9DoQCFd73EFeW9A0DDs6tqGz3U2eEl35-jU8i5KxsNI7HqtaAqt3b4TqwVf6gKKI0mepuF_blI7DJxHJDLKxPYwJ1FxPD2lelsJZDhX6pzQV57I8j6EyrRz_Tl0p8vuboBsUuM28QMyThn8l1hVkMMPec_sZFmRgo6kA7n0mVl7Jg-qUCoYUFF5uRqce3_TkSbwDnYs_VhIyJSKmzh-hq0Gc3iGeu4QMLuIzY8qn9rOFk9Mrj5F1W2zi3p9iFPjMR04t5vJXAAKFUbY1-Wkiy0JlQDWBT3ql1yHHP3ZMF-GcIjrUr0sEAfIaaQBUXS9TbBXoshmJM3imsOyAAqRb4wG2pQCzDC6NnCaENaAXGHivI6Xe6zozy-tjpWrNpzUI1UKvnIwgVMf7I5JTmdio8D2rzDsOkN_Cn2h-Vuvl9rPw4nynbVy-0roTzTMyVARx9O_utgxmijR8"\r\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Respuesta para usuario no autenticado"}),":","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n    "message": "Usuario y/o contrase\xf1a invalido."\r\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"sss"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"peticiones-http-que-puede-responder-el-proyecto-apirestful",children:"Peticiones http que puede responder el proyecto api.restful:"}),"\n",(0,s.jsx)(n.h3,{id:"usuarios",children:"Usuarios:"}),"\n",(0,s.jsx)(n.h4,{id:"registrar-un-usuario",children:"Registrar un usuario:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://api.codersfree.test/v1/register",children:"http://api.codersfree.test/v1/register"})]}),"\n",(0,s.jsxs)(n.li,{children:["Body:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Form:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Field name: name                      | Value: Pedro Baz\xf3\r\nField name: email                     | Value: bazo.pedro@gmail.com\r\nField name: password                  | Value: 12345678\r\nField name: password_confirmation     | Value: 12345678\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"login-a-un-usuario",children:"Login a un usuario:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://api.codersfree.test/v1/login",children:"http://api.codersfree.test/v1/login"})]}),"\n",(0,s.jsxs)(n.li,{children:["Body:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Form:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Field name: email       | Value: bazo.pedro@gmail.com\r\nField name: password    | Value: 12345678\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"permisos-de-accesos",children:"Permisos de accesos:"}),"\n",(0,s.jsx)(n.h4,{id:"obtener-token-para-un-usuario",children:"Obtener token para un usuario:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://api.codersfree.test/oauth/token",children:"http://api.codersfree.test/oauth/token"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Body:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Form:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Field name: grant_type      | Value: password\r\nField name: client_id       | Value: {Client ID del cliente tipo password}\r\nField name: client_secret   | Value: {Client secret del cliente tipo password}\r\nField name: username        | Value: {email del usuario a autorizar}\r\nField name: password        | Value: {clave del usuario}\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-autorizaci\xf3n-por-cliente-tipo-password",children:"Obtener autorizaci\xf3n por cliente tipo password:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept          | Value: application/json\r\nHeader: Authorization   | Value: Bearer + (un espacio) + (access_token de la petici\xf3n anterior sin las comillas dobles)\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"categor\xedas",children:"Categor\xedas:"}),"\n",(0,s.jsx)(n.h4,{id:"obtener-las-categor\xedas",children:"Obtener las categor\xedas:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://api.codersfree.test/v1/categories",children:"http://api.codersfree.test/v1/categories"})]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"crear-una-categor\xeda",children:"Crear una categor\xeda:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://api.codersfree.test/v1/categories",children:"http://api.codersfree.test/v1/categories"})]}),"\n",(0,s.jsxs)(n.li,{children:["Body:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Form:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Field name: name    | Value: Categor\xeda de prueba\r\nField name: slug    | Value: categoria-de-prueba\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-una-categor\xeda",children:"Obtener una categor\xeda:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://api.codersfree.test/v1/categories/%7Bid%7D",children:"http://api.codersfree.test/v1/categories/{id}"})]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"actualizar-una-categor\xeda",children:"Actualizar una categor\xeda:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: PUT"}),"\n",(0,s.jsxs)(n.li,{children:["URL: ",(0,s.jsx)(n.a,{href:"http://api.codersfree.test/v1/categories/%7Bid%7D",children:"http://api.codersfree.test/v1/categories/{id}"})]}),"\n",(0,s.jsxs)(n.li,{children:["Body:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Form-encode:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Field name: name  | Value: Categor\xeda de prueba actualizada\r\nField name: slug  | Value: categoria-de-prueba-actualizada\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"eliminar-una-categor\xeda",children:"Eliminar una categor\xeda:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: DELETE"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories/{id}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts",children:"Obtener las categor\xedas y su relaci\xf3n con los posts:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories?included=posts\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-las-categor\xedas-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",children:"Obtener las categor\xedas y su relaci\xf3n con los posts y el autor del post:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories?included=posts.user\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts",children:"Obtener una categor\xeda y su relaci\xf3n con los posts:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories/{id}?included=posts\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-una-categor\xeda-y-su-relaci\xf3n-con-los-posts-y-el-autor-del-post",children:"Obtener una categor\xeda y su relaci\xf3n con los posts y el autor del post:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories/1?included=posts.user\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-las-categor\xedas-filtradas",children:"Obtener las categor\xedas filtradas:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories?filter[{Campo1}]={Valor1}&filter[{Campo2}]={Valor2}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-las-categor\xedas-ordenadas",children:"Obtener las categor\xedas ordenadas:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories?sort={Campo1,Campo2}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nota"}),": Las categor\xedas se ordenaran en orden ascendente, si se desea que se ordenen de manera descendente el campo debe ser precedido por el signo menos (-)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"obtener-las-categor\xedas-paginadas",children:"Obtener las categor\xedas paginadas:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/categories?perPage={RegistrosPorP\xe1gina}&page={P\xe1gina}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"posts",children:"Posts"}),"\n",(0,s.jsx)(n.h4,{id:"obtener-los-posts",children:"Obtener los posts:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: GET"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/posts\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Nota"}),": para relacionar, ordenar, filtrar y paginar es an\xe1logo a como se hace para las categor\xedas."]}),"\n",(0,s.jsx)(n.h4,{id:"registrar-un-post",children:"Registrar un post:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\xe9todo: POST"}),"\n",(0,s.jsxs)(n.li,{children:["URL:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://api.codersfree.test/v1/posts\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Body:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Form:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Field name: name        | Value: T\xedtulo de prueba\r\nField name: slug        | Value: titulo-de-prueba\r\nField name: extract     | Value: Cualquier cosa\r\nField name: body        | Value: Cualquier cosa\r\nField name: category_id | Value: 1\r\nField name: user_id     | Value: 1\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Headers:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Header: Accept  | Value: application/json\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"estandar-para-la-entrega-de-endpoints-en-api-restful",children:"Estandar para la entrega de endpoints en API RESTful"}),"\n",(0,s.jsx)(n.h3,{id:"acceder-a-un-recurso",children:"Acceder a un recurso:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"| Acci\xf3n                            | M\xe9todo    | Endpoint                              |\r\n| --------------------------------- | --------- | ------------------------------------- |\r\n| Obtener todos los recursos        | GET       | https:\\\\\\\\{dominio}\\\\{recurso}        |\r\n| Obtener el recursoscon id=i       | GET       | https:\\\\\\\\{dominio}\\\\{recurso}\\\\{i}   |\r\n| Enviar un recurso                 | POST      | https:\\\\\\\\{dominio}\\\\{recurso}        |\r\n| Actualizar el recurso con id=i    | PUT       | https:\\\\\\\\{dominio}\\\\{recurso}\\\\{i}   |\r\n| Eliminar el recurso con id=i      | DELETE    | https:\\\\\\\\{dominio}\\\\{recurso}\\\\{i}   |\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nota 1"}),": El recurso debe escribirse en plurar y preferiblemente en ingl\xe9s."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nota 2"}),": Cuando se intenta actualizar un recurso con el m\xe9todo ",(0,s.jsx)(n.strong,{children:"PUT"}),", en caso de no existir, se deber\xe1 crear."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"acceder-a-los-recursos-de-un-recurso",children:"Acceder a los recursos de un recurso:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"| Acci\xf3n                            | M\xe9todo    | Endpoint                                                                  |\r\n| --------------------------------- | --------- | ------------------------------------------------------------------------- |\r\n| Obtener todos los subrecursos del recurso con id=i    | GET   | https:\\\\\\\\{dominio}\\\\{recurso}\\\\{i}\\\\{subrecursos}        |\r\n| Obtener el subrecurso con id=j del recurso con id=i   | GET   | https:\\\\\\\\{dominio}\\\\recurso}\\\\{i}\\\\{subrecursos}\\\\{j}    |\n"})}),"\n",(0,s.jsx)(n.h3,{id:"usar-versonamiento",children:"Usar versonamiento:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https:\\\\\\\\{dominio}\\\\v{n}\\\\{recurso} \r\nn: n\xfamero de versi\xf3n.\n"})}),"\n",(0,s.jsx)(n.h3,{id:"uso-de-querystring",children:"Uso de QueryString:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Para ordenar:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https:\\\\\\\\{dominio}\\\\{recurso}?sort={campo}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Para filtrar:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https:\\\\\\\\{dominio}\\\\{recurso}?filter[{campo}]={valor}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Para p\xe1ginar:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https:\\\\\\\\{dominio}\\\\{recurso}?perPage={registros por p\xe1gina}&page={p\xe1gina}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"header",children:"Header:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["En la cabecera de la petici\xf3n http debe viajar:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Tokens o credenciales"}),"\n",(0,s.jsx)(n.li,{children:"Formato en que se desea recibir las respuestas"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"body",children:"Body:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["En el cuerpo de la petici\xf3n http debe viajar:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Los datos para crear un registro."}),"\n",(0,s.jsx)(n.li,{children:"Los datos para actualizar un registro."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"c\xf3digo-de-estado",children:"C\xf3digo de estado:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"20X: respuesta satisfactoria."}),"\n",(0,s.jsx)(n.li,{children:"400: solicitud incorrecta."}),"\n",(0,s.jsx)(n.li,{children:"401: acceso no autorizado."}),"\n",(0,s.jsx)(n.li,{children:"403: acceso autorizado pero no tiene permisos."}),"\n",(0,s.jsx)(n.li,{children:"404: recurso no autorizado o no fue encontrado."}),"\n",(0,s.jsx)(n.li,{children:"500: error interno del servidor."}),"\n",(0,s.jsx)(n.li,{children:"504: No puede responder a tiempo a la petici\xf3n."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"uso-de-los-m\xe9todos",children:"Uso de los m\xe9todos:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GET: Solicitar registros."}),"\n",(0,s.jsx)(n.li,{children:"POST: Crear registro."}),"\n",(0,s.jsx)(n.li,{children:"PUT: Actualizar todos los campos de un registro y si no existe, entonces crearlo."}),"\n",(0,s.jsx)(n.li,{children:"PATH: Actualizar parcialmente un registro."}),"\n",(0,s.jsx)(n.li,{children:"DELETE: eliminar un registro."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var s=r(6540);const a={},i=s.createContext(a);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);