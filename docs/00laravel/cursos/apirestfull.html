<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-00laravel/cursos/apirestfull" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Laravel API RESTful | Documentación S++</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://petrix12.github.io/documentos2024/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://petrix12.github.io/documentos2024/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://petrix12.github.io/documentos2024/docs/00laravel/cursos/apirestfull"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Laravel API RESTful | Documentación S++"><meta data-rh="true" name="description" content="+ URL Curso//www.udemy.com/course/aprende-a-crear-una-api-restful-con-laravel"><meta data-rh="true" property="og:description" content="+ URL Curso//www.udemy.com/course/aprende-a-crear-una-api-restful-con-laravel"><link data-rh="true" rel="icon" href="/documentos2024/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://petrix12.github.io/documentos2024/docs/00laravel/cursos/apirestfull"><link data-rh="true" rel="alternate" href="https://petrix12.github.io/documentos2024/docs/00laravel/cursos/apirestfull" hreflang="es"><link data-rh="true" rel="alternate" href="https://petrix12.github.io/documentos2024/docs/00laravel/cursos/apirestfull" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/documentos2024/blog/rss.xml" title="Documentación S++ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentos2024/blog/atom.xml" title="Documentación S++ Atom Feed"><link rel="stylesheet" href="/documentos2024/assets/css/styles.222c2b53.css">
<script src="/documentos2024/assets/js/runtime~main.9d9660b7.js" defer="defer"></script>
<script src="/documentos2024/assets/js/main.4ad4a03f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentos2024/"><div class="navbar__logo"><img src="/documentos2024/img/logo.svg" alt="Logo S++" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentos2024/img/logo.svg" alt="Logo S++" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Doc S++</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/documentos2024/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/documentos2024/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/petrix12" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-label="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs barra lateral" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentos2024/docs/intro">Apuntes Soluciones++</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/documentos2024/docs/category/laravel">Laravel</a><button aria-label="Collapse sidebar category &#x27;Laravel&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentos2024/docs/00laravel/laravel11">Apuntes de Laravel 11</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentos2024/docs/00laravel/laravel10">Apuntes de Laravel 10</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentos2024/docs/00laravel/test">Test en Laravel</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/documentos2024/docs/category/proyectos-laravel">Proyectos Laravel</a><button aria-label="Expand sidebar category &#x27;Proyectos Laravel&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/documentos2024/docs/category/cursos-laravel">Cursos Laravel</a><button aria-label="Collapse sidebar category &#x27;Cursos Laravel&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/documentos2024/docs/00laravel/cursos/laravel_passport">Laravel 8 - Laravel Passort</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentos2024/docs/00laravel/cursos/apirestfull">Laravel API RESTful</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/documentos2024/docs/00laravel/cursos/laravel8_aws">Laravel 8 en AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/documentos2024/docs/00laravel/cursos/laravel8">Curso de Laravel 8</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/vue">Vue</a><button aria-label="Expand sidebar category &#x27;Vue&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/react">React</a><button aria-label="Expand sidebar category &#x27;React&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/arquitecturas">Arquitecturas</a><button aria-label="Expand sidebar category &#x27;Arquitecturas&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/docker">Docker</a><button aria-label="Expand sidebar category &#x27;Docker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/desarrollo-web">Desarrollo web</a><button aria-label="Expand sidebar category &#x27;Desarrollo web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/blockchain">Blockchain</a><button aria-label="Expand sidebar category &#x27;Blockchain&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/estilos">Estilos</a><button aria-label="Expand sidebar category &#x27;Estilos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/vsc">VSC</a><button aria-label="Expand sidebar category &#x27;VSC&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/google-chrome">Google Chrome</a><button aria-label="Expand sidebar category &#x27;Google Chrome&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/otros">Otros</a><button aria-label="Expand sidebar category &#x27;Otros&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentos2024/docs/category/apuntes-en-revisión">Apuntes en revisión</a><button aria-label="Expand sidebar category &#x27;Apuntes en revisión&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página de Inicio" class="breadcrumbs__link" href="/documentos2024/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/documentos2024/docs/category/laravel"><span itemprop="name">Laravel</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/documentos2024/docs/category/cursos-laravel"><span itemprop="name">Cursos Laravel</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Laravel API RESTful</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Aprende a crear una API RESTful con Laravel</h1>
<ul>
<li><strong>URL Curso</strong>: <a href="https://www.udemy.com/course/aprende-a-crear-una-api-restful-con-laravel" target="_blank" rel="noopener noreferrer">https://www.udemy.com/course/aprende-a-crear-una-api-restful-con-laravel</a></li>
<li><strong>URL Repositorio API</strong>: <a href="https://github.com/coders-free/api.codersfree" target="_blank" rel="noopener noreferrer">https://github.com/coders-free/api.codersfree</a></li>
<li><strong>URL Repositorio Cliente</strong>: <a href="https://github.com/coders-free/cliente1" target="_blank" rel="noopener noreferrer">https://github.com/coders-free/cliente1</a></li>
<li><strong>URL Repositorio General</strong>: <a href="https://github.com/petrix12/apirestful_laravel8" target="_blank" rel="noopener noreferrer">https://github.com/petrix12/apirestful_laravel8</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="antes-de-iniciar">Antes de iniciar:<a href="#antes-de-iniciar" class="hash-link" aria-label="Enlace directo al Antes de iniciar:" title="Enlace directo al Antes de iniciar:">​</a></h2>
<ol>
<li>Crear proyecto en la página de <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub</a> con el nombre: <strong>apirestful_laravel8</strong>.<!-- -->
<ul>
<li><strong>Description</strong>: Proyecto para seguir el curso de Aprende a crear una API RESTful con Laravel, de Víctor Arana en Udemy</li>
<li><strong>Public</strong>.</li>
</ul>
</li>
<li>En la ubicación raíz del proyecto en la terminal de la máquina local:<!-- -->
<ul>
<li>$ git init</li>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 00: Antes de iniciar&quot;</li>
<li>$ git branch -M main</li>
<li>$ git remote add origin <a href="https://github.com/petrix12/apirestful_laravel8.git" target="_blank" rel="noopener noreferrer">https://github.com/petrix12/apirestful_laravel8.git</a></li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-01-introducción">Sección 01: Introducción<a href="#sección-01-introducción" class="hash-link" aria-label="Enlace directo al Sección 01: Introducción" title="Enlace directo al Sección 01: Introducción">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-01-qué-es-una-api-restful">Viedo 01. ¿Qué es una API RESTful?<a href="#viedo-01-qué-es-una-api-restful" class="hash-link" aria-label="Enlace directo al Viedo 01. ¿Qué es una API RESTful?" title="Enlace directo al Viedo 01. ¿Qué es una API RESTful?">​</a></h3>
<ul>
<li><strong>Contenido</strong>: explicación de una API RESTful.</li>
</ul>
<ol>
<li>Commit Video 01:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 01: ¿Qué es una API RESTful?&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-02-programas-necesarios">Viedo 02. Programas necesarios<a href="#viedo-02-programas-necesarios" class="hash-link" aria-label="Enlace directo al Viedo 02. Programas necesarios" title="Enlace directo al Viedo 02. Programas necesarios">​</a></h3>
<ol>
<li>Programas requeridos:<!-- -->
<ul>
<li><a href="https://www.apachefriends.org/es/download.html" target="_blank" rel="noopener noreferrer">XAMPP</a></li>
<li><a href="https://nodejs.org" target="_blank" rel="noopener noreferrer">Node Js</a></li>
<li><a href="https://getcomposer.org" target="_blank" rel="noopener noreferrer">Composer</a></li>
<li><a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">Visual Studio Code</a></li>
<li><a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">Git</a></li>
<li><a href="https://dev.mysql.com/downloads/workbench" target="_blank" rel="noopener noreferrer">MySQL Workbench</a></li>
</ul>
</li>
<li>Otra opción podría ser Laragon ya que instala todos los programas mencionados anteriormente:<!-- -->
<ul>
<li><a href="https://laragon.org/download/index.html" target="_blank" rel="noopener noreferrer">Laragon</a>
<ul>
<li>Laragon Full (64-bit): Apache 2.4, Nginx, MySQL 5.7, PHP 7.4, Redis, Memcached, Node.js 14, npm, git, bitmana…</li>
</ul>
</li>
</ul>
</li>
<li>Instalar el instalador de Laravel:<!-- -->
<ul>
<li>$ composer global require laravel/installer</li>
</ul>
</li>
<li>Commit Video 02:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 02: Programas necesarios&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-03-repositorio-del-curso">Viedo 03. Repositorio del curso<a href="#viedo-03-repositorio-del-curso" class="hash-link" aria-label="Enlace directo al Viedo 03. Repositorio del curso" title="Enlace directo al Viedo 03. Repositorio del curso">​</a></h3>
<ul>
<li><strong>Repositorio</strong>: api.codersfree: <a href="https://github.com/coders-free/api.codersfree" target="_blank" rel="noopener noreferrer">https://github.com/coders-free/api.codersfree</a></li>
</ul>
<ol>
<li>Commit Nota 03:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 03: Repositorio del curso&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-02-configuración">Sección 02: Configuración<a href="#sección-02-configuración" class="hash-link" aria-label="Enlace directo al Sección 02: Configuración" title="Enlace directo al Sección 02: Configuración">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-04-creación-del-proyecto">Viedo 04. Creación del proyecto<a href="#viedo-04-creación-del-proyecto" class="hash-link" aria-label="Enlace directo al Viedo 04. Creación del proyecto" title="Enlace directo al Viedo 04. Creación del proyecto">​</a></h3>
<ul>
<li><strong>URL</strong>: <a href="https://codersfree.com/blog/como-generar-un-dominio-local-en-windows-xampp" target="_blank" rel="noopener noreferrer">https://codersfree.com/blog/como-generar-un-dominio-local-en-windows-xampp</a></li>
</ul>
<ol>
<li>Crear proyecto para la API RESTful:<!-- -->
<ul>
<li>$ laravel new api.codersfree</li>
</ul>
</li>
<li>Abrir el archivo: <strong>C:\Windows\System32\drivers\etc\hosts</strong> como administrador y en la parte final del archivo escribir.<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">127.0.0.1     api.codersfree.test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Guardar y cerrar.</li>
<li>Abri el archivo de texto plano de configuración de Apache <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong>.</li>
<li>Ir al final del archivo y anexar lo siguiente:<!-- -->
<ul>
<li>Si nunca has creado un virtual host agregar:<!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	DocumentRoot &quot;C:\xampp\htdocs&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	ServerName localhost</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Nota</strong>: Esta estructura se agrega una única vez.</li>
</ul>
</li>
<li>Luego agregar:<!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	DocumentRoot &quot;C:\xampp\htdocs\cursos\24apirestful\api.codersfree\public&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	ServerName api.codersfree.test</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	&lt;Directory &quot;C:\xampp\htdocs\cursos\24apirestful\api.codersfree\public&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		Options All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		AllowOverride All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		Require all granted</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	&lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Guardar y cerrar.</li>
<li>Reiniciar el servidor Apache.<!-- -->
<ul>
<li><strong>Nota 1</strong>: ahora podemos ejecutar nuestro proyecto local en el navegador introduciendo la siguiente dirección: <a href="http://api.codersfree.test" target="_blank" rel="noopener noreferrer">http://api.codersfree.test</a></li>
<li><strong>Nota 2</strong>: En caso de que no funcione el enlace, cambiar en el archivo <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong> todos los segmentos de código:<!-- -->
<div class="language-conft codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conft codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost \*&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->por:<!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *:80&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Commit Video 04:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 04: Creación del proyecto&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-05-configurando-archivo-de-rutas">Viedo 05. Configurando archivo de rutas<a href="#viedo-05-configurando-archivo-de-rutas" class="hash-link" aria-label="Enlace directo al Viedo 05. Configurando archivo de rutas" title="Enlace directo al Viedo 05. Configurando archivo de rutas">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar el método <strong>boot</strong> del provider <strong>api.codersfree\app\Providers\RouteServiceProvider.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function boot()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;configureRateLimiting();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;routes(function () {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Route::prefix(&#x27;v1&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -&gt;middleware(&#x27;api&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -&gt;namespace($this-&gt;namespace)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -&gt;group(base_path(&#x27;routes/api-v1.php&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Route::middleware(&#x27;web&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -&gt;namespace($this-&gt;namespace)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -&gt;group(base_path(&#x27;routes/web.php&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Renombrar el archivo de rutas <strong>api.codersfree\routes\api.php</strong> a <strong>api.codersfree\routes\api-v1.php</strong>.</li>
<li>Commit Video 05:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 05: Configurando archivo de rutas&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-06-registro-de-usuarios">Viedo 06. Registro de usuarios<a href="#viedo-06-registro-de-usuarios" class="hash-link" aria-label="Enlace directo al Viedo 06. Registro de usuarios" title="Enlace directo al Viedo 06. Registro de usuarios">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Eliminar la ruta <strong>auth<!-- -->:sanctum</strong> del archivo de rutas <strong>api.codersfree\routes\api-v1.php</strong>.</li>
<li>Crear el controlador para registrar a los usuarios <strong>RegisterController</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:controller<!-- --> Api/RegisterController</li>
</ul>
</li>
<li>Crear ruta para el registro en el archivo de rutas <strong>api.codersfree\routes\api-v1.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::post(&#x27;register&#x27;, [RegisterController::class, &#x27;store&#x27;])-&gt;name(&#x27;api.v1.register&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del controlador <strong>RegisterController</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\Api\RegisterController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método <strong>store</strong> en el controlador <strong>api.codersfree\app\Http\Controllers\Api\RegisterController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|string|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;required|string|email|max:255|unique:users&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; &#x27;required|string|min:8|confirmed&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::create($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return response($user, 200);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del controlador <strong>User</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\User;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear la base de datos <strong>api.codersfree</strong> en nuestro adiministrador de bases de datos.</li>
<li>Ejecutar las migraciones:<!-- -->
<ul>
<li>$ php artisan migrate</li>
</ul>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/register" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/register</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<ul>
<li>Field name: name                      | Value: Pedro Bazó</li>
<li>Field name: email                     | Value: <a href="mailto:bazo.pedro@gmail.com" target="_blank" rel="noopener noreferrer">bazo.pedro@gmail.com</a></li>
<li>Field name: password                  | Value: 12345678</li>
<li>Field name: password_confirmation     | Value: 12345678</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe enviar el registro a la tabla <strong>users</strong>.</li>
</ul>
</li>
<li>Commit Video 06:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 06: Registro de usuarios&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-3-estructura-del-proyecto">Sección 3: Estructura del proyecto<a href="#sección-3-estructura-del-proyecto" class="hash-link" aria-label="Enlace directo al Sección 3: Estructura del proyecto" title="Enlace directo al Sección 3: Estructura del proyecto">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-07-maquetar-la-bbdd">Viedo 07. Maquetar la bbdd<a href="#viedo-07-maquetar-la-bbdd" class="hash-link" aria-label="Enlace directo al Viedo 07. Maquetar la bbdd" title="Enlace directo al Viedo 07. Maquetar la bbdd">​</a></h3>
<ol>
<li>Crear un nuevo modelo y un nuevo diagrama para el proyecto <strong>api.restful</strong> en MySQL Workbench.</li>
<li>Guardar el archivo como <strong>api.codersfree\api.restful.mwb</strong>.</li>
<li>Crear la entidad <strong>categories</strong> con los campos:<!-- -->
<ul>
<li>id</li>
<li>name</li>
<li>slug</li>
</ul>
</li>
<li>Crear la entidad <strong>posts</strong> con los campos:<!-- -->
<ul>
<li>id</li>
<li>name</li>
<li>slug</li>
<li>extract</li>
<li>body</li>
<li>status</li>
</ul>
</li>
<li>Crear la entidad <strong>users</strong> con los campos:<!-- -->
<ul>
<li>id</li>
<li>name</li>
<li>email</li>
<li>password</li>
</ul>
</li>
<li>Crear la entidad <strong>tags</strong> con los campos:<!-- -->
<ul>
<li>id</li>
<li>name</li>
<li>slug</li>
</ul>
</li>
<li>Generar relación 1<!-- -->:n<!-- --> entre <strong>categories</strong> y <strong>posts</strong>.</li>
<li>Generar relación 1<!-- -->:n<!-- --> entre <strong>users</strong> y <strong>posts</strong>.</li>
<li>Crear tabla <strong>post_tag</strong> para generar una relación de n<!-- -->:m<!-- --> entre <strong>posts</strong> y <strong>tags</strong>.</li>
<li>Generar relación 1<!-- -->:n<!-- --> entre <strong>posts</strong> y <strong>post_tag</strong>.</li>
<li>Generar relación 1<!-- -->:m<!-- --> entre <strong>tags</strong> y <strong>post_tag</strong>.</li>
<li>Renombrar todas las llaves foráneas para seguir las convenciones de Laravel.</li>
<li>Commit Video 07:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 07: Registro de usuarios&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-08-crear-el-modelo-físico">Viedo 08. Crear el modelo físico<a href="#viedo-08-crear-el-modelo-físico" class="hash-link" aria-label="Enlace directo al Viedo 08. Crear el modelo físico" title="Enlace directo al Viedo 08. Crear el modelo físico">​</a></h3>
<ol>
<li>Crear tabla <strong>image</strong> en el diagrama <strong>api.codersfree\api.restful.mwb</strong> con los campos:<!-- -->
<ul>
<li>id</li>
<li>url</li>
<li>imageable_id</li>
<li>imageable_type</li>
</ul>
</li>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Crear el modelo <strong>Category</strong> con sus migraciones:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:model<!-- --> Category -m</li>
</ul>
</li>
<li>Modificar el método <strong>up</strong> de la migración <strong>api.codersfree\database\migrations\2021_09_18_202750_create_categories_table.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Schema::create(&#x27;categories&#x27;, function (Blueprint $table) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;id();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;name&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;slug&#x27;)-&gt;unique();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;timestamps();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el modelo <strong>Post</strong> con sus migraciones:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:model<!-- --> Post -m</li>
</ul>
</li>
<li>Modificar el método <strong>up</strong> de la migración <strong>api.codersfree\database\migrations\2021_09_18_221132_create_posts_table.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Schema::create(&#x27;posts&#x27;, function (Blueprint $table) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;id();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;name&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;slug&#x27;)-&gt;unique();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;text(&#x27;extract&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;longText(&#x27;body&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;enum(&#x27;status&#x27;, [Post::BORRADOR, Post::PUBLICADO])-&gt;default(Post::BORRADOR);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /* $table-&gt;unsignedBigInteger(&#x27;category_id&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /* $table-&gt;foreign(&#x27;category_id&#x27;)-&gt;references(&#x27;id&#x27;)-&gt;on(&#x27;categories&#x27;)-&gt;onDelete(&#x27;cascade&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Esta instrucción equivale a las dos comentadas anteriormente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Ya que estamos siguiendo las convenciones de Laravel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;foreignId(&#x27;category_id&#x27;)-&gt;constrained()-&gt;onDelete(&#x27;cascade&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;foreignId(&#x27;user_id&#x27;)-&gt;constrained()-&gt;onDelete(&#x27;cascade&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;timestamps();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del modelo <strong>Post</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Post;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Definir las constantes BORRADOR y PUBLICADO en el modelo <strong>api.codersfree\app\Models\Post.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Post extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const BORRADOR = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const PUBLICADO = 2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el modelo <strong>Tag</strong> con sus migraciones:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:model<!-- --> Tag -m</li>
</ul>
</li>
<li>Modificar el método <strong>up</strong> de la migración <strong>api.codersfree\database\migrations\2021_09_18_221132_create_posts_table.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Schema::create(&#x27;tags&#x27;, function (Blueprint $table) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;id();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;name&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;slug&#x27;)-&gt;unique();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;timestamps();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear la migración para la tabla pivote (intermedia) <strong>post_tag</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:migration<!-- --> create_post_tag_table</li>
</ul>
</li>
<li>Modificar el método <strong>up</strong> de la migración <strong>api.codersfree\database\migrations\2021_09_18_223511_create_post_tag_table.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Schema::create(&#x27;post_tag&#x27;, function (Blueprint $table) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;id();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;foreignId(&#x27;post_id&#x27;)-&gt;constrained()-&gt;onDelete(&#x27;cascade&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;foreignId(&#x27;tag_id&#x27;)-&gt;constrained()-&gt;onDelete(&#x27;cascade&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;timestamps();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el modelo <strong>Image</strong> con sus migraciones:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:model<!-- --> Image -m</li>
</ul>
</li>
<li>Modificar el método <strong>up</strong> de la migración <strong>api.codersfree\database\migrations\2021_09_18_223833_create_images_table.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Schema::create(&#x27;images&#x27;, function (Blueprint $table) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;id();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;url&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /* $table-&gt;unsignedBigInteger(&#x27;imageable_id&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /* $table-&gt;string(&#x27;imageable_type&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Esta instrucción equivale a las dos comentadas anteriormente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Ya que estamos siguiendo las convenciones de Laravel           </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;morphs(&#x27;imageable&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;timestamps();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Reestablecer la base de datos <strong>api.codersfree</strong>:<!-- -->
<ul>
<li>$ php artisan migrate<!-- -->:fresh</li>
</ul>
</li>
<li>Commit Video 08:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 08: Crear el modelo físcio&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-09-generando-relaciones">Viedo 09. Generando relaciones<a href="#viedo-09-generando-relaciones" class="hash-link" aria-label="Enlace directo al Viedo 09. Generando relaciones" title="Enlace directo al Viedo 09. Generando relaciones">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Implementar relaciones en el modelo <strong>api.codersfree\app\Models\User.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class User extends Authenticatable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación 1:n entre **users** y **posts**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function posts(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;hasMany(Post::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar relaciones en el modelo <strong>api.codersfree\app\Models\Category.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Category extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación 1:n entre **categories** y **posts**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function posts(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;hasMany(Post::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar relaciones en el modelo <strong>api.codersfree\app\Models\Post.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Post extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación 1:n entre **users** y **posts** (inversa)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function user(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;belongsTo(User::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación 1:n entre **categories** y **posts** (inversa)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function category(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;belongsTo(Category::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación n:m entre **posts** y **tags**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function tags(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;belongsToMany(Tag::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación 1:n polimorfica 1:n entre **posts** y **images**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function images(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;morphMany(Image::class, &#x27;imageable&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar relaciones en el modelo <strong>api.codersfree\app\Models\Tag.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Tag extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación n:m entre **tags** y **posts**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function posts(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;belongsToMany(Post::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar relaciones en el modelo <strong>api.codersfree\app\Models\Image.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Image extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación polimórfica entre **images** y otros modelos</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // El nombre de la función debe coincidir con el de su migración</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function imageable(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;morphTo();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 09:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Commit 09: Generando relaciones&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-10-introducir-datos-falsos">Viedo 10. Introducir datos falsos<a href="#viedo-10-introducir-datos-falsos" class="hash-link" aria-label="Enlace directo al Viedo 10. Introducir datos falsos" title="Enlace directo al Viedo 10. Introducir datos falsos">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Crear factory para los modelos <strong>Category</strong>, <strong>Post</strong>, <strong>Tag</strong> e <strong>Image</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:factory<!-- --> CategoryFactory</li>
<li>$ php artisan make<!-- -->:factory<!-- --> PostFactory</li>
<li>$ php artisan make<!-- -->:factory<!-- --> TagFactory</li>
<li>$ php artisan make<!-- -->:factory<!-- --> ImageFactory</li>
</ul>
</li>
<li>Implementar el método <strong>definition</strong> del factory <strong>api.codersfree\database\factories\CategoryFactory.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function definition()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $name = $this-&gt;faker-&gt;unique()-&gt;word(20);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; $name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; Str::slug($name)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición de <strong>Str</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Str;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar el método <strong>definition</strong> del factory <strong>api.codersfree\database\factories\PostFactory.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function definition()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $name = $this-&gt;faker-&gt;unique()-&gt;word(20);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; $name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; Str::slug($name),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;extract&#x27; =&gt; $this-&gt;faker-&gt;text(250),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;body&#x27; =&gt; $this-&gt;faker-&gt;text(2000),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;status&#x27; =&gt; $this-&gt;faker-&gt;randomElement([Post::BORRADOR, Post::PUBLICADO]),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;category_id&#x27; =&gt; Category::all()-&gt;random()-&gt;id,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;user_id&#x27; =&gt; User::all()-&gt;random()-&gt;id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar las definiciones de <strong>Str</strong> y de los modelos <strong>Category</strong> y <strong>User</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Category;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\User;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Str;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar el método <strong>definition</strong> del factory <strong>api.codersfree\database\factories\TagFactory.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function definition()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $name = $this-&gt;faker-&gt;unique()-&gt;word(20);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; $name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; Str::slug($name)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición de <strong>Str</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Str;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar el método <strong>definition</strong> del factory <strong>api.codersfree\database\factories\ImageFactory.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function definition()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;url&#x27; =&gt; &#x27;posts/&#x27; . $this-&gt;faker-&gt;image(&#x27;public/storage/posts&#x27;, 640, 480, null, false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c ódigo al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición de <strong>Str</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Str;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el valor de la siguiente variable de entorno del archivo <strong>api.codersfree\.env</strong>:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FILESYSTEM_DRIVER=public</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Generar acceso directo a <strong>api.codersfree\storage\app\public</strong>:<!-- -->
<ul>
<li>$ php artisan storage<!-- -->:link</li>
</ul>
</li>
<li>Crear los seeders <strong>UserSeeder</strong> y <strong>PostSeeder</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:seeder<!-- --> UserSeeder</li>
<li>$ php artisan make<!-- -->:seeder<!-- --> PostSeeder</li>
</ul>
</li>
<li>Implementar el método <strong>run</strong> del seeder <strong>api.codersfree\database\seeders\UserSeeder.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function run()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;Pedro Bazó&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;bazo.pedro@gmail.com&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; bcrypt(&#x27;12345678&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    User::factory(99)-&gt;create();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del modelo <strong>User</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\User;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar el método <strong>run</strong> del seeder <strong>api.codersfree\database\seeders\PostSeeder.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function run()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Post::factory(100)-&gt;create()-&gt;each(function(Post $post){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Image::factory(4)-&gt;create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;imageable_id&#x27; =&gt; $post-&gt;id,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;imageable_type&#x27; =&gt; Post::class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $post-&gt;tags()-&gt;attach([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            rand(1, 4),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            rand(5, 8)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición de los modelos <strong>Image</strong> y <strong>Post</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Image;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Post;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar el método <strong>run</strong> del seeder <strong>api.codersfree\database\seeders\DatabaseSeeder.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function run()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Storage::deleteDirectory(&#x27;posts&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Storage::makeDirectory(&#x27;posts&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;call(UserSeeder::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Category::factory(4)-&gt;create();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tag::factory(8)-&gt;create();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;call(PostSeeder::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición de los modelos <strong>Category</strong> y <strong>Tag</strong> y el facade <strong>Storage</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Category;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Tag;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Storage;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Reestablecer la base de datos <strong>api.codersfree</strong> y ejecutar los seeders:<!-- -->
<ul>
<li>$ php artisan migrate<!-- -->:fresh<!-- --> --seed</li>
</ul>
</li>
<li>Commit Video 10:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 10: Introducir datos falsos&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-11-solucionando-posible-error-con-faker">Viedo 11. Solucionando posible error con faker<a href="#viedo-11-solucionando-posible-error-con-faker" class="hash-link" aria-label="Enlace directo al Viedo 11. Solucionando posible error con faker" title="Enlace directo al Viedo 11. Solucionando posible error con faker">​</a></h3>
<ol>
<li>Modificar el método <strong>image</strong> del provider <strong>api.codersfree\vendor\fakerphp\faker\src\Faker\Provider\Image.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public static function image(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (function_exists(&#x27;curl_exec&#x27;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        curl_setopt($ch, CURLOPT_FILE, $fp);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);    // Nueva línea</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);    // Nueva línea</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } elseif (ini_get(&#x27;allow_url_fopen&#x27;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 11:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 11: Solucionando posible error con faker&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-12-generando-endpoints-para-categorias">Viedo 12. Generando endpoints para categorias<a href="#viedo-12-generando-endpoints-para-categorias" class="hash-link" aria-label="Enlace directo al Viedo 12. Generando endpoints para categorias" title="Enlace directo al Viedo 12. Generando endpoints para categorias">​</a></h3>
<ol>
<li>Crear controlador <strong>CategoryController</strong> con todos los métodos necesarios para administrarlo:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:controller<!-- --> Api\CategoryController --api --model=Category</li>
</ul>
</li>
<li>Modificar el archivo de rutas <strong>api.codersfree\routes\api-v1.php</strong> para administrar las rutas del modelo <strong>Category</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* Route::get(&#x27;categories&#x27;, [CategoryController::class, &#x27;index&#x27;])-&gt;name(&#x27;api.v1.categories.index&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* Route::post(&#x27;categories&#x27;, [CategoryController::class, &#x27;store&#x27;])-&gt;name(&#x27;api.v1.categories.store&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* Route::get(&#x27;categories/{category}&#x27;, [CategoryController::class, &#x27;show&#x27;])-&gt;name(&#x27;api.v1.categories.show&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* Route::put(&#x27;categories/{category}&#x27;, [CategoryController::class, &#x27;update&#x27;])-&gt;name(&#x27;api.v1.categories.update&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/* Route::delete(&#x27;categories/{category}&#x27;, [CategoryController::class, &#x27;delete&#x27;])-&gt;name(&#x27;api.v1.categories.delete&#x27;); */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Esta isntrucción equivale a las 5 comentadas anteriormente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::apiResource(&#x27;categories&#x27;, CategoryController::class)-&gt;names(&#x27;api.v1.categories&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del controlador CategoryController:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\Api\CategoryController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 12:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 12: Generando endpoints para categorias&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-4-query-scopes">Sección 4: Query Scopes<a href="#sección-4-query-scopes" class="hash-link" aria-label="Enlace directo al Sección 4: Query Scopes" title="Enlace directo al Sección 4: Query Scopes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-13-recibir-peticiones-y-generar-respuestas-para-el-recurso-category">Viedo 13. Recibir peticiones y generar respuestas para el recurso Category<a href="#viedo-13-recibir-peticiones-y-generar-respuestas-para-el-recurso-category" class="hash-link" aria-label="Enlace directo al Viedo 13. Recibir peticiones y generar respuestas para el recurso Category" title="Enlace directo al Viedo 13. Recibir peticiones y generar respuestas para el recurso Category">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Implementar el método <strong>index</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $categories = Category::all();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $categories;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Implementar el método <strong>store</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:categories&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $category = Category::create($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $category;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Habilitar la asignación masiva en el modelo <strong>api.codersfree\app\Models\Category.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Category extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use HasFactory;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $fillable = [&#x27;name&#x27;, &#x27;slug&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar todos los registros a la tabla <strong>categories</strong>.</li>
</ul>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<ul>
<li>Field name: name  | Value: Categoría de prueba</li>
<li>Field name: slug  | Value: categoria-de-prueba</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe enviar el registro a la tabla <strong>categories</strong>.</li>
</ul>
</li>
<li>Implementar el método <strong>show</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function show(Category $category)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $category;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/5" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/5</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar el registro con <strong>id</strong> = 5 de la tabla <strong>categories</strong>.</li>
</ul>
</li>
<li>Implementar el método <strong>update</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function update(Request $request, Category $category)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:categories,slug,&#x27; . $category-&gt;id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $category-&gt;update($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $category;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: PUT</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/5" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/5</a></li>
<li>Body:<!-- -->
<ul>
<li>Form-encode:<!-- -->
<ul>
<li>Field name: name  | Value: Categoría de prueba actualizada</li>
<li>Field name: slug  | Value: categoria-de-prueba-actualizada</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe actualizar el registro de la tabla <strong>categories</strong> con <strong>id</strong> = 5.</li>
</ul>
</li>
<li>Implementar el método <strong>destroy</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function destroy(Category $category)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $category-&gt;delete();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $category;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: DELETE</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/5" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/5</a>
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe eliminar el registro de la tabla <strong>categories</strong> con <strong>id</strong> = 5.</li>
</ul>
</li>
<li>Commit Video 13:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 13: Recibir peticiones y generar respuestas para el recurso Category&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-14-incluir-relaciones-de-los-recursos">Viedo 14. Incluir relaciones de los recursos<a href="#viedo-14-incluir-relaciones-de-los-recursos" class="hash-link" aria-label="Enlace directo al Viedo 14. Incluir relaciones de los recursos" title="Enlace directo al Viedo 14. Incluir relaciones de los recursos">​</a></h3>
<ol>
<li>Modificar el método <strong>show</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function show($id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $category = Category::included()-&gt;findOrFail($id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // return CategoryResource::make($category);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $category;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método Query Scope <strong>scopeIncluded</strong> en el modelo <strong>api.codersfree\app\Models\Category.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function scopeIncluded(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (empty($this-&gt;allowIncluded) || empty(request(&#x27;included&#x27;))) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $relations = explode(&#x27;,&#x27;, request(&#x27;included&#x27;)); //[&#x27;posts&#x27;,&#x27;relacion2&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $allowIncluded = collect($this-&gt;allowIncluded);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    foreach ($relations as $key =&gt; $relationship) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (!$allowIncluded-&gt;contains($relationship)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            unset($relations[$key]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $query-&gt;with($relations);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Definir variable <strong>allowIncluded</strong> en la clase <strong>Category</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">protected $allowIncluded = [&#x27;posts&#x27;, &#x27;posts.user&#x27;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición de la clase <strong>Builder</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Database\Eloquent\Builder;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/1?included=posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/1?included=posts</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar el registro con <strong>id</strong> = 1 de la tabla <strong>categories</strong> y su relación con los registros de la tabla <strong>posts</strong>.</li>
</ul>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/1?included=posts.user" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/1?included=posts.user</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar el registro con <strong>id</strong> = 1 de la tabla <strong>categories</strong> y su relación con los registros de la tabla <strong>posts</strong> y el usuario de la tabla <strong>users</strong> relacionado con el post.</li>
</ul>
</li>
<li>Commit Video 14:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 14: Incluir relaciones de los recursos&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-15-filtrar-recursos">Viedo 15. Filtrar recursos<a href="#viedo-15-filtrar-recursos" class="hash-link" aria-label="Enlace directo al Viedo 15. Filtrar recursos" title="Enlace directo al Viedo 15. Filtrar recursos">​</a></h3>
<ol>
<li>Modificar el método <strong>index</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $categories = Category::included()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;filter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;get();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $categories;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método Query Scope <strong>scopeFilter</strong> en el modelo <strong>api.codersfree\app\Models\Category.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function scopeFilter(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (empty($this-&gt;allowFilter) || empty(request(&#x27;filter&#x27;))) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $filters = request(&#x27;filter&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $allowFilter = collect($this-&gt;allowFilter);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    foreach ($filters as $filter =&gt; $value) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if ($allowFilter-&gt;contains($filter)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $query-&gt;where($filter, &#x27;LIKE&#x27; , &#x27;%&#x27; . $value . &#x27;%&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Definir variable <strong>allowFilter</strong> en la clase <strong>Category</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">protected $allowFilter = [&#x27;id&#x27;, &#x27;name&#x27;, &#x27;slug&#x27;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?filter%5Bname%5D=ne&amp;filter%5Bslug%5D=e" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?filter[name]=ne&amp;filter[slug]=e</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar los registro de la tabla <strong>categories</strong> que contengan en el campo <strong>name</strong> el texto &#x27;ne&#x27; y en el campo <strong>slug</strong> la letra &#x27;n&#x27;.</li>
</ul>
</li>
<li>Commit Video 15:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 15: Filtrar recursos&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-16-ordenar-recursos">Viedo 16. Ordenar recursos<a href="#viedo-16-ordenar-recursos" class="hash-link" aria-label="Enlace directo al Viedo 16. Ordenar recursos" title="Enlace directo al Viedo 16. Ordenar recursos">​</a></h3>
<ol>
<li>Modificar el método <strong>index</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $categories = Category::included()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;filter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;sort()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;get();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $categories;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método Query Scope <strong>scopeSort</strong> en el modelo <strong>api.codersfree\app\Models\Category.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function scopeSort(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (empty($this-&gt;allowSort) || empty(request(&#x27;sort&#x27;))) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $sortFields = explode(&#x27;,&#x27;, request(&#x27;sort&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $allowSort = collect($this-&gt;allowSort);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    foreach ($sortFields as $sortField) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $direction = &#x27;asc&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (substr($sortField, 0, 1) == &#x27;-&#x27;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $direction = &#x27;desc&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $sortField = substr($sortField, 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if ($allowSort-&gt;contains($sortField)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $query-&gt;orderBy($sortField, $direction);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Definir variable <strong>allowSort</strong> en la clase <strong>Category</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">protected $allowSort = [&#x27;id&#x27;, &#x27;name&#x27;, &#x27;slug&#x27;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?sort=-name,id" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?sort=-name,id</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe ordenar los registro de la tabla <strong>categories</strong> por el campo <strong>name</strong> en forma descendente y luego por el campo <strong>id</strong> en forma ascendente.</li>
</ul>
</li>
<li>Commit Video 16:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 16: Ordenar recursos&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-17-paginar-recursos">Viedo 17. Paginar recursos<a href="#viedo-17-paginar-recursos" class="hash-link" aria-label="Enlace directo al Viedo 17. Paginar recursos" title="Enlace directo al Viedo 17. Paginar recursos">​</a></h3>
<ol>
<li>Modificar el método <strong>index</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $categories = Category::included()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;filter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;sort()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;getOrPaginate();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $categories;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método Query Scope <strong>scopeGetOrPaginate</strong> en el modelo <strong>api.codersfree\app\Models\Category.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function scopeGetOrPaginate(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (request(&#x27;perPage&#x27;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $perPage = intval(request(&#x27;perPage&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if ($perPage) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return $query-&gt;paginate($perPage);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $query-&gt;get();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?perPage=3&amp;page=2" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?perPage=3&amp;page=2</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar los registro de la tabla <strong>categories</strong> paginados de 3 en 3 y posicionado en la página 2.</li>
</ul>
</li>
<li>Commit Video 17:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 17: Paginar recursos&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-5-transformar-respuestas">Sección 5: Transformar respuestas<a href="#sección-5-transformar-respuestas" class="hash-link" aria-label="Enlace directo al Sección 5: Transformar respuestas" title="Enlace directo al Sección 5: Transformar respuestas">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-18-crear-clase-de-recurso">Viedo 18. Crear clase de recurso<a href="#viedo-18-crear-clase-de-recurso" class="hash-link" aria-label="Enlace directo al Viedo 18. Crear clase de recurso" title="Enlace directo al Viedo 18. Crear clase de recurso">​</a></h3>
<ol>
<li>Crear el recurso <strong>CategoryResource</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:resource<!-- --> CategoryResource</li>
</ul>
</li>
<li>Modificar el método <strong>show</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function show($id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $category = Category::included()-&gt;findOrFail($id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return CategoryResource::make($category);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del recuros <strong>CategoryResource</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Resources\CategoryResource;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Redefinir el método <strong>toArray</strong> del recurso <strong>api.codersfree\app\Http\Resources\CategoryResource.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function toArray($request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;id&#x27; =&gt; $this-&gt;id,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; $this-&gt;name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; $this-&gt;slug,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;posts&#x27; =&gt; PostResource::collection($this-&gt;whenLoaded(&#x27;posts&#x27;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del recurso <strong>PostResource</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Resources\PostResource;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Redefinir el método <strong>index</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $categories = Category::included()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;filter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;sort()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;getOrPaginate();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return CategoryResource::collection($categories);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el recurso <strong>PostResource</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:resource<!-- --> PostResource</li>
</ul>
</li>
<li>Redefinir el método <strong>toArray</strong> del recurso <strong>api.codersfree\app\Http\Resources\PostResource.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function toArray($request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;id&#x27; =&gt; $this-&gt;id,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; $this-&gt;name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; $this-&gt;slug,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;extract&#x27; =&gt; $this-&gt;extract,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;body&#x27; =&gt; $this-&gt;body,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;status&#x27; =&gt; $this-&gt;status == 1 ? &#x27;BORRADOR&#x27; : &#x27;PUBLICADO&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;user&#x27; =&gt; UserResource::make($this-&gt;whenLoaded(&#x27;user&#x27;)),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;category&#x27; =&gt; CategoryResource::make($this-&gt;whenLoaded(&#x27;category&#x27;)),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el recurso <strong>UserResource</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:resource<!-- --> UserResource</li>
</ul>
</li>
<li>Commit Video 18:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 18: Crear clase de recurso&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-6-recurso-posts">Sección 6: Recurso Posts<a href="#sección-6-recurso-posts" class="hash-link" aria-label="Enlace directo al Sección 6: Recurso Posts" title="Enlace directo al Sección 6: Recurso Posts">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-19-ampliar-la-funcionalidad-con-los-query-scopes-con-traits-de-php">Viedo 19. Ampliar la funcionalidad con los query scopes con traits de PHP<a href="#viedo-19-ampliar-la-funcionalidad-con-los-query-scopes-con-traits-de-php" class="hash-link" aria-label="Enlace directo al Viedo 19. Ampliar la funcionalidad con los query scopes con traits de PHP" title="Enlace directo al Viedo 19. Ampliar la funcionalidad con los query scopes con traits de PHP">​</a></h3>
<ol>
<li>Crear el trait <strong>api.codersfree\app\Traits\ApiTrait.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Traits;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Database\Eloquent\Builder;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trait ApiTrait{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function scopeIncluded(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (empty($this-&gt;allowIncluded) || empty(request(&#x27;included&#x27;))) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $relations = explode(&#x27;,&#x27;, request(&#x27;included&#x27;)); //[&#x27;posts&#x27;,&#x27;relacion2&#x27;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $allowIncluded = collect($this-&gt;allowIncluded);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        foreach ($relations as $key =&gt; $relationship) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (!$allowIncluded-&gt;contains($relationship)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                unset($relations[$key]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $query-&gt;with($relations);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function scopeFilter(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (empty($this-&gt;allowFilter) || empty(request(&#x27;filter&#x27;))) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $filters = request(&#x27;filter&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $allowFilter = collect($this-&gt;allowFilter);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        foreach ($filters as $filter =&gt; $value) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if ($allowFilter-&gt;contains($filter)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                $query-&gt;where($filter, &#x27;LIKE&#x27; , &#x27;%&#x27; . $value . &#x27;%&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function scopeSort(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (empty($this-&gt;allowSort) || empty(request(&#x27;sort&#x27;))) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $sortFields = explode(&#x27;,&#x27;, request(&#x27;sort&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $allowSort = collect($this-&gt;allowSort);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        foreach ($sortFields as $sortField) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $direction = &#x27;asc&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (substr($sortField, 0, 1) == &#x27;-&#x27;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                $direction = &#x27;desc&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                $sortField = substr($sortField, 1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if ($allowSort-&gt;contains($sortField)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                $query-&gt;orderBy($sortField, $direction);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function scopeGetOrPaginate(Builder $query){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (request(&#x27;perPage&#x27;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            $perPage = intval(request(&#x27;perPage&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if ($perPage) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                return $query-&gt;paginate($perPage);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $query-&gt;get();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Eliminar todos los scope del modelo <strong>api.codersfree\app\Models\Category.php</strong> y la definición de <strong>Builder</strong>, y en su lugar llamar al trait <strong>ApiTrait</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Models;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Traits\ApiTrait;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Database\Eloquent\Factories\HasFactory;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Database\Eloquent\Model;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Category extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use HasFactory, ApiTrait;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $fillable = [&#x27;name&#x27;, &#x27;slug&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $allowIncluded = [&#x27;posts&#x27;, &#x27;posts.user&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $allowFilter = [&#x27;id&#x27;, &#x27;name&#x27;, &#x27;slug&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $allowSort = [&#x27;id&#x27;, &#x27;name&#x27;, &#x27;slug&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Relación 1:n entre **categories** y **posts**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function posts(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return $this-&gt;hasMany(Post::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Importar la definición y el uso del trait ApiTrait en los modelos <strong>Image</strong>, <strong>Post</strong>, <strong>Tag</strong> y <strong>User</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> &lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Models;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Traits\ApiTrait;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class {MODELO} extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use ..., ApiTrait;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar los métodos <strong>store</strong>, <strong>update</strong> y <strong>destroy</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\CategoryController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class CategoryController extends Controller</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function store(Request $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:categories&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $category = Category::create($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return CategoryResource::make($category);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function update(Request $request, Category $category)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:categories,slug,&#x27; . $category-&gt;id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $category-&gt;update($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return CategoryResource::make($category);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function destroy(Category $category)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $category-&gt;delete();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return CategoryResource::make($category);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 19:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 19: Ampliar la funcionalidad con los query scopes con traits de PHP&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-20-recibir-peticiones-y-generar-respuestas-para-el-recurso-post">Viedo 20. Recibir peticiones y generar respuestas para el recurso Post<a href="#viedo-20-recibir-peticiones-y-generar-respuestas-para-el-recurso-post" class="hash-link" aria-label="Enlace directo al Viedo 20. Recibir peticiones y generar respuestas para el recurso Post" title="Enlace directo al Viedo 20. Recibir peticiones y generar respuestas para el recurso Post">​</a></h3>
<ol>
<li>Crear el controlador <strong>PostController</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:controller<!-- --> Api\PostController --api --model=Post</li>
</ul>
</li>
<li>Crar las rutas para <strong>posts</strong> en el archivo de rutas <strong>api.codersfree\routes\api-v1.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::apiResource(&#x27;posts&#x27;, PostController::class)-&gt;names(&#x27;api.v1.posts&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del controlador <strong>dddd</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\Api\PostController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Definir el método <strong>index</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $posts = Post::included()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;filter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;sort()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    -&gt;getOrPaginate();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return PostResource::collection($posts);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del recurso <strong>PostResource</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Resources\PostResource;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/posts</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar los registro de la tabla <strong>posts</strong>.</li>
</ul>
</li>
<li>Definir el método <strong>store</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:posts&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;extract&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;body&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;category_id&#x27; =&gt; &#x27;required|exists:categories,id&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;user_id&#x27; =&gt; &#x27;required|exists:users,id&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $post = Post::create($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return PostResource::make($post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Habilitar asignación masiva en el modelo <strong>api.codersfree\app\Models\Post.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Post extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const BORRADOR = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const PUBLICADO = 2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $fillable = [&#x27;name&#x27;, &#x27;slug&#x27;, &#x27;extract&#x27;, &#x27;body&#x27;, &#x27;status&#x27;, &#x27;category_id&#x27;, &#x27;user_id&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/posts</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<ul>
<li>Field name: name          | Value: Título de prueba</li>
<li>Field name: slug          | Value: titulo-de-prueba</li>
<li>Field name: extract       | Value: Cualquier cosa</li>
<li>Field name: body          | Value: Cualquier cosa</li>
<li>Field name: category_id   | Value: 1</li>
<li>Field name: user_id       | Value: 1</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe registrar un post en la tabla <strong>posts</strong>.</li>
</ul>
</li>
<li>Definir el método <strong>show</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> public function show($id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $post = Post::included()-&gt;findOrFail($id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return PostResource::make($post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/posts/2" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/posts/2</a></li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe mostrar el registro de la tabla <strong>posts</strong> con <strong>id</strong> = 2.</li>
</ul>
</li>
<li>Definir el método <strong>update</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function update(Request $request, Post $post)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:posts,slug,&#x27; . $post-&gt;id,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;extract&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;body&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;category_id&#x27; =&gt; &#x27;required|exists:categories,id&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;user_id&#x27; =&gt; &#x27;required|exists:users,id&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $post-&gt;update($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return PostResource::make($post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Definir el método <strong>destroy</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function destroy(Post $post)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $post-&gt;delete();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return PostResource::make($post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 20:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 20: Recibir peticiones y generar respuestas para el recurso Post&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-7-laravel-passport">Sección 7: Laravel Passport<a href="#sección-7-laravel-passport" class="hash-link" aria-label="Enlace directo al Sección 7: Laravel Passport" title="Enlace directo al Sección 7: Laravel Passport">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-21-instalar-laravel-passport">Viedo 21. Instalar Laravel Passport<a href="#viedo-21-instalar-laravel-passport" class="hash-link" aria-label="Enlace directo al Viedo 21. Instalar Laravel Passport" title="Enlace directo al Viedo 21. Instalar Laravel Passport">​</a></h3>
<ol>
<li>Redefinir el método <strong>store</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $data = $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:posts&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;extract&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;body&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;category_id&#x27; =&gt; &#x27;required|exists:categories,id&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = auth()-&gt;user();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $data[&#x27;user_id&#x27;] =  $user-&gt;id;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $post = Post::create($data);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return PostResource::make($post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método constructo <strong>__construct</strong> en el controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function __construct(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;auth:api&#x27;)-&gt;except([&#x27;index&#x27;, &#x27;show&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Instalar Laravel Passport:
<strong>URL instalación</strong>: <a href="https://laravel.com/docs/8.x/passport" target="_blank" rel="noopener noreferrer">https://laravel.com/docs/8.x/passport</a>
<ul>
<li>$ composer require laravel/passport</li>
<li>$ php artisan migrate</li>
<li>$ php artisan passport<!-- -->:install<!-- --> --uuids<!-- -->
<ul>
<li>In order to finish configuring client UUIDs, we need to rebuild the Passport database tables. Would you like to rollback and re-run your last migration? (yes/no) [no]: <strong>yes</strong></li>
<li>Recuperar:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Personal access client created successfully.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client ID: 94716146-8579-4e6f-afcc-29b2da6d125c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client secret: zR4WpKIHlUs7tWYDS9bo1zmIey0DxMgmSR3qslAk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Password grant client created successfully.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client ID: 94716146-8d96-4e4f-9125-8e8a1d05ada0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client secret: ySeMR1eQaPMLzU1ZcU5ivy9iqcEob3iTzqTC5Cvr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>$ php artisan migrate<!-- -->:fresh<!-- --> --seed</li>
</ul>
</li>
<li>Modificar el modelo <strong>api.codersfree\app\Models\User.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//use Laravel\Sanctum\HasApiTokens;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Passport\HasApiTokens;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class User extends Authenticatable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use HasApiTokens, HasFactory, Notifiable, ApiTrait;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el provider <strong>api.codersfree\app\Providers\AuthServiceProvider.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Passport\Passport;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class AuthServiceProvider extends ServiceProvider</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function boot()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;registerPolicies();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Passport::routes();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<strong>Nota</strong>: para ver todas las ruta generadas por passport:<!-- -->
<ul>
<li>$ php artisan r<!-- -->:l<!-- --> --name=passport</li>
</ul>
</li>
<li>Modificar el archivo de configuración <strong>api.codersfree\config\auth.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&#x27;guards&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;api&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;driver&#x27; =&gt; &#x27;passport&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;provider&#x27; =&gt; &#x27;users&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;hash&#x27; =&gt; false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 21:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 21: Instalar Laravel Passport&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-22-instalar-laravel-passport-ii">Viedo 22. Instalar Laravel Passport II<a href="#viedo-22-instalar-laravel-passport-ii" class="hash-link" aria-label="Enlace directo al Viedo 22. Instalar Laravel Passport II" title="Enlace directo al Viedo 22. Instalar Laravel Passport II">​</a></h3>
<ol>
<li>Formas de obtener las llaves en producción:<!-- -->
<ol>
<li>Ejecutar en producción:<!-- -->
<ul>
<li>$ php artisan passport<!-- -->:keys</li>
</ul>
</li>
<li>Públicar el archivo de configuración de passport:<!-- -->
<ul>
<li>$ php artisan vendor<!-- -->:publish<!-- --> --tag=passport-config</li>
<li>Este comando creará el archivo de configuración <strong>api.codersfree\config\passport.php</strong>.</li>
<li>Agragar las siguientes variables de entorno en <strong>api.codersfree\.env</strong>:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">PASSPORT_PRIVATE_KEY=&quot;{Contenido del archivo: api.codersfree\storage\oauth-private.key}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PASSPORT_PUBLIC_KEY=&quot;{Contenido del archivo: api.codersfree\storage\oauth-public.key}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
</ol>
</li>
<li>Commit Video 22:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 22: Instalar Laravel Passport II&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-8-password-grant-client">Sección 8: Password grant client<a href="#sección-8-password-grant-client" class="hash-link" aria-label="Enlace directo al Sección 8: Password grant client" title="Enlace directo al Sección 8: Password grant client">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-23-solicitar-un-acces-token-desde-postman">Viedo 23. Solicitar un acces token desde postman<a href="#viedo-23-solicitar-un-acces-token-desde-postman" class="hash-link" aria-label="Enlace directo al Viedo 23. Solicitar un acces token desde postman" title="Enlace directo al Viedo 23. Solicitar un acces token desde postman">​</a></h3>
<ol>
<li>Abrir proyecto <strong>api.codersfree</strong>.</li>
<li>Crear cliente tipo password:<!-- -->
<ul>
<li>$ php artisan passport<!-- -->:client<!-- --> --password<!-- -->
<ul>
<li>What should we name the password grant client? [Laravel Password Grant Client]: &gt; [Presionar ENTER]</li>
<li>Which user provider should this client use to retrieve users? [users]:
[0] users<!-- -->
<blockquote>
<p>[Presionar ENTER]</p>
</blockquote>
</li>
<li>Recuperar las credenciales:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Password grant client created successfully.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client ID: 94717435-7f73-4d1a-a9e2-0b88b0401377</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client secret: 5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
</ul>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/oauth/token" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/oauth/token</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<ul>
<li>Field name: grant_type    | Value: password</li>
<li>Field name: client_id     | Value: 94717435-7f73-4d1a-a9e2-0b88b0401377</li>
<li>Field name: client_secret | Value: 5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr</li>
<li>Field name: username      | Value: <a href="mailto:bazo.pedro@gmail.com" target="_blank" rel="noopener noreferrer">bazo.pedro@gmail.com</a></li>
<li>Field name: password      | Value: 12345678</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Obtiene un token para el usuario que corresponde con el campo <strong>email</strong> = <a href="mailto:bazo.pedro@gmail.com" target="_blank" rel="noopener noreferrer">bazo.pedro@gmail.com</a> de la tabla <strong>users</strong>.</li>
<li>Respuesta en formato JSON:<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;token_type&quot;: &quot;Bearer&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;expires_in&quot;: 31536000,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;access_token&quot;: &quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI5NDcxNzQzNS03ZjczLTRkMWEtYTllMi0wYjg4YjA0MDEzNzciLCJqdGkiOiJmMDBiZGYzOTFmNTIxMmU4ODUxNjQ0MGJlZGViNmYzMmE1NTVlN2JiMTBlZmY4ODcxZGNlZjkwYzllMjA4ZGFhODdiZGEyMzc0Y2RmZGJjYyIsImlhdCI6MTYzMjE1MTA5MS4xNDM2ODYsIm5iZiI6MTYzMjE1MTA5MS4xNDM2OTEsImV4cCI6MTY2MzY4NzA5MS4xMTUzNzMsInN1YiI6IjEiLCJzY29wZXMiOltdfQ.vghu8oPHHRayzHvzdc5zoIxjnGcnbEx9Tj79Cff71fafTW2IMCN0D-p5hESciYCBe2DmgeAbj-DaQmflBSEe3ips9agV1SJ9Mlm81MfpqtQ5pDS9VndLTof4Wgf99vdPv82tqpXx5914fxEYrp6pB6mSfDkotzJFRFohGoyGXl8I7UIFWO7Bz6qr5I8amo_nqigxhLQKHH8fJb_UpwzqZlppIf-K28gWv_MaaBGIjRguFV3U8uRZ71IBc87r8hRU1ax98_9WoWv-ahN1dUQC2tCzZY2t4rR-cWo7Jatfzx6jN7_opOSKQs_FpBdq9vImz1i7FlooBbQRWhEVqED3LTjlj8vlTMOFnEvhhg5s8y2fwqcOhsWLW3uwLX47NLVvVE18VbGmeBACkwo6k8Oh7wDMqtSId_jp4ifpJHWYVKF_-Fj5Y-MgI7jBsoeZ1mDgZLVy6-v5XF4VMKGXHldZrwdtHolwZJpRuyWqiSvwlgFdmJegx7BTVqVOO37xG7E5uNC2NtR2Vs1_WlS0Eun49uqER__vqS_vHNYmEvm6cn6tsxJygC3E6-_Ux-TeOKwWsQAiRB01zyeM3EQ5cfWOqnMBPBa7xGFpQO0UwWX2CLVxmKDXiBkpTw8DVLGddvi5vDQ1b_VRtS635Nl2OPH6o9DCyXrH2vrDwSuLeYopceM&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;refresh_token&quot;: &quot;def50200465e686d738b5b2a9ecf1bbf855c44f33483b67f2fc612d19ed2eb45881bf852eb9e7745a942816a4151d76a637b7388f7af0658bd35fe0ef86c2ea55f13e5ea85df372c81014ae8416bcabb2ba909c250e578483c8e9f7b5505b6c7425d5fb16f4276c312b73d29e04e6e1a389296ea84070393f57727d76a1b67b0d81a2f81703e5da7cec4ef8393a194608e8a6c70c595f38b839dce8516f9d14c088b4d63e8aa6f90a215042d9ab358cd6dbb085914bbf357cb2e63bd9459f757e043a7e74b015ba33e785091490d2fa5053055e0887c5415579e132b6cd102a7fe42a5c2c619944b312843ccb9306351e361000b3007d3de043d701ada4de939417ef710ba2ea9ba01e1cb38c8756f6de461485d27c473aa783874db9aefc1e045200909bee41a74a276f22eb4a52c7a9d9dadd05d31fb9be4c214247c13d46d2b2f61f5265e46628469d171f6dedff4ba2948d2c24095807412b526bb7edd54819dd09556a2a9207278cba9b6768ff3027c33c8ebbb6a42664646eecca9276ba35d504f&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/posts</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<ul>
<li>Field name: name          | Value: Título de prueba 2</li>
<li>Field name: slug          | Value: titulo-de-prueba-2</li>
<li>Field name: extract       | Value: Cualquier cosa</li>
<li>Field name: body          | Value: Cualquier cosa</li>
<li>Field name: category_id   | Value: 1</li>
<li>Field name: user_id       | Value: 1</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
<li>Header: Authorization    | Value: Bearer + (un espacio) + (access_token de la petición anterior sin las comillas dobles)</li>
</ul>
</li>
<li>Acción: Obtenemos la autorización para registrar un post en la tabla <strong>posts</strong>.</li>
</ul>
</li>
<li>Commit Video 23:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 23: Solicitar un acces token desde postman&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-24-instalar-laravel-breeze-en-el-cliente">Viedo 24. Instalar laravel breeze en el cliente<a href="#viedo-24-instalar-laravel-breeze-en-el-cliente" class="hash-link" aria-label="Enlace directo al Viedo 24. Instalar laravel breeze en el cliente" title="Enlace directo al Viedo 24. Instalar laravel breeze en el cliente">​</a></h3>
<ul>
<li><strong>URL Repositorio Cliente</strong>: <a href="https://github.com/coders-free/cliente1" target="_blank" rel="noopener noreferrer">https://github.com/coders-free/cliente1</a></li>
</ul>
<ol>
<li>Crear proyecto cliente para consumir la API RESTful:<!-- -->
<ul>
<li>$ laravel new codersfree</li>
</ul>
</li>
<li>Abrir el archivo: <strong>C:\Windows\System32\drivers\etc\hosts</strong> como administrador y en la parte final del archivo escribir.<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">127.0.0.1     codersfree.test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Guardar y cerrar.</li>
<li>Abri el archivo de texto plano de configuración de Apache <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong>.</li>
<li>Ir al final del archivo y anexar lo siguiente:<!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    DocumentRoot &quot;C:\xampp\htdocs\cursos\24apirestful\codersfree\public&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ServerName codersfree.test</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;Directory &quot;C:\xampp\htdocs\cursos\24apirestful\codersfree\public&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Options All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        AllowOverride All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Require all granted</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Guardar y cerrar.</li>
<li>Reiniciar el servidor Apache.<!-- -->
<ul>
<li><strong>Nota 1</strong>: ahora podemos ejecutar nuestro proyecto local en el navegador introduciendo la siguiente dirección: <a href="http://codersfree.test" target="_blank" rel="noopener noreferrer">http://codersfree.test</a></li>
<li><strong>Nota 2</strong>: En caso de que no funcione el enlace, cambiar en el archivo <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong> todos los segmentos de código:<!-- -->
<div class="language-conft codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conft codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost \*&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->por:<!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *:80&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Crear base de datos <strong>codersfree</strong>.</li>
<li>Modificar la siguiente variable de entorno del archivo <strong>codersfree\.env</strong>:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">APP_NAME=Codersfree</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Instalara Laravel Breeze:<!-- -->
<ul>
<li><strong>URL Laravel Breeze</strong>: <a href="https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS" target="_blank" rel="noopener noreferrer">https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS</a>.</li>
<li>$ composer require laravel/breeze --dev</li>
<li>$ php artisan breeze<!-- -->:install</li>
<li>$ npm install</li>
<li>$ npm run dev</li>
<li>$ php artisan migrate</li>
</ul>
</li>
<li>Commit Video 24:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 24: Instalar laravel breeze en el cliente&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-25-crear-endpoint-para-hacer-login">Viedo 25. Crear endpoint para hacer login<a href="#viedo-25-crear-endpoint-para-hacer-login" class="hash-link" aria-label="Enlace directo al Viedo 25. Crear endpoint para hacer login" title="Enlace directo al Viedo 25. Crear endpoint para hacer login">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Crear controlador LoginController:<!-- -->
<ul>
<li>php artisan make<!-- -->:controller<!-- --> Api\Auth\LoginController</li>
</ul>
</li>
<li>Crear ruta tipo post para login en <strong>api.codersfree\routes\api-v1.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::post(&#x27;login&#x27;, [LoginController::class, &#x27;store&#x27;]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del controlador <strong>LoginController</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\Api\Auth\LoginController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear método <strong>store</strong> en el controlador <strong>api.codersfree\app\Http\Controllers\Api\Auth\LoginController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;required|string|email&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; &#x27;required|string&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::where(&#x27;email&#x27;, $request-&gt;email)-&gt;firstOrFail();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (Hash::check($request-&gt;password, $user-&gt;password)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return UserResource::make($user);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }else{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return response()-&gt;json([&#x27;message&#x27; =&gt; &#x27;These credentials do not match our records.&#x27;], 404);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición de recurso <strong>UserResource</strong>, el modelo <strong>User</strong> y el facade <strong>Hash</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Resources\UserResource;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\User;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Hash;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 25:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 25: Crear endpoint para hacer login&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-26-configurando-el-proyecto-del-cliente-parahacer-login">Viedo 26. Configurando el proyecto del cliente parahacer login<a href="#viedo-26-configurando-el-proyecto-del-cliente-parahacer-login" class="hash-link" aria-label="Enlace directo al Viedo 26. Configurando el proyecto del cliente parahacer login" title="Enlace directo al Viedo 26. Configurando el proyecto del cliente parahacer login">​</a></h3>
<ol>
<li>Abrir el proyecto cliente <strong>codersfree</strong>:</li>
<li>Eliminar los campos <strong>email_verified_at</strong> y <strong>password</strong> del archivo de migración  <strong>codersfree\database\migrations\2014_10_12_000000_create_users_table.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Schema::create(&#x27;users&#x27;, function (Blueprint $table) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;id();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;name&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;string(&#x27;email&#x27;)-&gt;unique();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;rememberToken();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;timestamps();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el modelo <strong>codersfree\app\Models\User.php</strong> para eliminar las referencias al campo <strong>password</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class User extends Authenticatable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $fillable = [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $hidden = [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;remember_token&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el modelo AccessToken con su migración:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:model<!-- --> AccessToken -m</li>
</ul>
</li>
<li>Modificar el método up de la migración <strong>codersfree\database\migrations\2021_09_20_195913_create_access_tokens_table.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Schema::create(&#x27;access_tokens&#x27;, function (Blueprint $table) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;id();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;foreignId(&#x27;user_id&#x27;)-&gt;constrained();    // id del usuario en el cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;unsignedInteger(&#x27;service_id&#x27;);          // id del usuario en la API</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;text(&#x27;access_token&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;text(&#x27;refresh_token&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;dateTime(&#x27;expires_at&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $table-&gt;timestamps();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Habilitar la asignación masiva en el modelo <strong>codersfree\app\Models\AccessToken.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class AccessToken extends Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $fillable = [&#x27;user_id&#x27;, &#x27;service_id&#x27;, &#x27;access_token&#x27;, &#x27;refresh_token&#x27;, &#x27;expires_at&#x27;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Establecer relación en el modelo <strong>codersfree\app\Models\User.php</strong> con el modelo <strong>AccessToken</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">//Relacion 1:1 con el modelo AccessToken</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function accessToken(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $this-&gt;hasOne(AccessToken::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Reestablecer la base de datos del cliente <strong>codersfree</strong>:<!-- -->
<ul>
<li>$ php artisan migrate<!-- -->:fresh</li>
</ul>
</li>
<li>Commit Video 26:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 26: Configurando el proyecto del cliente parahacer login&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-27-iniciar-sesión-desde-el-cliente">Viedo 27. Iniciar sesión desde el cliente<a href="#viedo-27-iniciar-sesión-desde-el-cliente" class="hash-link" aria-label="Enlace directo al Viedo 27. Iniciar sesión desde el cliente" title="Enlace directo al Viedo 27. Iniciar sesión desde el cliente">​</a></h3>
<ol>
<li>Abrir el proyecto cliente <strong>codersfree</strong>.</li>
<li>Modificar el método <strong>store</strong> del controlador <strong>codersfree\app\Http\Controllers\Auth\AuthenticatedSessionController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(LoginRequest $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;required|string|email&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; &#x27;required|string&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ])-&gt;post(&#x27;http://api.codersfree.test/v1/login&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; $request-&gt;email,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; $request-&gt;password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $service = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::updateOrcreate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; $request-&gt;email</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ], $service[&#x27;data&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $user;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del model <strong>User</strong> y del facade <strong>Http</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\User;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Http;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Para solventar problemas al ejecutar más de un proyecto Laravel en el mismo servidor local, ejecutar en el proyecto cliente:<!-- -->
<ul>
<li>$ php artisan config<!-- -->:cache</li>
</ul>
</li>
<li>Para probar la aplicación intentar acceder al endpoint de la aplicación API a través del login en la aplicación cliente:<!-- -->
<ul>
<li>Email: <a href="mailto:bazo.pedro@gmail.com" target="_blank" rel="noopener noreferrer">bazo.pedro@gmail.com</a></li>
<li>Password: 12345678</li>
</ul>
</li>
<li>Commit Video 27:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 27: Iniciar sesión desde el cliente&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-28-iniciar-sesión-desde-el-cliente-ii">Viedo 28. Iniciar sesión desde el cliente II<a href="#viedo-28-iniciar-sesión-desde-el-cliente-ii" class="hash-link" aria-label="Enlace directo al Viedo 28. Iniciar sesión desde el cliente II" title="Enlace directo al Viedo 28. Iniciar sesión desde el cliente II">​</a></h3>
<ol>
<li>Abrir el proyecto cliente <strong>codersfree</strong>.</li>
<li>Modificar el método <strong>store</strong> del controlador <strong>codersfree\app\Http\Controllers\Auth\AuthenticatedSessionController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(LoginRequest $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;required|string|email&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; &#x27;required|string&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ])-&gt;post(&#x27;http://api.codersfree.test/v1/login&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; $request-&gt;email,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; $request-&gt;password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if ($response-&gt;status() == 404) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return back()-&gt;withErrors(&#x27;These credentials do not match our records.&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $service = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::updateOrcreate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; $request-&gt;email</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ], $service[&#x27;data&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (!$user-&gt;accessToken) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ])-&gt;post(&#x27;http://api.codersfree.test/oauth/token&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;grant_type&#x27; =&gt; &#x27;password&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_id&#x27; =&gt; &#x27;94717435-7f73-4d1a-a9e2-0b88b0401377&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_secret&#x27; =&gt; &#x27;5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;username&#x27; =&gt; $request-&gt;email,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;password&#x27; =&gt; $request-&gt;password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $access_token = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $user-&gt;accessToken()-&gt;create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;service_id&#x27; =&gt; $service[&#x27;data&#x27;][&#x27;id&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;access_token&#x27; =&gt; $access_token[&#x27;access_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;refresh_token&#x27; =&gt; $access_token[&#x27;refresh_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;expires_at&#x27; =&gt; now()-&gt;addSecond($access_token[&#x27;expires_in&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Auth::login($user, $request-&gt;remember);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return redirect()-&gt;intended(RouteServiceProvider::HOME);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 28:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 28: Iniciar sesión desde el cliente II&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-29-registrar-usuario-desde-el-cliente">Viedo 29. Registrar usuario desde el cliente<a href="#viedo-29-registrar-usuario-desde-el-cliente" class="hash-link" aria-label="Enlace directo al Viedo 29. Registrar usuario desde el cliente" title="Enlace directo al Viedo 29. Registrar usuario desde el cliente">​</a></h3>
<ol>
<li>Abrir proyecto <strong>api.codersfree</strong>.</li>
<li>Mover el controlador <strong>RegisterController.php</strong>:<!-- -->
<ul>
<li>De: api.codersfree\app\Http\Controllers\Api</li>
<li>A: api.codersfree\app\Http\Controllers\Api\Auth</li>
</ul>
</li>
<li>Modificar namespace del controlador <strong>api.codersfree\app\Http\Controllers\Api\Auth\RegisterController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Http\Controllers\Api\Auth;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Cambiar la importación de la definición de <strong>RegisterController</strong> en el archivo de rutas <strong>api.codersfree\routes\api-v1.php</strong>:<!-- -->
<ul>
<li>De:</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\Api\RegisterController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>A:</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\Api\Auth\RegisterController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el método <strong>store</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\Auth\RegisterController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|string|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;required|string|email|max:255|unique:users&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; &#x27;required|string|min:8|confirmed&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; $request-&gt;name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; $request-&gt;email,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; bcrypt($request-&gt;password)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return UserResource::make($user);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del recurso <strong>UserResource</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Resources\UserResource;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Realizar petición http para probar endpoint:<!-- -->
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/register" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/register</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<ul>
<li>Field name: name                      | Value: Fulanito De Tal</li>
<li>Field name: email                     | Value: <a href="mailto:fulanito@gmail.com" target="_blank" rel="noopener noreferrer">fulanito@gmail.com</a></li>
<li>Field name: password                  | Value: 12345678</li>
<li>Field name: password_confirmation     | Value: 12345678</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<ul>
<li>Header: Accept    | Value: application/json</li>
</ul>
</li>
<li>Acción: Debe enviar el registro a la tabla <strong>users</strong>.</li>
</ul>
</li>
<li>Commit Video 29:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 29: Registrar usuario desde el cliente&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-30-registrar-usuario-desde-el-cliente-ii">Viedo 30. Registrar usuario desde el cliente II<a href="#viedo-30-registrar-usuario-desde-el-cliente-ii" class="hash-link" aria-label="Enlace directo al Viedo 30. Registrar usuario desde el cliente II" title="Enlace directo al Viedo 30. Registrar usuario desde el cliente II">​</a></h3>
<ol>
<li>Abrir el proyecto cliente <strong>codersfree</strong>.</li>
<li>Modificar el método store del controlador <strong>codersfree\app\Http\Controllers\Auth\RegisteredUserController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;required|string|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;required|string|email|max:255|unique:users&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; [&#x27;required&#x27;, &#x27;confirmed&#x27;, Rules\Password::defaults()],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ])-&gt;post(&#x27;http://api.codersfree.test/v1/register&#x27;, $request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if ($response-&gt;status() == 422) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return back()-&gt;withErrors($response-&gt;json()[&#x27;errors&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $service = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; $request-&gt;name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; $request-&gt;email</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ])-&gt;post(&#x27;http://api.codersfree.test/oauth/token&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;grant_type&#x27; =&gt; &#x27;password&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_id&#x27; =&gt; &#x27;94717435-7f73-4d1a-a9e2-0b88b0401377&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_secret&#x27; =&gt; &#x27;5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;username&#x27; =&gt; $request-&gt;email,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; $request-&gt;password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $access_token = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user-&gt;accessToken()-&gt;create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;service_id&#x27; =&gt; $service[&#x27;data&#x27;][&#x27;id&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;access_token&#x27; =&gt; $access_token[&#x27;access_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;refresh_token&#x27; =&gt; $access_token[&#x27;refresh_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;expires_at&#x27; =&gt; now()-&gt;addSecond($access_token[&#x27;expires_in&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    event(new Registered($user));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Auth::login($user);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return redirect(RouteServiceProvider::HOME);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del facade <strong>Http</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Http;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 30:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 30: Registrar usuario desde el cliente II&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-31-proteger-credenciales">Viedo 31. Proteger credenciales<a href="#viedo-31-proteger-credenciales" class="hash-link" aria-label="Enlace directo al Viedo 31. Proteger credenciales" title="Enlace directo al Viedo 31. Proteger credenciales">​</a></h3>
<ol>
<li>Abrir el proyecto cliente <strong>codersfree</strong>.</li>
<li>Crear servicio <strong>codersfree</strong> en el archivo de configuración <strong>codersfree\config\services.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;codersfree&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_id&#x27; =&gt; env(&#x27;CODERSFREE_CLIENT_ID&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_secret&#x27; =&gt; env(&#x27;CODERSFREE_CLIENT_SECRET&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear variables de entorno para almacenar las llaves del cliente tipo password en <strong>codersfree\.env</strong>:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_ID=&quot;94717435-7f73-4d1a-a9e2-0b88b0401377&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_SECRET=&quot;5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Para cachear el servicio <strong>codersfree</strong>:<!-- -->
<ul>
<li>$ php artisan config<!-- -->:clear</li>
<li>$ php artisan config<!-- -->:cache</li>
</ul>
</li>
<li>Modificar la instrucción con la información de las llaves clientes tipo password en los controladores <strong>codersfree\app\Http\Controllers\Auth\RegisteredUserController.php</strong> y <strong>codersfree\app\Http\Controllers\Auth\AuthenticatedSessionController.php</strong>:<!-- -->
<ul>
<li>Cambiar de:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&#x27;client_id&#x27; =&gt; &#x27;94717435-7f73-4d1a-a9e2-0b88b0401377&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&#x27;client_secret&#x27; =&gt; &#x27;5yo9JZN2W8kA9JVkvQE8KymeI48uBfm3F7ipLGXr&#x27;,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>A:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&#x27;client_secret&#x27; =&gt; config(&#x27;services.codersfree.client_secret&#x27;),</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 31:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 31: Proteger credenciales&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-32-trait-para-solicitar-un-acces-token">Viedo 32. Trait para solicitar un acces token<a href="#viedo-32-trait-para-solicitar-un-acces-token" class="hash-link" aria-label="Enlace directo al Viedo 32. Trait para solicitar un acces token" title="Enlace directo al Viedo 32. Trait para solicitar un acces token">​</a></h3>
<ol>
<li>Abrir el proyecto cliente <strong>codersfree</strong>.</li>
<li>Crear treit <strong>codersfree\app\Traits\token.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Traits;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Http;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trait Token{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function setAccessToken($user, $service){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ])-&gt;post(&#x27;http://api.codersfree.test/oauth/token&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;grant_type&#x27; =&gt; &#x27;password&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_secret&#x27; =&gt; config(&#x27;services.codersfree.client_secret&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;username&#x27; =&gt; request(&#x27;email&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;password&#x27; =&gt; request(&#x27;password&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $access_token = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $user-&gt;accessToken()-&gt;create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;service_id&#x27; =&gt; $service[&#x27;data&#x27;][&#x27;id&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;access_token&#x27; =&gt; $access_token[&#x27;access_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;refresh_token&#x27; =&gt; $access_token[&#x27;refresh_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;expires_at&#x27; =&gt; now()-&gt;addSecond($access_token[&#x27;expires_in&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Importar y usar el trait Token a los controladores <strong>codersfree\app\Http\Controllers\Auth\RegisteredUserController.php</strong> y <strong>codersfree\app\Http\Controllers\Auth\AuthenticatedSessionController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Traits\Token;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class {Nombre del controlador} extends Controller</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use Token;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el método <strong>store</strong> del controlador <strong>codersfree\app\Http\Controllers\Auth\RegisteredUserController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(Request $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;setAccessToken($user, $service);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    event(new Registered($user));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Auth::login($user);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return redirect(RouteServiceProvider::HOME);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el método <strong>store</strong> del controlador <strong>codersfree\app\Http\Controllers\Auth\AuthenticatedSessionController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(LoginRequest $request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (!$user-&gt;accessToken) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;setAccessToken($user, $service);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Auth::login($user, $request-&gt;remember);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return redirect()-&gt;intended(RouteServiceProvider::HOME);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Reestablecer la base de datos cliente <strong>codersfree</strong>:<!-- -->
<ul>
<li>$ php artisan migrate<!-- -->:fresh</li>
</ul>
</li>
<li>Commit Video 32:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 32: Trait para solicitar un acces token&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-33-mandar-acces-token-en-las-peticiones">Viedo 33. Mandar acces token en las peticiones<a href="#viedo-33-mandar-acces-token-en-las-peticiones" class="hash-link" aria-label="Enlace directo al Viedo 33. Mandar acces token en las peticiones" title="Enlace directo al Viedo 33. Mandar acces token en las peticiones">​</a></h3>
<ol>
<li>Abrir el proyecto client <strong>codersfree</strong>.</li>
<li>Crear el controlador <strong>PostController</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:controller<!-- --> PostController</li>
</ul>
</li>
<li>Crear ruta get posts en el archivo de rutas <strong>codersfree\routes\web.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::get(&#x27;posts&#x27;, [PostController::class, &#x27;store&#x27;])-&gt;middleware(&#x27;auth&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del controlador  <strong>PostController</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\PostController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear método <strong>store</strong> en el controlador <strong>codersfree\app\Http\Controllers\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Accept&#x27;    =&gt; &#x27;application/json&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Authorization&#x27; =&gt; &#x27;Bearer &#x27; . auth()-&gt;user()-&gt;accessToken-&gt;access_token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ])-&gt;post(&#x27;http://api.codersfree.test/v1/posts&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;Este es un nombre de prueba&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; &#x27;esto-esun-nombre-de-prueba&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;extract&#x27; =&gt; &#x27;sdsdsds&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;body&#x27; =&gt; &#x27;asdasdasdasdas&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;category_id&#x27; =&gt; 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del facade <strong>Http</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Http;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 33:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 33: Mandar acces token en las peticiones&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-9-gran-type-refresh-token">Sección 9: Gran type refresh token<a href="#sección-9-gran-type-refresh-token" class="hash-link" aria-label="Enlace directo al Sección 9: Gran type refresh token" title="Enlace directo al Sección 9: Gran type refresh token">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-34-solicitar-nuevo-token">Viedo 34. Solicitar nuevo token<a href="#viedo-34-solicitar-nuevo-token" class="hash-link" aria-label="Enlace directo al Viedo 34. Solicitar nuevo token" title="Enlace directo al Viedo 34. Solicitar nuevo token">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Agregar el método <strong>tokensExpireIn</strong> de la clase <strong>Passport</strong> en el método <strong>boot</strong> del provider <strong>api.codersfree\app\Providers\AuthServiceProvider.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function boot()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;registerPolicies();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Passport::routes();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Passport::tokensExpireIn(now()-&gt;addSeconds(60));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Abrir el proyecto client <strong>codersfree</strong>.</li>
<li>Modificar el método <strong>store</strong> del controlador <strong>codersfree\app\Http\Controllers\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;resolveAuthorization();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Accept&#x27;    =&gt; &#x27;application/json&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Authorization&#x27; =&gt; &#x27;Bearer &#x27; . auth()-&gt;user()-&gt;accessToken-&gt;access_token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ])-&gt;post(&#x27;http://api.codersfree.test/v1/posts&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;Este es un nombre de prueba&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;slug&#x27; =&gt; &#x27;esto-esun-nombre-de-prueba&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;extract&#x27; =&gt; &#x27;sdsdsds&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;body&#x27; =&gt; &#x27;asdasdasdasdas&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;category_id&#x27; =&gt; 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear método resolveAuthorization en el controlador <strong>codersfree\app\Http\Controllers\Controller.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Verifica si el token esta caducado para solicitar otro</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function resolveAuthorization(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if(auth()-&gt;user()-&gt;accessToken-&gt;expires_at &lt;= now()){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ])-&gt;post(&#x27;http://api.codersfree.test/oauth/token&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;grant_type&#x27; =&gt; &#x27;refresh_token&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;refresh_token&#x27; =&gt; auth()-&gt;user()-&gt;accessToken-&gt;refresh_token,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_secret&#x27; =&gt; config(&#x27;services.codersfree.client_secret&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $access_token = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        auth()-&gt;user()-&gt;accessToken-&gt;update([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;access_token&#x27; =&gt; $access_token[&#x27;access_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;refresh_token&#x27; =&gt; $access_token[&#x27;refresh_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;expires_at&#x27; =&gt; now()-&gt;addSecond($access_token[&#x27;expires_in&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);           </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del facade <strong>Http</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Http;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 34:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 34: Solicitar nuevo token&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-35-purgar-tokens">Viedo 35. Purgar tokens<a href="#viedo-35-purgar-tokens" class="hash-link" aria-label="Enlace directo al Viedo 35. Purgar tokens" title="Enlace directo al Viedo 35. Purgar tokens">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Para purgar de la base de datos los access tokens caducos:<!-- -->
<ul>
<li>$ php artisan passport<!-- -->:purge</li>
</ul>
</li>
<li>Programar tarea para purgar tokens caducos en el método <strong>schedule</strong> del kernel <strong>api.codersfree\app\Console\Kernel.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">protected function schedule(Schedule $schedule)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Para usar en desarrollo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $schedule-&gt;command(&#x27;passport:purge&#x27;)-&gt;everyMinute();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Para usar en producción</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // $schedule-&gt;command(&#x27;passport:purge&#x27;)-&gt;daily();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Para que se ejecute el comando programado anteriormente cada minuto en nuestra máquina local:<!-- -->
<ul>
<li>$ php artisan schedule<!-- -->:work</li>
</ul>
</li>
<li>Commit Video 35:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 35: Purgar tokens&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-10-gran-type-authorization_code">Sección 10: Gran type authorization_code<a href="#sección-10-gran-type-authorization_code" class="hash-link" aria-label="Enlace directo al Sección 10: Gran type authorization_code" title="Enlace directo al Sección 10: Gran type authorization_code">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-36-instalar-laravel-breeze-en-nuestra-api">Viedo 36. Instalar laravel breeze en nuestra api<a href="#viedo-36-instalar-laravel-breeze-en-nuestra-api" class="hash-link" aria-label="Enlace directo al Viedo 36. Instalar laravel breeze en nuestra api" title="Enlace directo al Viedo 36. Instalar laravel breeze en nuestra api">​</a></h3>
<p><strong>URL Documentación Laravel Breeze</strong>: <a href="https://laravel.com/docs/8.x/starter-kits" target="_blank" rel="noopener noreferrer">https://laravel.com/docs/8.x/starter-kits</a></p>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Instalara Laravel Breeze:<!-- -->
<ul>
<li>$ composer require laravel/breeze --dev</li>
<li>$ php artisan breeze<!-- -->:install</li>
<li>$ npm install</li>
<li>$ npm run dev</li>
<li>$ php artisan migrate</li>
</ul>
</li>
<li>Crear controlador <strong>ClientController</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:controller<!-- --> ClientController</li>
</ul>
</li>
<li>Agregar ruta get clients en el archivo de rutas <strong>api.codersfree\routes\web.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::get(&#x27;clients&#x27;, [ClientController::class, &#x27;index&#x27;])-&gt;name(&#x27;clients.index&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definción del controlador <strong>ClientController</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\ClientController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método <strong>index</strong> del controlador <strong>api.codersfree\app\Http\Controllers\ClientController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return view(&#x27;clients.index&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-slot name=&quot;header&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2 class=&quot;font-semibold text-xl text-gray-800 leading-tight&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Agregar componente <strong>Clientes</strong> al dropdown de la plantilla <strong>api.codersfree\resources\views\layouts\navigation.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!-- Settings Dropdown --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;div class=&quot;hidden sm:flex sm:items-center sm:ml-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-dropdown align=&quot;right&quot; width=&quot;48&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-slot name=&quot;content&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Clientes --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-dropdown-link :href=&quot;route(&#x27;clients.index&#x27;)&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-dropdown-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;!-- Authentication --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-dropdown&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/div&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 36:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 36: Instalar laravel breeze en nuestra api&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-37-crear-formulario-para-crear-nuevo-cliente">Viedo 37. Crear formulario para crear nuevo cliente<a href="#viedo-37-crear-formulario-para-crear-nuevo-cliente" class="hash-link" aria-label="Enlace directo al Viedo 37. Crear formulario para crear nuevo cliente" title="Enlace directo al Viedo 37. Crear formulario para crear nuevo cliente">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Crear el componente <strong>api.codersfree\resources\views\components\container.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;div {{$attributes-&gt;merge([&quot;class&quot; =&gt; &quot;max-w-7xl mx-auto sm:px-6 lg:px-8&quot;])}}&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {{$slot}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/div&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el componente <strong>api.codersfree\resources\views\components\form-section.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;div {{$attributes-&gt;merge([&quot;class&quot; =&gt; &quot;grid grid-cols-3 gap-6&quot;])}}&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;px-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h3 class=&quot;text-lg font-medium text-gray-900&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{$title}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h3&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;p class=&quot;mt-1 text-sm text-gray-600&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{$description}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;col-span-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;px-4 py-5 sm:p-6 bg-white shadow sm:rounded-tl-md rounded-tr-md&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{$slot}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            @isset($actions)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;px-6 py-3 bg-gray-100 shadow flex justify-end items-center rounded-bl-md rounded-br-md&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    {{$actions}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            @endisset    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/div&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-slot name=&quot;header&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2 class=&quot;font-semibold text-xl text-gray-800 leading-tight&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Crea un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Ingrese los datos solicitados para poder crear un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;actions&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Crear</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 37:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 37: Crear formulario para crear nuevo cliente&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-38-volver-formulario-responsivo">Viedo 38. Volver formulario responsivo<a href="#viedo-38-volver-formulario-responsivo" class="hash-link" aria-label="Enlace directo al Viedo 38. Volver formulario responsivo" title="Enlace directo al Viedo 38. Volver formulario responsivo">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Convertir en responsivo el componente <strong>api.codersfree\resources\views\components\form-section.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;div {{$attributes-&gt;merge([&quot;class&quot; =&gt; &quot;md:grid md:grid-cols-3 md:gap-6&quot;])}}&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;px-4 sm:px-0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h3 class=&quot;text-lg font-medium text-gray-900&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{$title}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h3&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;p class=&quot;mt-1 text-sm text-gray-600&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{$description}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;mt-5 md:mt-0 md:col-span-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;px-4 py-5 sm:p-6 bg-white shadow {{ isset($actions) ? &#x27;sm:rounded-tl-md sm:rounded-tr-md&#x27; : &#x27;sm:rounded-md&#x27; }}&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{$slot}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            @isset($actions)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;px-6 py-3 bg-gray-100 shadow flex justify-end items-center sm:rounded-bl-md sm:rounded-br-md&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    {{$actions}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            @endisset    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/div&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 38:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 38: Volver formulario responsivo&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-39-incluir-vue-y-axios-en-nuestro-proyecto">Viedo 39. Incluir vue y axios en nuestro proyecto<a href="#viedo-39-incluir-vue-y-axios-en-nuestro-proyecto" class="hash-link" aria-label="Enlace directo al Viedo 39. Incluir vue y axios en nuestro proyecto" title="Enlace directo al Viedo 39. Incluir vue y axios en nuestro proyecto">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-slot name=&quot;header&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2 class=&quot;font-semibold text-xl text-gray-800 leading-tight&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Crea un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Ingrese los datos solicitados para poder crear un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-label&gt;Nombre&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-input type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-label&gt;URL de redirección&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-input type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;actions&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Crear</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Agregar los CDN&#x27;s de <strong>VUE</strong>, <strong>Axios</strong> y  <strong>sweetalert2</strong> en la plantilla <strong>api.codersfree\resources\views\layouts\app.blade.php</strong> para poder extender sus funcionalidades a todas las vistas:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;!-- VUE --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;!-- Axios --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;!-- sweetalert2 --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;script src=&quot;//cdn.jsdelivr.net/npm/sweetalert2@11&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>URL CDN de VUE</strong>: <a href="https://vuejs.org/v2/guide/installation.html" target="_blank" rel="noopener noreferrer">https://vuejs.org/v2/guide/installation.html</a></li>
<li><strong>URL CDN de Axios</strong>: <a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">https://github.com/axios/axios</a></li>
<li><strong>URL CDN de sweetalert2</strong>: <a href="https://sweetalert2.github.io/#download" target="_blank" rel="noopener noreferrer">https://sweetalert2.github.io/#download</a></li>
</ul>
</li>
<li>Commit Video 39:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 39: Incluir vue y axios en nuestro proyecto&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-40-registrar-nuevos-clientes">Viedo 40. Registrar nuevos clientes<a href="#viedo-40-registrar-nuevos-clientes" class="hash-link" aria-label="Enlace directo al Viedo 40. Registrar nuevos clientes" title="Enlace directo al Viedo 40. Registrar nuevos clientes">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-slot name=&quot;header&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2 class=&quot;font-semibold text-xl text-gray-800 leading-tight&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-container id=&quot;app&quot; class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Crea un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Ingrese los datos solicitados para poder crear un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-label&gt;Nombre&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-input v-model=&quot;createForm.name&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-label&gt;URL de redirección&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-input v-model=&quot;createForm.redirect&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;actions&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-button v-on:click=&quot;store&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Crear</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    createForm:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        redirect: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/clients&#x27;, this.createForm)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.name=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.redirect=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Deleted!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Your file has been deleted.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                alert(&#x27;No has completado los datos correspondientes&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Definir un stack en la plantilla <strong>api.codersfree\resources\views\layouts\app.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;body class=&quot;font-sans antialiased&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @stack(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/body&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 40:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 40: Registrar nuevos clientes&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-41-mostrar-listado-de-clientes">Viedo 41. Mostrar listado de clientes<a href="#viedo-41-mostrar-listado-de-clientes" class="hash-link" aria-label="Enlace directo al Viedo 41. Mostrar listado de clientes" title="Enlace directo al Viedo 41. Mostrar listado de clientes">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-container id=&quot;app&quot; class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡         </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Lista de clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Aquí podrás encontrar todos los clientes que has agregado</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;table class=&quot;text-gray-600&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;thead class=&quot;border-b border-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;tr class=&quot;text-left&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;th class=&quot;py-2 w-full&quot;&gt;Nombre&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;th class=&quot;py-2&quot;&gt;Acción&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/thead&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;tbody class=&quot;divide-y divide-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;tr v-for=&quot;client in clients&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;td class=&quot; y-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                @{{ client.name }}  {{-- El @ se escribe para evitar conflicto entre Blade y VUE --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;td class=&quot;flex divide-x divide-gray-300 py-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;a class=&quot;pr-2 hover:text-blue-600 font-semibold cursor-pointer&quot;&gt;Editar&lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;a class=&quot;pl-2 hover:text-red-600 font-semibold cursor-pointer&quot;&gt;Eliminar&lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/table&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    clients: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    createForm:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        redirect: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getClients(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.get(&#x27;/oauth/clients&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.clients = response.data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/clients&#x27;, this.createForm)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.name=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.redirect=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Deleted!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Your file has been deleted.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                alert(&#x27;No has completado los datos correspondientes&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 41:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 41: Mostrar listado de clientes&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-42-mostrar-mensajes-de-error">Viedo 42. Mostrar mensajes de error<a href="#viedo-42-mostrar-mensajes-de-error" class="hash-link" aria-label="Enlace directo al Viedo 42. Mostrar mensajes de error" title="Enlace directo al Viedo 42. Mostrar mensajes de error">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-container id=&quot;app&quot; class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div v-if=&quot;createForm.errors.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div class=&quot;mb-4 bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;strong class=&quot;font-bold&quot;&gt;Whoops!&lt;/strong&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;span&gt;¡Algo salio mal!&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;li v-for=&quot;error in createForm.errors&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{error}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-label&gt;Nombre&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-input v-model=&quot;createForm.name&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-label&gt;URL de redirección&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-input v-model=&quot;createForm.redirect&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;actions&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-button v-on:click=&quot;store&quot; v-bind:disabled=&quot;createForm.disabled&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Crear</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section v-if=&quot;clients.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    clients: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    createForm:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        disabled: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        redirect: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getClients(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.get(&#x27;/oauth/clients&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.clients = response.data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.createForm.disabled = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/clients&#x27;, this.createForm)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.name=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.redirect=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Creado con éxito!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;El cliente se creó satisfactoriamente.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.errors = _.flatten(_.toArray(error.response.data.errors));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 42:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 42: Mostrar mensajes de error&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-43-traducir-laravel">Viedo 43. Traducir Laravel<a href="#viedo-43-traducir-laravel" class="hash-link" aria-label="Enlace directo al Viedo 43. Traducir Laravel" title="Enlace directo al Viedo 43. Traducir Laravel">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Ejecutar en la consola del proyecto:<!-- -->
<ul>
<li>$ composer require laraveles/spanish</li>
<li>$ php artisan vendor<!-- -->:publish<!-- --> --tag=lang</li>
</ul>
</li>
<li>Modificar el archivo de configuración <strong>api.codersfree\config\app.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;locale&#x27; =&gt; &#x27;es&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el archivo <strong>api.codersfree\resources\lang\es\validation.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;attributes&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;nombre&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;redirect&#x27; =&gt; &#x27;redirección&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 43:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 43: Traducir Laravel&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-44-eliminar-cliente">Viedo 44. Eliminar cliente<a href="#viedo-44-eliminar-cliente" class="hash-link" aria-label="Enlace directo al Viedo 44. Eliminar cliente" title="Enlace directo al Viedo 44. Eliminar cliente">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-container id=&quot;app&quot; class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-form-section v-if=&quot;clients.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;table class=&quot;text-gray-600&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;tbody class=&quot;divide-y divide-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;tr v-for=&quot;client in clients&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;td class=&quot;flex divide-x divide-gray-300 py-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;a class=&quot;pr-2 hover:text-blue-600 font-semibold cursor-pointer&quot;&gt;Editar&lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;a class=&quot;pl-2 hover:text-red-600 font-semibold cursor-pointer&quot; v-on:click=&quot;destroy(client)&quot;&gt;Eliminar&lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/table&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    destroy(client){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        Swal.fire({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            title: &#x27;Are you sure?&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            text: &quot;You won&#x27;t be able to revert this!&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            icon: &#x27;warning&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            showCancelButton: true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            confirmButtonColor: &#x27;#3085d6&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            cancelButtonColor: &#x27;#d33&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            confirmButtonText: &#x27;Yes, delete it!&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).then((result) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            if (result.isConfirmed) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                axios.delete(&#x27;/oauth/clients/&#x27; + client.id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &#x27;Deleted!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &#x27;Your file has been deleted.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>URL sweetalert2</strong>: <a href="https://sweetalert2.github.io" target="_blank" rel="noopener noreferrer">https://sweetalert2.github.io</a></li>
</ul>
</li>
<li>Commit Video 44:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 44: Eliminar cliente&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-45-editar-cliente-i">Viedo 45. Editar cliente I<a href="#viedo-45-editar-cliente-i" class="hash-link" aria-label="Enlace directo al Viedo 45. Editar cliente I" title="Enlace directo al Viedo 45. Editar cliente I">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-slot name=&quot;header&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2 class=&quot;font-semibold text-xl text-gray-800 leading-tight&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div id=&quot;app&quot; &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Crear cliente --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Crea un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Ingrese los datos solicitados para poder crear un nuevo cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div v-if=&quot;createForm.errors.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;div class=&quot;mb-4 bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;strong class=&quot;font-bold&quot;&gt;Whoops!&lt;/strong&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;span&gt;¡Algo salio mal!&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;li v-for=&quot;error in createForm.errors&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        @{{error}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-label&gt;Nombre&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-input v-model=&quot;createForm.name&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;col-span-6 sm:col-span-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-label&gt;URL de redirección&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-input v-model=&quot;createForm.redirect&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;actions&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-button v-on:click=&quot;store&quot; v-bind:disabled=&quot;createForm.disabled&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        Crear</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Mostrar clientes --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section v-if=&quot;clients.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Lista de clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Aquí podrás encontrar todos los clientes que has agregado</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;table class=&quot;text-gray-600&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;thead class=&quot;border-b border-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;tr class=&quot;text-left&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;th class=&quot;py-2 w-full&quot;&gt;Nombre&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;th class=&quot;py-2&quot;&gt;Acción&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/thead&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;tbody class=&quot;divide-y divide-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;tr v-for=&quot;client in clients&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;td class=&quot; y-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{ client.name }}  {{-- El @ se escribe para evitar conflicto entre Blade y VUE --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;td class=&quot;flex divide-x divide-gray-300 py-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;a class=&quot;pr-2 hover:text-blue-600 font-semibold cursor-pointer&quot; v-on:click=&quot;edit(client)&quot;&gt;Editar&lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;a class=&quot;pl-2 hover:text-red-600 font-semibold cursor-pointer&quot; v-on:click=&quot;destroy(client)&quot;&gt;Eliminar&lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/table&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{-- Modal --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-dialog-modal modal=&quot;editForm.open&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Editar cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;content&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;space-y-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div v-if=&quot;editForm.errors.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div class=&quot;bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;strong class=&quot;font-bold&quot;&gt;Whoops!&lt;/strong&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;span&gt;¡Algo salio mal!&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;li v-for=&quot;error in editForm.errors&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{error}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-label&gt;Nombre&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-input v-model=&quot;editForm.name&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-label&gt;URL de redirección&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-input v-model=&quot;editForm.redirect&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;footer&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;button type=&quot;button&quot; class=&quot;w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Actualizar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;button type=&quot;button&quot; class=&quot;mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Cancelar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-dialog-modal&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    clients: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    createForm:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        disabled: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        redirect: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    editForm:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        open: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        disabled: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        redirect: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getClients(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.get(&#x27;/oauth/clients&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.clients = response.data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.createForm.disabled = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/clients&#x27;, this.createForm)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.name=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.redirect=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.errors=[];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Creado con éxito!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;El cliente se creó satisfactoriamente.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.errors = _.flatten(_.toArray(error.response.data.errors));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    edit(client){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.editForm.open = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    destroy(client){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        Swal.fire({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            title: &#x27;Are you sure?&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            text: &quot;You won&#x27;t be able to revert this!&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            icon: &#x27;warning&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            showCancelButton: true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            confirmButtonColor: &#x27;#3085d6&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            cancelButtonColor: &#x27;#d33&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            confirmButtonText: &#x27;Yes, delete it!&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).then((result) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            if (result.isConfirmed) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                axios.delete(&#x27;/oauth/clients/&#x27; + client.id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &#x27;Deleted!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &#x27;Your file has been deleted.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear componente <strong>api.codersfree\resources\views\components\dialog-modal.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@props([&#x27;modal&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;div v-show=&quot;{{$modal}}&quot; class=&quot;fixed z-10 inset-0 overflow-y-auto&quot; aria-labelledby=&quot;modal-title&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div v-on:click=&quot;{{$modal}} = false&quot; class=&quot;fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;!-- This element is to trick the browser into centering the modal contents. --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;span class=&quot;hidden sm:inline-block sm:align-middle sm:h-screen&quot; aria-hidden=&quot;true&quot;&gt;&amp;#8203;&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;w-full inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;sm:flex sm:items-start&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;w-full text-center sm:text-left&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;h3 class=&quot;text-lg leading-6 font-medium text-gray-900&quot; id=&quot;modal-title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            {{$title}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/h3&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div class=&quot;mt-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            {{$content}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{$footer}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/div&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>URL Tailwind Modals: <a href="https://tailwindui.com/components/application-ui/overlays/modals" target="_blank" rel="noopener noreferrer">https://tailwindui.com/components/application-ui/overlays/modals</a></li>
</ul>
</li>
<li>Commit Video 45:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 45: Editar cliente I&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-46-editar-cliente-ii">Viedo 46. Editar cliente II<a href="#viedo-46-editar-cliente-ii" class="hash-link" aria-label="Enlace directo al Viedo 46. Editar cliente II" title="Enlace directo al Viedo 46. Editar cliente II">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div id=&quot;app&quot; &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{-- Modal --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-dialog-modal modal=&quot;editForm.open&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Editar cliente</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;content&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;space-y-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div v-if=&quot;editForm.errors.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div class=&quot;bg-red-100 border border-red-400 text-red-700 px-4 oy-3 rounded&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;strong class=&quot;font-bold&quot;&gt;Whoops!&lt;/strong&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;span&gt;¡Algo salio mal!&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;li v-for=&quot;error in editForm.errors&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{error}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-label&gt;Nombre&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-input v-model=&quot;editForm.name&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-label&gt;URL de redirección&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-input v-model=&quot;editForm.redirect&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;&gt;&lt;/x-input&gt; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;footer&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;button type=&quot;button&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    v-on:click=&quot;update()&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    v-bind:disabled=&quot;editForm.disabled&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    class=&quot;w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Actualizar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;button v-on:click=&quot;editForm.open = false&quot; type=&quot;button&quot; class=&quot;mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Cancelar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-dialog-modal&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    clients: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    createForm:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    editForm:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        open: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        disabled: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        id: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        redirect: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    edit(client){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.editForm.open = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.editForm.errors = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.editForm.id = client.id;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.editForm.name = client.name;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.editForm.redirect = client.redirect;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    update(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.editForm.disabled = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.put(&#x27;/oauth/clients/&#x27; + this.editForm.id, this.editForm)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.editForm.open = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.editForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.editForm.name = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.editForm.redirect = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.editForm.errors = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;¡Actualizado con éxito!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;El cliente se actualizó satisfactoriamente.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.editForm.errors = _.flatten(_.toArray(error.response.data.errors));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.editForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    destroy(client){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 46:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 46: Editar cliente II&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-47-credenciales-del-cliente">Viedo 47. Credenciales del cliente<a href="#viedo-47-credenciales-del-cliente" class="hash-link" aria-label="Enlace directo al Viedo 47. Credenciales del cliente" title="Enlace directo al Viedo 47. Credenciales del cliente">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\clients\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div id=&quot;app&quot; &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Crear cliente --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Mostrar clientes --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section v-if=&quot;clients.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                 ≡          </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{-- Modal edit --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-dialog-modal modal=&quot;editForm.open&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-dialog-modal&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{-- Modal show --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-dialog-modal modal=&quot;showClient.open&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Mostrar credenciales</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;content&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;space-y-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;span class=&quot;font-semibold&quot;&gt;CLIENTE:&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;span v-text=&quot;showClient.name&quot;&gt;&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;span class=&quot;font-semibold&quot;&gt;CLIENTE_ID:&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;span v-text=&quot;showClient.id&quot;&gt;&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;span class=&quot;font-semibold&quot;&gt;CLIENTE_SECRET:&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;span v-text=&quot;showClient.secret&quot;&gt;&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;footer&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;button v-on:click=&quot;showClient.open = false&quot; type=&quot;button&quot; class=&quot;w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Cancelar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-dialog-modal&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    clients: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    showClient:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        open: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        id: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        secret: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getClients(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },            </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    show(client){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.showClient.open = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.showClient.name = client.name;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.showClient.id = client.id;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.showClient.secret = client.secret;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.createForm.disabled = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/clients&#x27;, this.createForm)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.name=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.redirect=null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.errors=[];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                /* Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Creado con éxito!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;El cliente se creó satisfactoriamente.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                ) */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.show(response.data);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.getClients();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.errors = _.flatten(_.toArray(error.response.data.errors));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.createForm.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 47:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 47: Credenciales del cliente&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-48-crear-nuevo-proyecto-para-un-cliente-externo">Viedo 48. Crear nuevo proyecto para un cliente externo<a href="#viedo-48-crear-nuevo-proyecto-para-un-cliente-externo" class="hash-link" aria-label="Enlace directo al Viedo 48. Crear nuevo proyecto para un cliente externo" title="Enlace directo al Viedo 48. Crear nuevo proyecto para un cliente externo">​</a></h3>
<ol>
<li>Crear nuevo proyecto Laravel:<!-- -->
<ul>
<li>$ laravel new cliente2</li>
</ul>
</li>
<li>Abrir el archivo: <strong>C:\Windows\System32\drivers\etc\hosts</strong> como administrador y en la parte final del archivo escribir.<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">127.0.0.1     cliente2.test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Guardar y cerrar.</li>
<li>Abri el archivo de texto plano de configuración de Apache <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong>.</li>
<li>Ir al final del archivo y anexar lo siguiente:<!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    DocumentRoot &quot;C:\xampp\htdocs\cursos\24apirestful\cliente2\public&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ServerName cliente2.test</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;Directory &quot;C:\xampp\htdocs\cursos\24apirestful\cliente2\public&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Options All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        AllowOverride All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Require all granted</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Guardar y cerrar.</li>
<li>Reiniciar el servidor Apache.<!-- -->
<ul>
<li><strong>Nota 1</strong>: ahora podemos ejecutar nuestro proyecto local en el navegador introduciendo la siguiente dirección: <a href="http://cliente2.test" target="_blank" rel="noopener noreferrer">http://cliente2.test</a></li>
<li><strong>Nota 2</strong>: En caso de que no funcione el enlace, cambiar en el archivo <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong> todos los segmentos de código:<!-- -->
<div class="language-conft codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conft codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost \*&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->por:<!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *:80&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Crear el servicio <strong>codersfree</strong> en <strong>cliente2\config\services.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">return [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;codersfree&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_id&#x27; =&gt; env(&#x27;CODERSFREE_CLIENT_ID&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_secret&#x27; =&gt; env(&#x27;CODERSFREE_CLIENT_SECRET&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Definir las variables del servicio <strong>codersfree</strong> al final del archivo de variables de entorno <strong>cliente2\.env</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_ID=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_SECRET=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Abrir el proyecto <strong>api.codersfree</strong> y crear el cliente:<!-- -->
<ul>
<li>Nombre: Cliente2</li>
<li>URL de redirección: <a href="http://cliente2.test/callback" target="_blank" rel="noopener noreferrer">http://cliente2.test/callback</a></li>
</ul>
</li>
<li>Copiar las credenciales de <strong>Cliente2</strong> y volver al nuevo proyecto <strong>cliente2</strong>.</li>
<li>Pegar las credenciales que acabamos de copiar en las correspondiente al servicio <strong>codersfree</strong> en <strong>cliente2\.env</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_ID=94753fa7-3c7a-4aa6-a71a-5ec8bf202215</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_SECRET=KL61T3ypp5qjE6iqaSFb2Vixvt1CmzhocuygziyS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Para solventar problemas al ejecutar más de un proyecto Laravel en el mismo servidor local, ejecutar en el proyecto <strong>cliente2</strong>:<!-- -->
<ul>
<li>$ php artisan config<!-- -->:cache</li>
</ul>
</li>
<li>Commit Video 48:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 48: Crear nuevo proyecto para un cliente externo&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-49-instalar-laravel-breeze-en-el-cliente-2">Viedo 49. Instalar laravel breeze en el cliente 2<a href="#viedo-49-instalar-laravel-breeze-en-el-cliente-2" class="hash-link" aria-label="Enlace directo al Viedo 49. Instalar laravel breeze en el cliente 2" title="Enlace directo al Viedo 49. Instalar laravel breeze en el cliente 2">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>cliente2</strong>.</li>
<li>Crear base de datos <strong>cliente2</strong>.</li>
<li>Modificar la siguiente variable de entorno del archivo <strong>cliente2\.env</strong>:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">APP_NAME=Cliente2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Instalara Laravel Breeze:
<strong>URL Laravel Breeze</strong>: <a href="https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS" target="_blank" rel="noopener noreferrer">https://laravel.com/docs/8.x/starter-kits#:~:text=Laravel%20Breeze%20is%20a%20minimal,templates%20styled%20with%20Tailwind%20CSS</a>.<!-- -->
<ul>
<li>$ composer require laravel/breeze --dev</li>
<li>$ php artisan breeze<!-- -->:install</li>
<li>$ npm install</li>
<li>$ npm run dev</li>
<li>$ php artisan migrate</li>
</ul>
</li>
<li>Modificar la vista <strong>cliente2\resources\views\dashboard.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-slot name=&quot;header&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2 class=&quot;font-semibold text-xl text-gray-800 leading-tight&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{ __(&#x27;Dashboard&#x27;) }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;py-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;max-w-7xl mx-auto sm:px-6 lg:px-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;bg-white overflow-hidden shadow-sm sm:rounded-lg&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;p-6 bg-white border-b border-gray-200&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Solicitar permisos</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;a href=&quot;{{route(&#x27;redirect&#x27;)}}&quot; class=&quot;ml-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        Redirigir</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>URL Buttons Tailwind</strong>: <a href="https://v1.tailwindcss.com/components/buttons" target="_blank" rel="noopener noreferrer">https://v1.tailwindcss.com/components/buttons</a></li>
</ul>
</li>
<li>Crear ruta <strong>redirect</strong> tipo <strong>get</strong> en el archivo de rutas <strong>cliente2\routes\web.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::get(&#x27;redirect&#x27;, function () {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return &quot;Te has redirigido&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})-&gt;name(&#x27;redirect&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 49:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 49: Instalar laravel breeze en el cliente 2&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-50-obtener-código-de-autorización">Viedo 50. Obtener código de autorización<a href="#viedo-50-obtener-código-de-autorización" class="hash-link" aria-label="Enlace directo al Viedo 50. Obtener código de autorización" title="Enlace directo al Viedo 50. Obtener código de autorización">​</a></h3>
<p><strong>URL Documentación Laravel Passport</strong>: <a href="https://laravel.com/docs/8.x/passport" target="_blank" rel="noopener noreferrer">https://laravel.com/docs/8.x/passport</a></p>
<ol>
<li>Abrir el proyecto <strong>cliente2</strong>.</li>
<li>Crear controlador <strong>OauthController</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:controller<!-- --> OauthController</li>
</ul>
</li>
<li>Modificar la ruta <strong>redirect</strong> tipo <strong>get</strong> en el archivo de rutas <strong>cliente2\routes\web.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::get(&#x27;redirect&#x27;, [OauthController::class, &#x27;redirect&#x27;])-&gt;name(&#x27;redirect&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del controlador <strong>OauthController</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\OauthController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Definir el método <strong>redirect</strong> en el controlador <strong>cliente2\app\Http\Controllers\OauthController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function redirect(Request $request){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;session()-&gt;put(&#x27;state&#x27;, $state = Str::random(40));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $query = http_build_query([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;redirect_uri&#x27; =&gt; route(&#x27;callback&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;response_type&#x27; =&gt; &#x27;code&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;scope&#x27; =&gt; &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;state&#x27; =&gt; $state,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return redirect(&#x27;http://api.codersfree.test/oauth/authorize?&#x27;.$query);        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del soporte <strong>Str</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Str;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear ruta <strong>callback</strong> tipo <strong>get</strong> en el archivo de rutas <strong>cliente2\routes\web.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::get(&#x27;callback&#x27;, [OauthController::class, &#x27;callback&#x27;])-&gt;name(&#x27;callback&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Definir el método <strong>callback</strong> en el controlador <strong>cliente2\app\Http\Controllers\OauthController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function callback(Request $request){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $request-&gt;all();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Publicar vistas de Laravel Passport:<!-- -->
<ul>
<li>$ php artisan vendor<!-- -->:publish<!-- --> --tag=passport-views</li>
</ul>
</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\vendor\passport\authorize.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;!DOCTYPE html&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;html lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;title&gt;{{ config(&#x27;app.name&#x27;) }} - Authorization&lt;/title&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;!-- Styles --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {{-- &lt;link href=&quot;{{ asset(&#x27;/css/app.css&#x27;) }}&quot; rel=&quot;stylesheet&quot;&gt; --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;!-- CSS only --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU&quot; crossorigin=&quot;anonymous&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;style&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/style&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;body class=&quot;passport-authorize&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/html&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>URL CDN Bootstrap</strong>: <a href="https://getbootstrap.com" target="_blank" rel="noopener noreferrer">https://getbootstrap.com</a></li>
</ul>
</li>
<li>Commit Video 50:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 50: Obtener código de autorización&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-51-solicitar-acees-token">Viedo 51. Solicitar Acees Token<a href="#viedo-51-solicitar-acees-token" class="hash-link" aria-label="Enlace directo al Viedo 51. Solicitar Acees Token" title="Enlace directo al Viedo 51. Solicitar Acees Token">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>cliente2</strong>.</li>
<li>Redifinir el método <strong>callback</strong> en el controlador <strong>cliente2\app\Http\Controllers\OauthController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function callback(Request $request){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $state = $request-&gt;session()-&gt;pull(&#x27;state&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    throw_unless(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        strlen($state) &gt; 0 &amp;&amp; $state === $request-&gt;state,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        InvalidArgumentException::class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::asForm()-&gt;post(&#x27;http://api.codersfree.test/oauth/token&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;grant_type&#x27; =&gt; &#x27;authorization_code&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_secret&#x27; =&gt; config(&#x27;services.codersfree.client_secret&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;redirect_uri&#x27; =&gt; route(&#x27;callback&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;code&#x27; =&gt; $request-&gt;code,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar la definición del facade <strong>Http</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Support\Facades\Http;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>URL Documentación Laravel Passport</strong>: <a href="https://laravel.com/docs/8.x/passport" target="_blank" rel="noopener noreferrer">https://laravel.com/docs/8.x/passport</a></li>
</ul>
</li>
<li>Commit Video 51:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 51: Solicitar Acees Token&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-11-personal-access-token">Sección 11: Personal Access Token<a href="#sección-11-personal-access-token" class="hash-link" aria-label="Enlace directo al Sección 11: Personal Access Token" title="Enlace directo al Sección 11: Personal Access Token">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-52-crear-ruta">Viedo 52. Crear ruta<a href="#viedo-52-crear-ruta" class="hash-link" aria-label="Enlace directo al Viedo 52. Crear ruta" title="Enlace directo al Viedo 52. Crear ruta">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Crear el controlador <strong>TokenController</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:controller<!-- --> TokenController</li>
</ul>
</li>
<li>Crear ruta get api-tokens en <strong>api.codersfree\routes\web.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Route::get(&#x27;api-tokens&#x27;, [TokenController::class, &#x27;index&#x27;])-&gt;name(&#x27;tokens.index&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar el controlador <strong>TokenController</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Http\Controllers\TokenController;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el método <strong>index</strong> en el controlador <strong>api.codersfree\app\Http\Controllers\TokenController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function index(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return view(&#x27;tokens.index&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear vista api.codersfree\resources\views\tokens\index.blade.php:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;x-slot name=&quot;header&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2 class=&quot;font-semibold text-xl text-gray-800 leading-tight&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            Api Tokens</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/x-slot&gt;   </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Agregar el menú Api Tokens en la plantilla <strong>api.codersfree\resources\views\layouts\navigation.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;nav x-data=&quot;{ open: false }&quot; class=&quot;bg-white border-b border-gray-100&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;!-- Primary Navigation Menu --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;flex justify-between h-16&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;!-- Settings Dropdown --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;hidden sm:flex sm:items-center sm:ml-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-dropdown align=&quot;right&quot; width=&quot;48&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-slot name=&quot;content&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        {{-- Clientes --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-dropdown-link :href=&quot;route(&#x27;clients.index&#x27;)&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/x-dropdown-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        {{-- Api Tokens --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-dropdown-link :href=&quot;route(&#x27;tokens.index&#x27;)&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            Api Tokens</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/x-dropdown-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;!-- Authentication --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-dropdown&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;!-- Hamburger --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;!-- Responsive Navigation Menu --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div :class=&quot;{&#x27;block&#x27;: open, &#x27;hidden&#x27;: ! open}&quot; class=&quot;hidden sm:hidden&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;!-- Responsive Settings Options --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;pt-4 pb-1 border-t border-gray-200&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div class=&quot;mt-3 space-y-1&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{-- Clientes --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-responsive-nav-link :href=&quot;route(&#x27;clients.index&#x27;)&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Clientes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-responsive-nav-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{-- Api Tokens --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-responsive-nav-link :href=&quot;route(&#x27;tokens.index&#x27;)&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Api Tokens</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-responsive-nav-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;!-- Authentication --&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/nav&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 52:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 52: Crear ruta&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-53-generar-access-token">Viedo 53. Generar Access Token<a href="#viedo-53-generar-access-token" class="hash-link" aria-label="Enlace directo al Viedo 53. Generar Access Token" title="Enlace directo al Viedo 53. Generar Access Token">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\tokens\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div id=&quot;app&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Access Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Aquí podrás generar un Access Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;col-span-6 sm:cok-span-4&quot;&gt;                        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div v-if=&quot;form.errors.length &gt; 0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            class=&quot;mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;strong class=&quot;font-bold&quot;&gt;Whoops!&lt;/strong&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;span&gt;¡Algo salio mal!&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;li v-for=&quot;error in form.errors&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{ error }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;                       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            Nombre</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;x-input v-model=&quot;form.name&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;/&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;actions&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;x-button v-on:click=&quot;store&quot; v-bind:disabled=&quot;form.disabled&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        Crear</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/x-button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    form: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        disabled: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.form.disabled = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/personal-access-tokens&#x27;, this.form)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.name = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.errors = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.errors = _.flatten(_.toArray(error.response.data.errors));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Generar un cliente de tipo personal:<!-- -->
<ul>
<li>$ php artisan passport<!-- -->:client<!-- --> --personal<!-- -->
<ul>
<li>What should we name the personal access client? [Laravel Personal Access Client]: <strong>(ENTER)</strong></li>
<li>Recuperar las credenciales:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Personal access client created successfully.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client ID: 94774625-6389-4b9d-9889-bc36d32fe1f8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client secret: rL74WnIH8UX7YUzmEZbPe6nu1B9eWyu4Cj6Kj2iE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Nota</strong>: No es estrictamente necesario almacenar estas credenciales, ya que el proyecto las tomará por defecto.</li>
</ul>
</li>
</ul>
</li>
<li>Commit Video 53:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 53: Generar Access Token&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-54-mostrar-access-token">Viedo 54. Mostrar Access Token<a href="#viedo-54-mostrar-access-token" class="hash-link" aria-label="Enlace directo al Viedo 54. Mostrar Access Token" title="Enlace directo al Viedo 54. Mostrar Access Token">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\tokens\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div id=&quot;app&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Crear Access Token --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Mostrar Access Token --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section v-if=&quot;tokens.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Lista de Access Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Aquí podrás encontrar todos los Access Token creados</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;table class=&quot;text-gray-600&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;thead class=&quot;border-b border-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;tr class=&quot;text-left&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;th class=&quot;py-2 w-full&quot;&gt;Nombre&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;th class=&quot;py-2&quot;&gt;Acción&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/thead&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;tbody class=&quot;divide-y divide-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;tr v-for=&quot;token in tokens&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;td class=&quot;py-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{ token.name }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;td class=&quot;flex divide-x divide-gray-300 py-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;a v-on:click=&quot;{{-- show(token) --}}&quot; class=&quot;pr-2 hover:text-green-600 font-semibold cursor-pointer&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        Ver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;a v-on:click=&quot;{{-- edit(token) --}}&quot; class=&quot;px-2 hover:text-blue-600 font-semibold cursor-pointer&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        Editar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;a class=&quot;pl-2 hover:text-red-600 font-semibold cursor-pointer&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        v-on:click=&quot;revoke(token)&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        Eliminar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/table&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    tokens: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    form: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        disabled: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getTokens();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getTokens(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.form.disabled = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/personal-access-tokens&#x27;, this.form)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.name = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.errors = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.getTokens();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.errors = _.flatten(_.toArray(error.response.data.errors));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    revoke(token){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        Swal.fire({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            title: &#x27;Are you sure?&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            text: &quot;You won&#x27;t be able to revert this!&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            icon: &#x27;warning&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            showCancelButton: true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            confirmButtonColor: &#x27;#3085d6&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            cancelButtonColor: &#x27;#d33&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            confirmButtonText: &#x27;Yes, delete it!&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        }).then((result) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            if (result.isConfirmed) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                axios.delete(&#x27;/oauth/personal-access-tokens/&#x27; + token.id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        this.getTokens();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Swal.fire(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Deleted!&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;Your file has been deleted.&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 54:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 54: Mostrar Access Token&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-55-mostrar-acces-token-ii">Viedo 55. Mostrar Acces token II<a href="#viedo-55-mostrar-acces-token-ii" class="hash-link" aria-label="Enlace directo al Viedo 55. Mostrar Acces token II" title="Enlace directo al Viedo 55. Mostrar Acces token II">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\tokens\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div id=&quot;app&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Crear Access Token --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Mostrar Access Token --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section v-if=&quot;tokens.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Lista de Access Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;x-slot name=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Aquí podrás encontrar todos los Access Token creados</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;table class=&quot;text-gray-600&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;thead class=&quot;border-b border-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;tr class=&quot;text-left&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;th class=&quot;py-2 w-full&quot;&gt;Nombre&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;th class=&quot;py-2&quot;&gt;Acción&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/thead&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;tbody class=&quot;divide-y divide-gray-300&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;tr v-for=&quot;token in tokens&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;td class=&quot;py-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{ token.name }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;td class=&quot;flex divide-x divide-gray-300 py-2&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;a v-on:click=&quot;show(token)&quot; class=&quot;pr-2 hover:text-green-600 font-semibold cursor-pointer&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        Ver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;a class=&quot;pl-2 hover:text-red-600 font-semibold cursor-pointer&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        v-on:click=&quot;revoke(token)&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        Eliminar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    &lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/table&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{-- Modal show --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-dialog-modal modal=&quot;showToken.open&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;title&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Mostrar access token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;content&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;space-y-2 overflow-auto&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;span class=&quot;font-semibold&quot;&gt;Access Token: &lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;span v-text=&quot;showToken.id&quot;&gt;&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/p&gt;         </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-slot name=&quot;footer&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;button v-on:click=&quot;showToken.open = false&quot; type=&quot;button&quot; class=&quot;w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Cancelar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-slot&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-dialog-modal&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    showToken: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        open: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        id: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getTokens();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getTokens(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    show(token){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.showToken.open = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.showToken.id = token.id;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    revoke(token){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                       ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 55:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 55: Mostrar Acces token II&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-12-scopes">Sección 12: Scopes<a href="#sección-12-scopes" class="hash-link" aria-label="Enlace directo al Sección 12: Scopes" title="Enlace directo al Sección 12: Scopes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-56-proteger-rutas-por-scopes">Viedo 56. Proteger rutas por scopes<a href="#viedo-56-proteger-rutas-por-scopes" class="hash-link" aria-label="Enlace directo al Viedo 56. Proteger rutas por scopes" title="Enlace directo al Viedo 56. Proteger rutas por scopes">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar el método <strong>boot</strong> del provider <strong>api.codersfree\app\Providers\AuthServiceProvider.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function boot()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Establecer los permisos de los tokens</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Passport::tokensCan([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;create-post&#x27; =&gt; &#x27;Crear un post&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;read-post&#x27; =&gt; &#x27;Leer un post&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;update-post&#x27; =&gt; &#x27;Actualziar un post&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;delete-post&#x27; =&gt; &#x27;Eliminar un post&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Permitir lectura a los post por defecto en todos los permisos</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Passport::setDefaultScope([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;read-post&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Con la intención de proteger las rutas, registrar los middelware de Laravel Passport en el kernel <strong>api.codersfree\app\Http\Kernel.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Passport\Http\Middleware\CheckScopes;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Laravel\Passport\Http\Middleware\CheckForAnyScope;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Kernel extends HttpKernel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    protected $routeMiddleware = [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;scopes&#x27; =&gt; CheckScopes::class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;scope&#x27; =&gt; CheckForAnyScope::class,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Proteger las rutas en el método <strong>__construct</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function __construct(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;auth:api&#x27;)-&gt;except([&#x27;index&#x27;, &#x27;show&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;scopes:read-post&#x27;)-&gt;only([&#x27;index&#x27;, &#x27;show&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;scopes:create-post&#x27;)-&gt;only([&#x27;store&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;scopes:update-post&#x27;)-&gt;only([&#x27;update&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;scopes:delete-post&#x27;)-&gt;only([&#x27;destroy&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 56:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 56: Proteger rutas por scopes&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-57-asignar-scopes-a-token-i">Viedo 57. Asignar scopes a token I<a href="#viedo-57-asignar-scopes-a-token-i" class="hash-link" aria-label="Enlace directo al Viedo 57. Asignar scopes a token I" title="Enlace directo al Viedo 57. Asignar scopes a token I">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Modificar la vista <strong>api.codersfree\resources\views\tokens\index.blade.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;x-app-layout&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div id=&quot;app&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-container class=&quot;py-8&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Crear Access Token --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section class=&quot;mb-12&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;div class=&quot;col-span-6 sm:cok-span-4&quot;&gt;                        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div v-if=&quot;form.errors.length &gt; 0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            class=&quot;mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;strong class=&quot;font-bold&quot;&gt;Whoops!&lt;/strong&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;span&gt;¡Algo salio mal!&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;li v-for=&quot;error in form.errors&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    @{{ error }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                Nombre</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;x-input v-model=&quot;form.name&quot; type=&quot;text&quot; class=&quot;w-full mt-1&quot;/&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;div v-if=&quot;scopes.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;x-label&gt;Scopes&lt;/x-label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;div v-for=&quot;scope in scopes&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                &lt;input type=&quot;checkbox&quot; name=&quot;scopes&quot; :value=&quot;scope.id&quot; v-model=&quot;form.scopes&quot;&gt;@{{scope.id}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- @{{form.scopes}} --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {{-- Mostrar Access Token --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;x-form-section v-if=&quot;tokens.length &gt; 0&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/x-form-section&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-container&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{-- Modal show --}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;x-dialog-modal modal=&quot;showToken.open&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/x-dialog-modal&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @push(&#x27;js&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new Vue({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                el: &quot;#app&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    tokens: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    scopes: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    form: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        name: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        scopes: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        errors: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        disabled: false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                mounted(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getTokens();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    this.getScopes();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                methods: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getScopes(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.get(&#x27;/oauth/scopes&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.scopes = response.data;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    getTokens(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    show(token){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    store(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        this.form.disabled = true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        axios.post(&#x27;/oauth/personal-access-tokens&#x27;, this.form)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            .then(response =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.name = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.errors = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.scopes = [];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.getTokens();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            }).catch(error =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.errors = _.flatten(_.toArray(error.response.data.errors));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                this.form.disabled = false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    revoke(token){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @endpush</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/x-app-layout&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 57:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 57: Asignar scopes a token I&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-58-asignar-scopes-a-token-ii">Viedo 58. Asignar scopes a token II<a href="#viedo-58-asignar-scopes-a-token-ii" class="hash-link" aria-label="Enlace directo al Viedo 58. Asignar scopes a token II" title="Enlace directo al Viedo 58. Asignar scopes a token II">​</a></h3>
<ol>
<li>Abrir el proyecto cliente <strong>codersfree</strong>:</li>
<li>Modificar el método <strong>setAccessToken</strong> del trait <strong>codersfree\app\Traits\token.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function setAccessToken($user, $service){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ])-&gt;post(&#x27;http://api.codersfree.test/oauth/token&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;grant_type&#x27; =&gt; &#x27;password&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_secret&#x27; =&gt; config(&#x27;services.codersfree.client_secret&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;username&#x27; =&gt; request(&#x27;email&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; request(&#x27;password&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /* &#x27;scope&#x27; =&gt; &#x27;create-post read-post update-post delete-post&#x27; */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /* Como en la línea comentada anteriormente incluimos todos los alcances del scope */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /* la línea siguiente es equivalente a la anterior comentada */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;scope&#x27; =&gt; &#x27;*&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $access_token = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user-&gt;accessToken()-&gt;create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;service_id&#x27; =&gt; $service[&#x27;data&#x27;][&#x27;id&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;access_token&#x27; =&gt; $access_token[&#x27;access_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;refresh_token&#x27; =&gt; $access_token[&#x27;refresh_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;expires_at&#x27; =&gt; now()-&gt;addSecond($access_token[&#x27;expires_in&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Modificar el métod <strong>resolveAuthorization</strong> del controlador <strong>codersfree\app\Http\Controllers\Controller.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function resolveAuthorization(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if(auth()-&gt;user()-&gt;accessToken-&gt;expires_at &lt;= now()){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $response = Http::withHeaders([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;Accept&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ])-&gt;post(&#x27;http://api.codersfree.test/oauth/token&#x27;, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;grant_type&#x27; =&gt; &#x27;refresh_token&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;refresh_token&#x27; =&gt; auth()-&gt;user()-&gt;accessToken-&gt;refresh_token,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;client_secret&#x27; =&gt; config(&#x27;services.codersfree.client_secret&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;scope&#x27; =&gt; &#x27;create-post read-post update-post delete-post&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $access_token = $response-&gt;json();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        auth()-&gt;user()-&gt;accessToken-&gt;update([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;access_token&#x27; =&gt; $access_token[&#x27;access_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;refresh_token&#x27; =&gt; $access_token[&#x27;refresh_token&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;expires_at&#x27; =&gt; now()-&gt;addSecond($access_token[&#x27;expires_in&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);           </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Abrir el proyecto <strong>cliente2</strong>.</li>
<li>Modificar le método <strong>redirect</strong> del controlador <strong>cliente2\app\Http\Controllers\OauthController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function redirect(Request $request){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $request-&gt;session()-&gt;put(&#x27;state&#x27;, $state = Str::random(40));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $query = http_build_query([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;client_id&#x27; =&gt; config(&#x27;services.codersfree.client_id&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;redirect_uri&#x27; =&gt; route(&#x27;callback&#x27;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;response_type&#x27; =&gt; &#x27;code&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;scope&#x27; =&gt; &#x27;create-post read-post update-post delete-post&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;state&#x27; =&gt; $state,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return redirect(&#x27;http://api.codersfree.test/oauth/authorize?&#x27;.$query);        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 58:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 58: Asignar scopes a token II&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sección-13-roles-y-permisos">Sección 13: Roles y permisos<a href="#sección-13-roles-y-permisos" class="hash-link" aria-label="Enlace directo al Sección 13: Roles y permisos" title="Enlace directo al Sección 13: Roles y permisos">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-59-instalar-laravel-permission">Viedo 59. Instalar Laravel Permission<a href="#viedo-59-instalar-laravel-permission" class="hash-link" aria-label="Enlace directo al Viedo 59. Instalar Laravel Permission" title="Enlace directo al Viedo 59. Instalar Laravel Permission">​</a></h3>
<ul>
<li><strong>URL Documentación Laravel Permission</strong>: <a href="https://spatie.be/docs/laravel-permission/v4/introduction" target="_blank" rel="noopener noreferrer">https://spatie.be/docs/laravel-permission/v4/introduction</a></li>
</ul>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Instalar Laravel Permission:<!-- -->
<ul>
<li>$ composer require spatie/laravel-permission</li>
</ul>
</li>
<li>Publicar la configuración y las migraciones de Laravel Permission:<!-- -->
<ul>
<li>$ php artisan vendor<!-- -->:publish<!-- --> --provider=&quot;Spatie\Permission\PermissionServiceProvider&quot;</li>
</ul>
</li>
<li>Limpiar la configuración del cache:<!-- -->
<ul>
<li>$ php artisan optimize<!-- -->:clear<!-- -->
ó</li>
<li>$ php artisan config<!-- -->:clear</li>
</ul>
</li>
<li>Ejecutar las migraciones:<!-- -->
<ul>
<li>$ php artisan migrate</li>
</ul>
</li>
<li>Incorporar el trait HasRoles al modelo <strong>api.codersfree\app\Models\User.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Spatie\Permission\Traits\HasRoles;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class User extends Authenticatable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use HasApiTokens, HasFactory, Notifiable, ApiTrait, HasRoles;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 59:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 59: Instalar Laravel Permission&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-60-asignar-roles-y-permisos">Viedo 60. Asignar roles y permisos<a href="#viedo-60-asignar-roles-y-permisos" class="hash-link" aria-label="Enlace directo al Viedo 60. Asignar roles y permisos" title="Enlace directo al Viedo 60. Asignar roles y permisos">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Crear seeder <strong>RoleSeeder</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:seeder<!-- --> RoleSeeder</li>
</ul>
</li>
<li>Implementar el método <strong>run</strong> del seeder <strong>api.codersfree\database\seeders\RoleSeeder.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function run()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $admin = Role::create([&#x27;name&#x27; =&gt; &#x27;admin&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $create_post = Permission::create([&#x27;name&#x27; =&gt; &#x27;create posts&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $edit_post = Permission::create([&#x27;name&#x27; =&gt; &#x27;edit posts&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $delete_post = Permission::create([&#x27;name&#x27; =&gt; &#x27;delete posts&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $admin-&gt;syncPermissions([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $create_post,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $edit_post,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $delete_post</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Importar los modelos <strong>Role</strong> y <strong>Permission</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Spatie\Permission\Models\Role;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Spatie\Permission\Models\Permission;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Asignar rol <strong>admin</strong> al usuario principal en el método <strong>run</strong> del seeder <strong>api.codersfree\database\seeders\UserSeeder.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function run()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user = User::create([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;name&#x27; =&gt; &#x27;Pedro Bazó&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;email&#x27; =&gt; &#x27;bazo.pedro@gmail.com&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;password&#x27; =&gt; bcrypt(&#x27;12345678&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $user-&gt;assignRole(&#x27;admin&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    User::factory(99)-&gt;create();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Incluir el seeder <strong>RoleSeeder</strong> en el mètodo <strong>run</strong> del seeder <strong>api.codersfree\database\seeders\DatabaseSeeder.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function run()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Storage::deleteDirectory(&#x27;posts&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Storage::makeDirectory(&#x27;posts&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;call(RoleSeeder::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;call(UserSeeder::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Category::factory(4)-&gt;create();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tag::factory(8)-&gt;create();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;call(PostSeeder::class);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Ejecutar nuevamente las migraciones junto a los seeders:<!-- -->
<ul>
<li>$ php artisan migrate<!-- -->:fresh<!-- --> --seed</li>
<li><strong>Nota</strong>: al generar nuevamente las migraciones, el cliente tipo <strong>password</strong> y el cliente tipo <strong>personal</strong> ya no existen, por tal motivo se tendrán que crear nuevamente.</li>
</ul>
</li>
<li>Generar nuevamente el cliente tipo <strong>password</strong>:<!-- -->
<ul>
<li>$ php artisan passport<!-- -->:client<!-- --> --password</li>
<li>What should we name the password grant client? [Laravel Password Grant Client]: <strong>(ENTER)</strong></li>
<li>Which user provider should this client use to retrieve users? [users]:
[0] users: <strong>(ENTER)</strong></li>
<li>Credenciales:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Password grant client created successfully.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client ID: 9477eda1-dc56-4076-a5ec-104ac46e8a65</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client secret: 5qLzeZgFi6pDr8GMAUvriYVVaFTnoQe7Gz0rvXdQ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Pasar las credenciales al proyecto <strong>codersfree</strong>:<!-- -->
<ul>
<li>Abrir el proyecto <strong>codersfree</strong>.</li>
<li>Reemplazar las credenciales del archivo de variables de entorno <strong>codersfree\.env</strong>:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_ID=&quot;9477eda1-dc56-4076-a5ec-104ac46e8a65&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CODERSFREE_CLIENT_SECRET=&quot;5qLzeZgFi6pDr8GMAUvriYVVaFTnoQe7Gz0rvXdQ&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Poner en cache los datos de configuración:<!-- -->
<ul>
<li>$ php artisan config<!-- -->:cache</li>
</ul>
</li>
<li>Reestablecer las migraciones:<!-- -->
<ul>
<li>$ php artisan migrate<!-- -->:fresh</li>
</ul>
</li>
</ul>
</li>
<li>Generar nuevamente el cliente tipo <strong>personal</strong>:<!-- -->
<ul>
<li>$ php artisan passport<!-- -->:client<!-- --> --personal</li>
<li>What should we name the personal access client? [Laravel Personal Access Client]: <strong>(ENTER)</strong></li>
<li>Credenciales:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Personal access client created successfully.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client ID: 9477f0e3-bbc5-417b-896b-485e2eba2196</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client secret: MkZvYFoijbDZRma7HcpDeO0ukOARnYgQTQhSjddo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li><strong>Nota</strong>: No es estrictamente necesario almacenar estas credenciales, ya que el proyecto las tomará por defecto.</li>
</ul>
</li>
<li>Commit Video 60:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 60: Asignar roles y permisos&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-61-proteger-rutas-con-roles-y-policies">Viedo 61. Proteger rutas con roles y policies<a href="#viedo-61-proteger-rutas-con-roles-y-policies" class="hash-link" aria-label="Enlace directo al Viedo 61. Proteger rutas con roles y policies" title="Enlace directo al Viedo 61. Proteger rutas con roles y policies">​</a></h3>
<ol>
<li>Abrir el proyecto <strong>api.codersfree</strong>.</li>
<li>Con la finalidad de proteger las rutas modificar el métdo <strong>__construct</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public function __construct(){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;auth:api&#x27;)-&gt;except([&#x27;index&#x27;, &#x27;show&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware(&#x27;scopes:read-post&#x27;)-&gt;only([&#x27;index&#x27;, &#x27;show&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware([&#x27;scopes:create-post&#x27;, &#x27;can:create posts&#x27;])-&gt;only([&#x27;store&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware([&#x27;scopes:update-post&#x27;, &#x27;can:edit posts&#x27;])-&gt;only([&#x27;update&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $this-&gt;middleware([&#x27;scopes:delete-post&#x27;, &#x27;can:delete posts&#x27;])-&gt;only([&#x27;destroy&#x27;]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Crear el policy <strong>PostPolicy</strong> para el modelo <strong>Post</strong>:<!-- -->
<ul>
<li>$ php artisan make<!-- -->:policy<!-- --> PostPolicy --model=Post</li>
</ul>
</li>
<li>Redefinir el policy <strong>api.codersfree\app\Policies\PostPolicy.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Policies;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Post;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\User;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Auth\Access\HandlesAuthorization;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class PostPolicy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use HandlesAuthorization;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function author(User $user, Post $post)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if ($post-&gt;user_id == $user-&gt;id) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return true;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }else{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return false;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Proteger los métodos <strong>update</strong> y <strong>destroy</strong> del controlador <strong>api.codersfree\app\Http\Controllers\Api\PostController.php</strong>:<!-- -->
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class PostController extends Controller</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function update(Request $request, Post $post)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Para proteger esta ruta se invoca al método authorize y se le</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // pasa como parámetros el nombre del policy y la instancia del post</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;authorize(&#x27;authos&#x27;, $post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $request-&gt;validate([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;name&#x27; =&gt; &#x27;required|max:255&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;slug&#x27; =&gt; &#x27;required|max:255|unique:posts,slug,&#x27; . $post-&gt;id,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;extract&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;body&#x27; =&gt; &#x27;required&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;category_id&#x27; =&gt; &#x27;required|exists:categories,id&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;user_id&#x27; =&gt; &#x27;required|exists:users,id&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $post-&gt;update($request-&gt;all());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return PostResource::make($post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ≡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function destroy(Post $post)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Para proteger esta ruta se invoca al método authorize y se le</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // pasa como parámetros el nombre del policy y la instancia del post</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;authorize(&#x27;authos&#x27;, $post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $post-&gt;delete();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return PostResource::make($post);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Commit Video 61:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 61: Proteger rutas con roles y policies&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viedo-62-despedida-del-curso">Viedo 62. Despedida del curso<a href="#viedo-62-despedida-del-curso" class="hash-link" aria-label="Enlace directo al Viedo 62. Despedida del curso" title="Enlace directo al Viedo 62. Despedida del curso">​</a></h3>
<ul>
<li><strong>Contenido</strong>: comentarios de lo aprendido durante el curso.</li>
</ul>
<ol>
<li>Commit Video 62:<!-- -->
<ul>
<li>$ git add .</li>
<li>$ git commit -m &quot;Video 62: Despedida del curso&quot;</li>
<li>$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="repositorios-de-interes">Repositorios de interes:<a href="#repositorios-de-interes" class="hash-link" aria-label="Enlace directo al Repositorios de interes:" title="Enlace directo al Repositorios de interes:">​</a></h2>
<ul>
<li><a href="https://github.com/coders-free/api.codersfree" target="_blank" rel="noopener noreferrer">https://github.com/coders-free/api.codersfree</a></li>
<li><a href="https://github.com/coders-free/cliente1" target="_blank" rel="noopener noreferrer">https://github.com/coders-free/cliente1</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="para-limpiar-configuración-y-reestablecer-el-cache">Para limpiar configuración y reestablecer el cache:<a href="#para-limpiar-configuración-y-reestablecer-el-cache" class="hash-link" aria-label="Enlace directo al Para limpiar configuración y reestablecer el cache:" title="Enlace directo al Para limpiar configuración y reestablecer el cache:">​</a></h2>
<ul>
<li>$ php artisan config<!-- -->:clear</li>
<li>$ php artisan config<!-- -->:cache</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="en-caso-de-no-permitir-compilar-algo">En caso de no permitir compilar algo:<a href="#en-caso-de-no-permitir-compilar-algo" class="hash-link" aria-label="Enlace directo al En caso de no permitir compilar algo:" title="Enlace directo al En caso de no permitir compilar algo:">​</a></h2>
<ul>
<li>$ php artisan clear-compiled</li>
<li>$ composer dumpautoload</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="peticiones-http-que-puede-responder-el-proyecto-apirestful">Peticiones http que puede responder el proyecto api.restful:<a href="#peticiones-http-que-puede-responder-el-proyecto-apirestful" class="hash-link" aria-label="Enlace directo al Peticiones http que puede responder el proyecto api.restful:" title="Enlace directo al Peticiones http que puede responder el proyecto api.restful:">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usuarios">Usuarios:<a href="#usuarios" class="hash-link" aria-label="Enlace directo al Usuarios:" title="Enlace directo al Usuarios:">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="registrar-un-usuario">Registrar un usuario:<a href="#registrar-un-usuario" class="hash-link" aria-label="Enlace directo al Registrar un usuario:" title="Enlace directo al Registrar un usuario:">​</a></h4>
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/register" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/register</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: name                      | Value: Pedro Bazó</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: email                     | Value: bazo.pedro@gmail.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: password                  | Value: 12345678</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: password_confirmation     | Value: 12345678</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="login-a-un-usuario">Login a un usuario:<a href="#login-a-un-usuario" class="hash-link" aria-label="Enlace directo al Login a un usuario:" title="Enlace directo al Login a un usuario:">​</a></h4>
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/login" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/login</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: email       | Value: bazo.pedro@gmail.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: password    | Value: 12345678</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permisos-de-accesos">Permisos de accesos:<a href="#permisos-de-accesos" class="hash-link" aria-label="Enlace directo al Permisos de accesos:" title="Enlace directo al Permisos de accesos:">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-token-para-un-usuario">Obtener token para un usuario:<a href="#obtener-token-para-un-usuario" class="hash-link" aria-label="Enlace directo al Obtener token para un usuario:" title="Enlace directo al Obtener token para un usuario:">​</a></h4>
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/oauth/token" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/oauth/token</a>
<ul>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: grant_type      | Value: password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: client_id       | Value: {Client ID del cliente tipo password}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: client_secret   | Value: {Client secret del cliente tipo password}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: username        | Value: {email del usuario a autorizar}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: password        | Value: {clave del usuario}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-autorización-por-cliente-tipo-password">Obtener autorización por cliente tipo password:<a href="#obtener-autorización-por-cliente-tipo-password" class="hash-link" aria-label="Enlace directo al Obtener autorización por cliente tipo password:" title="Enlace directo al Obtener autorización por cliente tipo password:">​</a></h4>
<ul>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept          | Value: application/json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Authorization   | Value: Bearer + (un espacio) + (access_token de la petición anterior sin las comillas dobles)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="categorías">Categorías:<a href="#categorías" class="hash-link" aria-label="Enlace directo al Categorías:" title="Enlace directo al Categorías:">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-las-categorías">Obtener las categorías:<a href="#obtener-las-categorías" class="hash-link" aria-label="Enlace directo al Obtener las categorías:" title="Enlace directo al Obtener las categorías:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="crear-una-categoría">Crear una categoría:<a href="#crear-una-categoría" class="hash-link" aria-label="Enlace directo al Crear una categoría:" title="Enlace directo al Crear una categoría:">​</a></h4>
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories</a></li>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: name    | Value: Categoría de prueba</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: slug    | Value: categoria-de-prueba</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-una-categoría">Obtener una categoría:<a href="#obtener-una-categoría" class="hash-link" aria-label="Enlace directo al Obtener una categoría:" title="Enlace directo al Obtener una categoría:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/%7Bid%7D" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/{id}</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="actualizar-una-categoría">Actualizar una categoría:<a href="#actualizar-una-categoría" class="hash-link" aria-label="Enlace directo al Actualizar una categoría:" title="Enlace directo al Actualizar una categoría:">​</a></h4>
<ul>
<li>Método: PUT</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/%7Bid%7D" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/{id}</a></li>
<li>Body:<!-- -->
<ul>
<li>Form-encode:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: name  | Value: Categoría de prueba actualizada</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: slug  | Value: categoria-de-prueba-actualizada</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="eliminar-una-categoría">Eliminar una categoría:<a href="#eliminar-una-categoría" class="hash-link" aria-label="Enlace directo al Eliminar una categoría:" title="Enlace directo al Eliminar una categoría:">​</a></h4>
<ul>
<li>Método: DELETE</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/%7Bid%7D" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/{id}</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-las-categorías-y-su-relación-con-los-posts">Obtener las categorías y su relación con los posts:<a href="#obtener-las-categorías-y-su-relación-con-los-posts" class="hash-link" aria-label="Enlace directo al Obtener las categorías y su relación con los posts:" title="Enlace directo al Obtener las categorías y su relación con los posts:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?included=posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?included=posts</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-las-categorías-y-su-relación-con-los-posts-y-el-autor-del-post">Obtener las categorías y su relación con los posts y el autor del post:<a href="#obtener-las-categorías-y-su-relación-con-los-posts-y-el-autor-del-post" class="hash-link" aria-label="Enlace directo al Obtener las categorías y su relación con los posts y el autor del post:" title="Enlace directo al Obtener las categorías y su relación con los posts y el autor del post:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?included=posts.user" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?included=posts.user</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-una-categoría-y-su-relación-con-los-posts">Obtener una categoría y su relación con los posts:<a href="#obtener-una-categoría-y-su-relación-con-los-posts" class="hash-link" aria-label="Enlace directo al Obtener una categoría y su relación con los posts:" title="Enlace directo al Obtener una categoría y su relación con los posts:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/%7Bid%7D?included=posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/{id}?included=posts</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-una-categoría-y-su-relación-con-los-posts-y-el-autor-del-post">Obtener una categoría y su relación con los posts y el autor del post:<a href="#obtener-una-categoría-y-su-relación-con-los-posts-y-el-autor-del-post" class="hash-link" aria-label="Enlace directo al Obtener una categoría y su relación con los posts y el autor del post:" title="Enlace directo al Obtener una categoría y su relación con los posts y el autor del post:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories/1?included=posts.user" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories/1?included=posts.user</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-las-categorías-filtradas">Obtener las categorías filtradas:<a href="#obtener-las-categorías-filtradas" class="hash-link" aria-label="Enlace directo al Obtener las categorías filtradas:" title="Enlace directo al Obtener las categorías filtradas:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?filter%5B%7BCampo1%7D%5D=%7BValor1%7D&amp;filter%5B%7BCampo2%7D%5D=%7BValor2%7D" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?filter[{Campo1}]={Valor1}&amp;filter[{Campo2}]={Valor2}</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-las-categorías-ordenadas">Obtener las categorías ordenadas:<a href="#obtener-las-categorías-ordenadas" class="hash-link" aria-label="Enlace directo al Obtener las categorías ordenadas:" title="Enlace directo al Obtener las categorías ordenadas:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?sort=%7BCampo1,Campo2%7D" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?sort={Campo1,Campo2}</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li><strong>Nota</strong>: Las categorías se ordenaran en orden ascendente, si se desea que se ordenen de manera descendente el campo debe ser precedido por el signo menos (-).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-las-categorías-paginadas">Obtener las categorías paginadas:<a href="#obtener-las-categorías-paginadas" class="hash-link" aria-label="Enlace directo al Obtener las categorías paginadas:" title="Enlace directo al Obtener las categorías paginadas:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/categories?perPage%7BRegistrosPorP%C3%A1gina%7D&amp;page=%7BP%C3%A1gina%7D" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/categories?perPage{RegistrosPorPágina}&amp;page={Página}</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="posts">Posts<a href="#posts" class="hash-link" aria-label="Enlace directo al Posts" title="Enlace directo al Posts">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-los-posts">Obtener los posts:<a href="#obtener-los-posts" class="hash-link" aria-label="Enlace directo al Obtener los posts:" title="Enlace directo al Obtener los posts:">​</a></h4>
<ul>
<li>Método: GET</li>
<li>URL: <a href="http://api.codersfree.test/v1/posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/posts</a></li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p><strong>Nota</strong>: para relacionar, ordenar, filtrar y paginar es análogo a como se hace para las categorías.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="registrar-un-post">Registrar un post:<a href="#registrar-un-post" class="hash-link" aria-label="Enlace directo al Registrar un post:" title="Enlace directo al Registrar un post:">​</a></h4>
<ul>
<li>Método: POST</li>
<li>URL: <a href="http://api.codersfree.test/v1/posts" target="_blank" rel="noopener noreferrer">http://api.codersfree.test/v1/posts</a>
<ul>
<li>Body:<!-- -->
<ul>
<li>Form:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: name        | Value: Título de prueba</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: slug        | Value: titulo-de-prueba</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: extract     | Value: Cualquier cosa</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: body        | Value: Cualquier cosa</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: category_id | Value: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Field name: user_id     | Value: 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
</ul>
</li>
<li>Headers:<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header: Accept  | Value: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/00laravel/cursos/apirestfull.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentos2024/docs/00laravel/cursos/laravel_passport"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Laravel 8 - Laravel Passort</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/documentos2024/docs/00laravel/cursos/laravel8_aws"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Laravel 8 en AWS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#antes-de-iniciar" class="table-of-contents__link toc-highlight">Antes de iniciar:</a></li><li><a href="#sección-01-introducción" class="table-of-contents__link toc-highlight">Sección 01: Introducción</a><ul><li><a href="#viedo-01-qué-es-una-api-restful" class="table-of-contents__link toc-highlight">Viedo 01. ¿Qué es una API RESTful?</a></li><li><a href="#viedo-02-programas-necesarios" class="table-of-contents__link toc-highlight">Viedo 02. Programas necesarios</a></li><li><a href="#viedo-03-repositorio-del-curso" class="table-of-contents__link toc-highlight">Viedo 03. Repositorio del curso</a></li></ul></li><li><a href="#sección-02-configuración" class="table-of-contents__link toc-highlight">Sección 02: Configuración</a><ul><li><a href="#viedo-04-creación-del-proyecto" class="table-of-contents__link toc-highlight">Viedo 04. Creación del proyecto</a></li><li><a href="#viedo-05-configurando-archivo-de-rutas" class="table-of-contents__link toc-highlight">Viedo 05. Configurando archivo de rutas</a></li><li><a href="#viedo-06-registro-de-usuarios" class="table-of-contents__link toc-highlight">Viedo 06. Registro de usuarios</a></li></ul></li><li><a href="#sección-3-estructura-del-proyecto" class="table-of-contents__link toc-highlight">Sección 3: Estructura del proyecto</a><ul><li><a href="#viedo-07-maquetar-la-bbdd" class="table-of-contents__link toc-highlight">Viedo 07. Maquetar la bbdd</a></li><li><a href="#viedo-08-crear-el-modelo-físico" class="table-of-contents__link toc-highlight">Viedo 08. Crear el modelo físico</a></li><li><a href="#viedo-09-generando-relaciones" class="table-of-contents__link toc-highlight">Viedo 09. Generando relaciones</a></li><li><a href="#viedo-10-introducir-datos-falsos" class="table-of-contents__link toc-highlight">Viedo 10. Introducir datos falsos</a></li><li><a href="#viedo-11-solucionando-posible-error-con-faker" class="table-of-contents__link toc-highlight">Viedo 11. Solucionando posible error con faker</a></li><li><a href="#viedo-12-generando-endpoints-para-categorias" class="table-of-contents__link toc-highlight">Viedo 12. Generando endpoints para categorias</a></li></ul></li><li><a href="#sección-4-query-scopes" class="table-of-contents__link toc-highlight">Sección 4: Query Scopes</a><ul><li><a href="#viedo-13-recibir-peticiones-y-generar-respuestas-para-el-recurso-category" class="table-of-contents__link toc-highlight">Viedo 13. Recibir peticiones y generar respuestas para el recurso Category</a></li><li><a href="#viedo-14-incluir-relaciones-de-los-recursos" class="table-of-contents__link toc-highlight">Viedo 14. Incluir relaciones de los recursos</a></li><li><a href="#viedo-15-filtrar-recursos" class="table-of-contents__link toc-highlight">Viedo 15. Filtrar recursos</a></li><li><a href="#viedo-16-ordenar-recursos" class="table-of-contents__link toc-highlight">Viedo 16. Ordenar recursos</a></li><li><a href="#viedo-17-paginar-recursos" class="table-of-contents__link toc-highlight">Viedo 17. Paginar recursos</a></li></ul></li><li><a href="#sección-5-transformar-respuestas" class="table-of-contents__link toc-highlight">Sección 5: Transformar respuestas</a><ul><li><a href="#viedo-18-crear-clase-de-recurso" class="table-of-contents__link toc-highlight">Viedo 18. Crear clase de recurso</a></li></ul></li><li><a href="#sección-6-recurso-posts" class="table-of-contents__link toc-highlight">Sección 6: Recurso Posts</a><ul><li><a href="#viedo-19-ampliar-la-funcionalidad-con-los-query-scopes-con-traits-de-php" class="table-of-contents__link toc-highlight">Viedo 19. Ampliar la funcionalidad con los query scopes con traits de PHP</a></li><li><a href="#viedo-20-recibir-peticiones-y-generar-respuestas-para-el-recurso-post" class="table-of-contents__link toc-highlight">Viedo 20. Recibir peticiones y generar respuestas para el recurso Post</a></li></ul></li><li><a href="#sección-7-laravel-passport" class="table-of-contents__link toc-highlight">Sección 7: Laravel Passport</a><ul><li><a href="#viedo-21-instalar-laravel-passport" class="table-of-contents__link toc-highlight">Viedo 21. Instalar Laravel Passport</a></li><li><a href="#viedo-22-instalar-laravel-passport-ii" class="table-of-contents__link toc-highlight">Viedo 22. Instalar Laravel Passport II</a></li></ul></li><li><a href="#sección-8-password-grant-client" class="table-of-contents__link toc-highlight">Sección 8: Password grant client</a><ul><li><a href="#viedo-23-solicitar-un-acces-token-desde-postman" class="table-of-contents__link toc-highlight">Viedo 23. Solicitar un acces token desde postman</a></li><li><a href="#viedo-24-instalar-laravel-breeze-en-el-cliente" class="table-of-contents__link toc-highlight">Viedo 24. Instalar laravel breeze en el cliente</a></li><li><a href="#viedo-25-crear-endpoint-para-hacer-login" class="table-of-contents__link toc-highlight">Viedo 25. Crear endpoint para hacer login</a></li><li><a href="#viedo-26-configurando-el-proyecto-del-cliente-parahacer-login" class="table-of-contents__link toc-highlight">Viedo 26. Configurando el proyecto del cliente parahacer login</a></li><li><a href="#viedo-27-iniciar-sesión-desde-el-cliente" class="table-of-contents__link toc-highlight">Viedo 27. Iniciar sesión desde el cliente</a></li><li><a href="#viedo-28-iniciar-sesión-desde-el-cliente-ii" class="table-of-contents__link toc-highlight">Viedo 28. Iniciar sesión desde el cliente II</a></li><li><a href="#viedo-29-registrar-usuario-desde-el-cliente" class="table-of-contents__link toc-highlight">Viedo 29. Registrar usuario desde el cliente</a></li><li><a href="#viedo-30-registrar-usuario-desde-el-cliente-ii" class="table-of-contents__link toc-highlight">Viedo 30. Registrar usuario desde el cliente II</a></li><li><a href="#viedo-31-proteger-credenciales" class="table-of-contents__link toc-highlight">Viedo 31. Proteger credenciales</a></li><li><a href="#viedo-32-trait-para-solicitar-un-acces-token" class="table-of-contents__link toc-highlight">Viedo 32. Trait para solicitar un acces token</a></li><li><a href="#viedo-33-mandar-acces-token-en-las-peticiones" class="table-of-contents__link toc-highlight">Viedo 33. Mandar acces token en las peticiones</a></li></ul></li><li><a href="#sección-9-gran-type-refresh-token" class="table-of-contents__link toc-highlight">Sección 9: Gran type refresh token</a><ul><li><a href="#viedo-34-solicitar-nuevo-token" class="table-of-contents__link toc-highlight">Viedo 34. Solicitar nuevo token</a></li><li><a href="#viedo-35-purgar-tokens" class="table-of-contents__link toc-highlight">Viedo 35. Purgar tokens</a></li></ul></li><li><a href="#sección-10-gran-type-authorization_code" class="table-of-contents__link toc-highlight">Sección 10: Gran type authorization_code</a><ul><li><a href="#viedo-36-instalar-laravel-breeze-en-nuestra-api" class="table-of-contents__link toc-highlight">Viedo 36. Instalar laravel breeze en nuestra api</a></li><li><a href="#viedo-37-crear-formulario-para-crear-nuevo-cliente" class="table-of-contents__link toc-highlight">Viedo 37. Crear formulario para crear nuevo cliente</a></li><li><a href="#viedo-38-volver-formulario-responsivo" class="table-of-contents__link toc-highlight">Viedo 38. Volver formulario responsivo</a></li><li><a href="#viedo-39-incluir-vue-y-axios-en-nuestro-proyecto" class="table-of-contents__link toc-highlight">Viedo 39. Incluir vue y axios en nuestro proyecto</a></li><li><a href="#viedo-40-registrar-nuevos-clientes" class="table-of-contents__link toc-highlight">Viedo 40. Registrar nuevos clientes</a></li><li><a href="#viedo-41-mostrar-listado-de-clientes" class="table-of-contents__link toc-highlight">Viedo 41. Mostrar listado de clientes</a></li><li><a href="#viedo-42-mostrar-mensajes-de-error" class="table-of-contents__link toc-highlight">Viedo 42. Mostrar mensajes de error</a></li><li><a href="#viedo-43-traducir-laravel" class="table-of-contents__link toc-highlight">Viedo 43. Traducir Laravel</a></li><li><a href="#viedo-44-eliminar-cliente" class="table-of-contents__link toc-highlight">Viedo 44. Eliminar cliente</a></li><li><a href="#viedo-45-editar-cliente-i" class="table-of-contents__link toc-highlight">Viedo 45. Editar cliente I</a></li><li><a href="#viedo-46-editar-cliente-ii" class="table-of-contents__link toc-highlight">Viedo 46. Editar cliente II</a></li><li><a href="#viedo-47-credenciales-del-cliente" class="table-of-contents__link toc-highlight">Viedo 47. Credenciales del cliente</a></li><li><a href="#viedo-48-crear-nuevo-proyecto-para-un-cliente-externo" class="table-of-contents__link toc-highlight">Viedo 48. Crear nuevo proyecto para un cliente externo</a></li><li><a href="#viedo-49-instalar-laravel-breeze-en-el-cliente-2" class="table-of-contents__link toc-highlight">Viedo 49. Instalar laravel breeze en el cliente 2</a></li><li><a href="#viedo-50-obtener-código-de-autorización" class="table-of-contents__link toc-highlight">Viedo 50. Obtener código de autorización</a></li><li><a href="#viedo-51-solicitar-acees-token" class="table-of-contents__link toc-highlight">Viedo 51. Solicitar Acees Token</a></li></ul></li><li><a href="#sección-11-personal-access-token" class="table-of-contents__link toc-highlight">Sección 11: Personal Access Token</a><ul><li><a href="#viedo-52-crear-ruta" class="table-of-contents__link toc-highlight">Viedo 52. Crear ruta</a></li><li><a href="#viedo-53-generar-access-token" class="table-of-contents__link toc-highlight">Viedo 53. Generar Access Token</a></li><li><a href="#viedo-54-mostrar-access-token" class="table-of-contents__link toc-highlight">Viedo 54. Mostrar Access Token</a></li><li><a href="#viedo-55-mostrar-acces-token-ii" class="table-of-contents__link toc-highlight">Viedo 55. Mostrar Acces token II</a></li></ul></li><li><a href="#sección-12-scopes" class="table-of-contents__link toc-highlight">Sección 12: Scopes</a><ul><li><a href="#viedo-56-proteger-rutas-por-scopes" class="table-of-contents__link toc-highlight">Viedo 56. Proteger rutas por scopes</a></li><li><a href="#viedo-57-asignar-scopes-a-token-i" class="table-of-contents__link toc-highlight">Viedo 57. Asignar scopes a token I</a></li><li><a href="#viedo-58-asignar-scopes-a-token-ii" class="table-of-contents__link toc-highlight">Viedo 58. Asignar scopes a token II</a></li></ul></li><li><a href="#sección-13-roles-y-permisos" class="table-of-contents__link toc-highlight">Sección 13: Roles y permisos</a><ul><li><a href="#viedo-59-instalar-laravel-permission" class="table-of-contents__link toc-highlight">Viedo 59. Instalar Laravel Permission</a></li><li><a href="#viedo-60-asignar-roles-y-permisos" class="table-of-contents__link toc-highlight">Viedo 60. Asignar roles y permisos</a></li><li><a href="#viedo-61-proteger-rutas-con-roles-y-policies" class="table-of-contents__link toc-highlight">Viedo 61. Proteger rutas con roles y policies</a></li><li><a href="#viedo-62-despedida-del-curso" class="table-of-contents__link toc-highlight">Viedo 62. Despedida del curso</a></li></ul></li><li><a href="#repositorios-de-interes" class="table-of-contents__link toc-highlight">Repositorios de interes:</a></li><li><a href="#para-limpiar-configuración-y-reestablecer-el-cache" class="table-of-contents__link toc-highlight">Para limpiar configuración y reestablecer el cache:</a></li><li><a href="#en-caso-de-no-permitir-compilar-algo" class="table-of-contents__link toc-highlight">En caso de no permitir compilar algo:</a></li><li><a href="#peticiones-http-que-puede-responder-el-proyecto-apirestful" class="table-of-contents__link toc-highlight">Peticiones http que puede responder el proyecto api.restful:</a><ul><li><a href="#usuarios" class="table-of-contents__link toc-highlight">Usuarios:</a></li><li><a href="#permisos-de-accesos" class="table-of-contents__link toc-highlight">Permisos de accesos:</a></li><li><a href="#categorías" class="table-of-contents__link toc-highlight">Categorías:</a></li><li><a href="#posts" class="table-of-contents__link toc-highlight">Posts</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/documentos2024/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/documentos2024/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Doc Soluciones++, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>